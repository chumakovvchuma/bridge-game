{"version":3,"sources":["webpack:///./src/helper/helper.js","webpack:///./src/firebase/firebase.js","webpack:///./src/firebase/config.js","webpack:///./src/components/shape/shape.js","webpack:///./src/components/constant.js","webpack:///./src/reducer/reducer.js","webpack:///./src/components/card.js","webpack:///./src/components/getCurrentMaxTrick.js","webpack:///./src/components/trick.js","webpack:///./src/components/socre.js","webpack:///./src/components/trickScore.js","webpack:///./src/components/scoreBoard.js","webpack:///./src/components/auctionList.js","webpack:///./src/components/auction.js","webpack:///./src/components/thumbnail.js","webpack:///./src/components/player.js","webpack:///./src/components/auctionResult.js","webpack:///./src/components/examineCards.js","webpack:///./src/components/getWinnerCard.js","webpack:///./src/components/playerReadyList.js","webpack:///./src/components/game.js","webpack:///./src/components/login.js","webpack:///./src/components/createTable.js","webpack:///./src/components/sidebar/recordItem.js","webpack:///./src/components/dotIndicator/dot.js","webpack:///./src/components/sidebar/gameRecord.js","webpack:///./src/components/sidebar/hand.js","webpack:///./src/components/sidebar/rewindAuction.js","webpack:///./src/components/sidebar/rewindResult.js","webpack:///./src/components/sidebar/gameRewind.js","webpack:///./src/components/chatroom.js","webpack:///./src/components/sidebar/sidebar.js","webpack:///./src/components/table.js","webpack:///./src/components/userState.js","webpack:///./src/components/header.js","webpack:///./src/components/openTables.js","webpack:///./src/components/playingTables.js","webpack:///./src/components/lobby.js","webpack:///./src/components/loading.js","webpack:///./src/components/signUp.js","webpack:///./src/index.js","webpack:///./src/images/logo.png","webpack:///./src/images/open.svg","webpack:///./src/images/play.svg"],"names":["getRandomKey","n","arguments","length","undefined","letter","Array","from","fill","map","w","Math","floor","random","join","getRandomInt","min","max","firebaseApp","a","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","app","db","database","auth","onAuthChanged","callback","onAuthStateChanged","user","console","log","getNodeByPathOnce","path","action","ref","on","getNodeByPath","pushDataByPath","data","push","cancelListenDataChange","off","listenPathChildren","setNodeByPath","set","getDataByPathOnce","once","getNewChildKey","node","child","key","updateTableDataByID","id","updateTableGameDataByPath","game","setTableListData","shape_Heart","_ref","scale","_ref$fill","react_default","createElement","shape_SvgContainer","ratio","d","shape_Spade","_ref2","_ref2$fill","shape_Diamond","_ref3","_ref3$fill","points","shape_Club","_ref4","_ref4$fill","_ref5","children","width","height","viewBox","transform","CARD_NUM","SUIT_SHAPE","0","1","2","3","4","CARD_RANK","DEFAULT_GAME","deal","bid","isDb","isRdb","trick","trump","order","isGameOver","PLAYERS","GAME_STATE","TAB_OPTION","DIRECTION","Emoji","dispatch","type","store","Object","assign","redux","state","uid","userInfo","userList","isInTablePage","isLoad","tables","chatroom","table","updatedTables","currentTableId","tableList","currentUser","es","reducer_dispatchToDatabase","timeStamp","Date","getTime","players","slice","newPlayerInfo","uidKey","displayName","tableKey","linkId","tableRef","newTable","gameState","playerInfo","C1-robot","C2-robot","C3-robot","-1","ready","tableData","record","playerIndex","cards","newGame","targetCardIndex","findIndex","card","value","winnerCard","winner","isWin","player","targetCardInex","currentCard","maxTrick","color","emptySeatIndex","updatePlayers","message","time","newMessage","isPlayer","some","content","val","snapshot","card_TrickCard","className","card_Card","flipUp","_ref2$evt","evt","_ref2$name","name","kind","wrapperName","onClick","getCurrentMaxTrick","apply","_toConsumableArray","components_trick","Trick","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","call","fadeOutCards","Component","prevProps","_this2","setTimeout","setState","direction","_props","cardsByPlayer","isTrickFinish","currentTrick","hand","index","trickCards","sort","cardA","cardB","userHand","filter","teamScore","teamA","teamB","winningScore","trickScore","TrickScore","trickScore_classCallCheck","trickScore_possibleConstructorReturn","windowWidth","windowHeight","score","_players","_slicedToArray","player1","player2","player3","player4","innerStyle","resizeRatio","thumbnailStyle","thumbnailSize","style","minWidth","scoreBoard","ScoreBoard","scoreBoard_classCallCheck","scoreBoard_possibleConstructorReturn","recordGame","bind","_props$table","scoreTeamOne","scoreTeamTwo","result","resultWords","indexOf","_game$bid","declarer","targetTrick","widnowHeight","auctionList_AuctionList","resultsNum","ceil","res","re","j","resultItem","opt","components_auction","Auction","auction_classCallCheck","auction_possibleConstructorReturn","visibility","current","updateBid","validateUserTurnAndsetTrump","newBid","isFinishAuction","isAllPass","every","hasValidTrump","_this3","_props2","isCurrentUser","trickOpt","trumpOpt","allTrickOpt","selectedTrump","DoubleBtn","ReDoubleBtn","playerThumbnails","thumbnail_Thumbnail","_ref$name","_ref$size","size","_ref$src","src","img","borderRadius","thumbnail_ThumbailGroup","teamOrder","members","player_Player","_ref$current","auctionResult_AuctionResult","_React$Component","AuctionResult","auctionResult_classCallCheck","auctionResult_possibleConstructorReturn","auctionResult_inherits","auctionResult_createClass","top","right","mapToFourHands","userIndex","i","examineCards_getRandomCards","randomIndex","validateShuffle","examineCards_fourHands","reduce","sum","getWinnerCard_findMaxValueByTrump","arr","list","item","getWinnerCard_getWinnerCard","cardValue","cardsMatchCurrentTrick","noTrumpCards","first","getWinnerCard_toConsumableArray","_cardsMatchCurrentTri","firstHand","getWinnerCard_slicedToArray","tmp","trumpRef","playerReadyList","PlayerReadyList","playerReadyList_classCallCheck","playerReadyList_possibleConstructorReturn","setReadyState","isEmptySeat","seat","isAllPlayerReady","playBtns","thumbnails","playerName","currentUserCanPlay","includes","components_game","Game","game_classCallCheck","game_possibleConstructorReturn","endAuction","window","innerWidth","innerHeight","getNextMaxTrick","shuffle","suffleCardsWhenReady","handleResize","getAuctionStatus","addEventListener","removeEventListener","oldTable","game_toConsumableArray","maxTrickNum","shuffleCards","isEndOfCurrentTrick","isDummyMode","hands","offsetIndex","examineCards_toConsumableArray","offsetPlayers","getOffsetDatabyCurrentUser","flipIndex","currentTurnPlayer","isCurrentUserPlayer","playerHand","playerHandIndex","b","display","mapResult","dislayList","flat","totalLen","mid","threeRow","mapFlipDownCards","firstCard","PLAYER_NUM","examineCards_getFirstCard","hasFollowSameSuit","examineCards_hasSameSuitWithFirstCard","cardsInHand","each","declarerIndex","dummyPlayer","declarerPlayer","isValidCard","canBeClick","allowClickEvt","totalCardsInHand","suit","len","totalSuitType","sidebarWidth","horCardStyle","left","verCardStyle","suitNum","getHandHeight","isAllReady","startGame","bottom","login","Login","login_classCallCheck","login_possibleConstructorReturn","redirect","email","password","handleName","handleLogin","_state","signInWithEmailAndPassword","then","catch","err","error","e","target","_this4","Redirect","to","placeholder","onChange","currentTarget","CreateTable","createTable_classCallCheck","createTable_possibleConstructorReturn","sidebar_recordItem","RecordItem","recordItem_classCallCheck","recordItem_possibleConstructorReturn","changeRecord","dot_Dot","page","changePage","gameRecord","GameRecord","gameRecord_classCallCheck","gameRecord_possibleConstructorReturn","recordList","dots","dotsNum","concat","start","end","recordItem","currentRecord","dotItem","hand_Hand","displaySuit","rewindAuction_RewindAuction","rewindResult_RewindResult","gameRewind","GameRewind","gameRewind_classCallCheck","gameRewind_possibleConstructorReturn","_props$record","fourHands","components_chatroom","Chatroom","chatroom_classCallCheck","chatroom_possibleConstructorReturn","sendMessage","handleChange","handleKeyPress","addEmoji","msgEnd","emoji","scrollToBottom","scrollIntoView","behavior","messageList","emojiList","emj","viewers","keys","isCurrentUserAPlayer","symbol","backgroundColor","msg","el","float","clear","rows","col","onKeyPress","sidebar","Sidebar","sidebar_classCallCheck","sidebar_possibleConstructorReturn","tab","handleTab","options","domRecord","domChatroom","currentTabContent","components_table","Table","table_classCallCheck","table_possibleConstructorReturn","updateTableData","match","params","getUserAuthInfo","redirectToLogin","addPlayerToTable","randomColor_default","Promise","resolve","reject","alreadyAPlayer","alreadyAViewer","Boolean","targetTable","userState","UserState","userState_classCallCheck","userState_possibleConstructorReturn","isOpen","handleSignOut","closePanel","signOut","Link","components_header","Header","header_classCallCheck","header_possibleConstructorReturn","updateHeader","rightTopCorner","userProfile","registerBtns","logo_default","openTables","OpenTables","openTables_classCallCheck","openTables_possibleConstructorReturn","createTable","setCurrentTable","tableLinks","emptySeats","openBtn","title","components_playingTables","playingTables_classCallCheck","playingTables_possibleConstructorReturn","_props$tableList$key","playerList","playerKey","components_lobby","Lobby","lobby_classCallCheck","lobby_possibleConstructorReturn","open_default","open","play_default","loading","Loading","loading_classCallCheck","loading_possibleConstructorReturn","signUp","SignUp","signUp_classCallCheck","signUp_possibleConstructorReturn","confirm","agreement","handleSignUp","createUserWithEmailAndPassword","updateUserInfo","updateProfile","src_App","App","src_classCallCheck","src_possibleConstructorReturn","getState","update","stopLoading","unSubscribe","subscribe","pathName","location","pathname","HashRouter","isLogin","Route","exact","render","_extends","react_dom_default","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"main.13b3.js","sourcesContent":["export const getKeywordFromURL = () => {\n  let urlLocation = window.location.search,\n    index = urlLocation.search(/=/g);\n  if (!urlLocation) return \"\";\n  return urlLocation.slice(index + 1, urlLocation.length);\n};\n\nexport const getKeywordObjFromURL = () => {\n  let keyword = getKeywordFromURL();\n  let urlLocation = window.location.search,\n    index = urlLocation.search(/=/g);\n  return {\n    key: urlLocation.slice(1, index),\n    value: getKeywordFromURL()\n  };\n};\n\nexport const getRandomKey = (n = 8) => {\n  let letter = \"abcdefghijklmnopqrstuvxyzABCDEFGHIJKLMNOPQRSTUVXYZ\";\n  return Array.from({length: n})\n    .fill(0)\n    .map(w => letter[Math.floor(Math.random() * (letter.length - 1))])\n    .join(\"\");\n};\n\nexport const getObj = (key, value) => {\n  let newObj = {};\n  newObj[key] = value;\n  return Object.assign({}, newObj);\n};\n\nexport const getRandomInt = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nexport const getObjSortKey = obj => {\n  if (!obj) {\n    return null;\n  }\n  return Object.keys(obj).sort((a, b) => a < b);\n};\n","import firebase from \"firebase\";\nimport {config} from \"./config.js\";\n\nexport const firebaseApp = firebase.initializeApp(config);\n\nexport const app = {\n  db: firebaseApp.database(),\n  auth: firebaseApp.auth(),\n  onAuthChanged: callback => {\n    firebaseApp.auth().onAuthStateChanged(user => {\n      if (user) {\n        callback(user);\n      } else {\n        console.log(\"no one login\");\n      }\n    });\n  },\n  getNodeByPathOnce: (path, action) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .on(\"value\", action);\n  },\n  getNodeByPath: (path, action) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .on(\"value\", action);\n  },\n  pushDataByPath: (path, data) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .push(data);\n  },\n  cancelListenDataChange: (path, action) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .off(\"value\", action);\n  },\n  listenPathChildren: (path, action) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .off(\"value\");\n  },\n  setNodeByPath: (path, data) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .set(data);\n  },\n  getDataByPathOnce: (path, action) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .once(\"value\", action);\n  },\n  getNewChildKey: node => {\n    return firebaseApp\n      .database()\n      .ref()\n      .child(node)\n      .push().key;\n  },\n  updateTableDataByID: (id, data) => {\n    firebaseApp\n      .database()\n      .ref(`tables/${id}/`)\n      .set(data);\n  },\n  updateTableGameDataByPath: (path, game) => {\n    firebaseApp\n      .database()\n      .ref(\"tables/\" + path)\n      .set(game);\n  },\n  setTableListData: (id, data) => {\n    firebaseApp\n      .database()\n      .ref(`tableList/${id}/`)\n      .set(data);\n  }\n};\n","export const config = {\n  apiKey: \"AIzaSyDsmWxFexrd890dUvpA313qvxvcjDRp1Ok\",\n  authDomain: \"wowbridge88.firebaseapp.com\",\n  databaseURL: \"https://wowbridge88.firebaseio.com\",\n  projectId: \"wowbridge88\",\n  storageBucket: \"wowbridge88.appspot.com\",\n  messagingSenderId: \"862342003288\"\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nlet redColor = \"#FF525D\";\nlet blackColor = \"#222222\";\n\nexport const Heart = ({scale, fill = \"#FF525D\"}) => {\n  return (\n    <SvgContainer scale={scale} ratio={0.89} fill={fill}>\n      <path d=\"M70.9643211,0 C59.2565148,0 53.056072,5.64335169 49.9709368,10.1546618 C46.889795,5.64335169 40.6986702,0 29.0152682,0 C15.0405332,0 0,9.29808951 0,29.7129874 C0,37.7588224 1.74734105,44.1438566 5.84192287,51.0638602 C9.82779506,57.7993304 18.2685439,66.1002296 30.9298889,75.7372219 C35.8715185,79.4984213 40.4235682,82.6625486 43.3724836,84.6547112 C49.0391399,88.4833363 49.2609963,88.5228158 49.9456452,88.5232594 C49.9802548,88.5241466 50.0135332,88.5245902 50.0468117,88.5245902 C50.6941887,88.5245902 51.1401201,88.3183208 56.5574098,84.6764471 C59.5081,82.6922691 64.0641431,79.5401188 69.0102098,75.7873476 C81.6870849,66.1698733 90.1513504,57.851674 94.1682825,51.0643038 C98.2557649,44.1571643 100,37.7712429 100,29.713431 C100,9.29808951 84.9488177,0 70.9643211,0 Z\" />\n    </SvgContainer>\n  );\n};\n\nexport const Spade = ({scale, fill = \"#222\"}) => {\n  return (\n    <SvgContainer scale={scale} ratio={1} fill={fill}>\n      <path\n        d=\"M88.5085925,35.4545714 C84.7618726,29.0791639 76.8279859,21.2225289 64.9275728,12.1017285 C60.2811897,8.54098888 56.0030971,5.54662558 53.2315338,3.66150342 C47.8489868,0 47.6921609,0 47.0310732,0 C46.3716539,0 46.2152451,0 40.8347835,3.64219036 C38.0615518,5.52017509 33.7788713,8.50362231 29.1295686,12.0555451 C17.2145573,21.1574523 9.25814768,29.0300415 5.48264861,35.4541516 C1.63958096,41.9928804 0,48.0361874 0,55.6623252 C0,74.9846174 14.1481113,83.785073 27.2935382,83.785073 C33.059808,83.785073 37.4025496,82.3177007 40.6500126,80.3074635 L37.0551136,94 L56.8014075,94 L53.1693874,80.1668141 C56.4343682,82.2488454 60.8367536,83.785073 66.7252308,83.785073 C79.8614817,83.785073 94,74.9846174 94,55.6623252 C94,48.0475233 92.3579165,42.0042164 88.5085925,35.4545714 Z\"\n        fill={fill}\n      />\n    </SvgContainer>\n  );\n};\n\nexport const Diamond = ({scale, fill = \"#FF525D\"}) => {\n  let w = 93,\n    h = 100;\n  return (\n    <SvgContainer scale={scale} ratio={1} fill={fill}>\n      <polygon\n        points={`${w / 2} 0 0 ${h / 2} ${w / 2} ${h} ${w} ${h / 2}`}\n      />\n    </SvgContainer>\n  );\n};\n\nexport const Club = ({scale, fill = \"#222\"}) => {\n  return (\n    <SvgContainer scale={scale} ratio={0.98} fill={fill}>\n      <path\n        d=\"M70.3555185,31.9345189 C71.174537,29.4903991 71.587963,26.9404062 71.587963,24.3163882 C71.587963,10.9083748 60.5577593,0 47,0 C33.4422407,0 22.412037,10.9083748 22.412037,24.3163882 C22.412037,26.9404062 22.825463,29.4903991 23.6444815,31.9345189 C10.5223426,32.426872 0,43.137703 0,56.2332616 C0,69.641275 11.0302037,80.5496498 24.587963,80.5496498 C30.872037,80.5496498 36.6116944,78.2040867 40.9631111,74.3539201 L35.6686481,92.1010101 L58.1820833,92.1010101 L52.8323519,74.1692877 C57.2077037,78.12834 63.0287407,80.5496498 69.412037,80.5496498 C82.9697963,80.5496498 94,69.641275 94,56.2332616 C94,43.137703 83.4776574,32.426872 70.3555185,31.9345189 Z\"\n        fill={fill}\n      />\n    </SvgContainer>\n  );\n};\n\nconst SvgContainer = ({children, ratio, scale, fill}) => {\n  let width = scale * 100,\n    height = Math.floor(width * ratio);\n  return (\n    <div>\n      <svg\n        width={`${width}px`}\n        height={`${height}px`}\n        viewBox={`0 0 ${width} ${height}`}>\n        <g fill={fill} transform={`scale(${scale})`}>\n          {children}\n        </g>\n      </svg>\n    </div>\n  );\n};\n","import React from \"react\";\nimport {Heart, Spade, Diamond, Club} from \"./shape/shape.js\";\nexport const CARD_NUM = {\n  TOTAL: 52,\n  SUITS: 4,\n  HAND: 13\n};\n\nexport const PLAYER_NUM = 4;\nexport const EMPTY_SEAT = -1;\nexport const NO_TRUMP = 4;\nexport const BID_NUM = [1, 2, 3, 4, 5, 6, 7];\n\nexport const SUIT_SHAPE = {\n  0: (scale, fill) => <Club scale={scale} fill={fill} />,\n  1: (scale, fill) => <Diamond scale={scale} fill={fill} />,\n  2: (scale, fill) => <Heart scale={scale} fill={fill} />,\n  3: (scale, fill) => <Spade scale={scale} fill={fill} />,\n  4: scale => <div>NT</div>\n};\n\nexport const CARD_RANK = [2, 3, 4, 5, 6, 7, 8, 9, 10, \"J\", \"Q\", \"K\", \"A\"];\n\nexport const DEFAULT_GAME = {\n  deal: 0,\n  bid: {\n    isDb: false,\n    isRdb: false,\n    trick: 0,\n    trump: -1\n  },\n  order: -1,\n  isGameOver: false\n};\n\nexport const PLAYERS = [EMPTY_SEAT, EMPTY_SEAT, EMPTY_SEAT, EMPTY_SEAT];\nexport const GAME_STATE = {\n  join: \"join\",\n  auction: \"auction\",\n  playing: \"playing\",\n  gameover: \"gameover\"\n};\n\nexport const TAB_OPTION = [\"Chat\", \"Result\"];\n\nexport const DIRECTION = [\"south\", \"west\", \"north\", \"east\"];\n\nexport const Emoji = [\n  \"🤔\",\n  \"🤣\",\n  \"🤩\",\n  \"😝\",\n  \"😍\",\n  \"😵\",\n  \"🙄\",\n  \"🤭\",\n  \"😱\",\n  \"🤷\",\n  \"👍\",\n  \"👎\",\n  \"👯\",\n  \"👀\",\n  \"🐷\",\n  \"🎉\",\n  \"🎃\",\n  \"🍺\",\n  \"🔥\",\n  \"🛁\"\n];\n","import {createStore, applyMiddleware} from \"redux\";\nimport thunk from \"redux-thunk\";\nimport {app, firebaseApp} from \"../firebase/firebase.js\";\nimport {getObj} from \"../helper/helper.js\";\nimport {\n  GAME_STATE,\n  EMPTY_SEAT,\n  DEFAULT_GAME,\n  PLAYERS\n} from \"../components/constant.js\";\n\nexport const dispatch = (type, action) =>\n  store.dispatch(Object.assign({}, {type: type}, action));\nexport const appReducer = (state, action) => {\n  switch (action.type) {\n    case \"UPDATE_USER_INFO\": {\n      return Object.assign({}, state, {\n        user: action.user,\n        uid: action.uid,\n        userInfo: action.userInfo\n      });\n    }\n    case \"UPDATE_USER_LIST\": {\n      return Object.assign({}, state, {\n        userList: action.userList\n      });\n    }\n    case \"SET_CURRENT_HEADER\": {\n      return Object.assign({}, state, {\n        isInTablePage: action.isInTablePage\n      });\n    }\n    case \"STOP_LOADING\": {\n      return Object.assign({}, state, {isLoad: action.isLoad});\n    }\n    case \"FETCH_TABLE_DATA\": {\n      // tables is an array, query table by index\n      return Object.assign({}, state, {tables: action.tables});\n    }\n    case \"UPDATE_CHAT_ROOM\": {\n      return Object.assign({}, state, {chatroom: action.chatroom});\n    }\n    case \"UPDATE_TABLE_DATA\": {\n      let {id, table} = action;\n      let tables = state.tables;\n      let updatedTables = Object.assign({}, tables);\n      updatedTables[id] = table;\n      return Object.assign({}, state, {tables: updatedTables});\n    }\n    case \"UPDATE_CURRENT_TABLE_ID\": {\n      console.log(\"in update current table id, reducer\");\n      return Object.assign({}, state, {\n        currentTableId: action.currentTableId\n      });\n    }\n    case \"FETCH_TABLE_LIST\": {\n      // tables is an array, query table by index\n      return Object.assign({}, state, {tableList: action.tableList});\n    }\n    default:\n      return state;\n  }\n};\n\nexport const store = createStore(\n  appReducer,\n  {\n    currentUser: null,\n    isLoad: false,\n    tables: {},\n    isInTablePage: false,\n    currentTableId: null\n  },\n  applyMiddleware(thunk)\n);\n\nexport const dispatchToDatabase = (type, action) => {\n  switch (type) {\n    case \"CREATE_USER\": {\n      app.setNodeByPath(`/users/${action.uid}`, action.userInfo);\n      break;\n    }\n    case \"CREATE_TABLE\": {\n      let {currentUser} = action;\n      if (!action.currentUser.uid) {\n        console.log(\"user is not login\");\n        return;\n      }\n      let timeStamp = new Date().getTime();\n      let players = PLAYERS.slice(0);\n      let newPlayerInfo = {};\n      let uidKey = `${currentUser.uid}`;\n      newPlayerInfo[uidKey] = {displayName: currentUser.displayName};\n      players[0] = action.currentUser.uid;\n      let tableKey = app.getNewChildKey(\"tables\");\n      let linkId = action.tableRef || timeStamp;\n      let newTable = {\n        timeStamp: linkId,\n        gameState: GAME_STATE.join,\n        id: tableKey,\n        linkId: linkId,\n        game: DEFAULT_GAME,\n        playerInfo: Object.assign(\n          {},\n          {\n            \"C1-robot\": {displayName: \"C1-robot\"},\n            \"C2-robot\": {displayName: \"C2-robot\"},\n            \"C3-robot\": {displayName: \"C3-robot\"},\n            \"-1\": {displayName: \"\"}\n          },\n          newPlayerInfo\n        ),\n        players: players,\n        ready: [false, false, false, false]\n      };\n      app.setNodeByPath(`tables/${tableKey}`, newTable);\n      app.setTableListData(linkId, {\n        id: tableKey,\n        playerInfo: Object.assign(\n          {},\n          {\n            \"C1-robot\": {displayName: \"C1-robot\"},\n            \"C2-robot\": {displayName: \"C2-robot\"},\n            \"C3-robot\": {displayName: \"C3-robot\"},\n            \"-1\": {displayName: \"\"}\n          },\n          newPlayerInfo\n        )\n      });\n      break;\n    }\n\n    case \"CREATE_NEW_GAME\": {\n      let {table} = action;\n      let tableData = Object.assign({}, table);\n      let {record, game} = tableData;\n      if (record) {\n        record.push(game);\n      } else {\n        record = [game];\n      }\n      // reset table\n      tableData.record = record;\n      tableData.game = Object.assign({}, DEFAULT_GAME);\n      tableData.ready = [false, false, false, false];\n      tableData.timeStamp = new Date().getTime();\n      tableData.gameState = GAME_STATE.join;\n      app.updateTableDataByID(tableData.id, tableData);\n      break;\n    }\n    case \"READY_A_PLAYER\": {\n      let {table, playerIndex} = action;\n      let path = `tables/${table.id}/ready/${playerIndex}`;\n      app.setNodeByPath(path, true);\n      // updateTimer\n      app.updateTableGameDataByPath(\n        `${table.id}/timeStamp/`,\n        new Date().getTime()\n      );\n      break;\n    }\n    case \"ADD_NEW_DECK_TO_TABLE\": {\n      // todo, use high order function to wrap this\n      // create a game\n      let {cards, table} = action;\n      let newGame = Object.assign({}, table.game, {\n        cards: cards\n      });\n\n      app.updateTableDataByID(`${table.id}/game/`, newGame);\n      break;\n    }\n    case \"UPDATE_WINNER_CARD\": {\n      // todo, use high order function to wrap this\n      let {table} = action;\n      let game = Object.assign({}, table.game);\n\n      let cards = game.cards;\n      game.order = action.order;\n\n      // update which player will draw first\n      let targetCardIndex = cards.findIndex(\n        card => card.value === action.winnerCard.value\n      );\n      let winner = action.winnerCard;\n      winner.isWin = true;\n      game.deal = winner.player;\n      cards[targetCardIndex] = winner;\n      // 51 means the index in the card array , the n-52 cards is given\n      if (action.order === 51) {\n        game.isGameOver = true;\n      }\n      app.updateTableDataByID(`${table.id}/game/`, game);\n      break;\n    }\n    case \"UPDATE_CURRENT_TRICK\": {\n      // update this is how many trick players have been draw\n\n      let {table, order, deal} = action;\n      let {game} = table;\n      app.updateTableGameDataByPath(`${table.id}/game/order/`, order);\n\n      let cards = game.cards;\n\n      let targetCardInex = cards.findIndex(\n        card => card.value === action.value\n      );\n\n      let currentCard = cards[targetCardInex];\n      currentCard.order = order;\n\n      // update deal order, who can draw card next\n      app.updateTableGameDataByPath(`${table.id}/game/deal/`, deal);\n      app.updateTableGameDataByPath(\n        `${table.id}/timeStamp/`,\n        new Date().getTime()\n      );\n\n      // this card has been draw in nth trick\n      // set current trick number to this card\n      if (currentCard.trick === 0) {\n        // update trick to current nth trick, e.g. players have play 4 tricks\n        // so far, the maxTrick will be 5\n        currentCard.trick = action.maxTrick;\n        // record who has this card\n        currentCard.player = (deal + 4 - 1) % 4;\n\n        app.updateTableGameDataByPath(\n          `${table.id}/game/cards/${targetCardInex}`,\n          currentCard\n        );\n      }\n      break;\n    }\n    case \"ADD_VIEWER_TO_TABLE\": {\n      let {currentUser, table, color} = action;\n      let {linkId, id} = table;\n      app.setNodeByPath(`tables/${id}/viewers/${currentUser.uid}`, color);\n      // app.updateTableGameDataByPath(\n      //   `${id}/timeStamp/`,\n      //   new Date().getTime()\n      // );\n      // if anyone join this table, update data to table list\n      break;\n    }\n    case \"ADD_PLAYER_TO_TABLE\": {\n      let {currentUser, table, emptySeatIndex, color} = action;\n      let {linkId, id, players} = table;\n\n      app.setNodeByPath(\n        `tables/${id}/players/${emptySeatIndex}`,\n        currentUser.uid\n      );\n      app.setNodeByPath(`tables/${id}/playerInfo/${currentUser.uid}`, {\n        displayName: currentUser.displayName\n      });\n      app.setNodeByPath(`tables/${id}/viewers/${currentUser.uid}`, color);\n      // if anyone join this table, update data to table list\n      let updatePlayers = players.slice(0);\n      updatePlayers[emptySeatIndex] = currentUser.uid;\n      app.setNodeByPath(`tableList/${linkId}/players`, updatePlayers);\n      app.setNodeByPath(\n        `tableList/${linkId}/playerInfo/${currentUser.uid}`,\n        {displayName: currentUser.displayName}\n      );\n      app.updateTableGameDataByPath(\n        `${id}/timeStamp/`,\n        new Date().getTime()\n      );\n\n      break;\n    }\n    case \"UPDATE_AUCTION\": {\n      // in order to detect if some user isn't online anymore\n      // record current to database when a current user is deal\n      app.updateTableGameDataByPath(\n        `${action.table.id}/game/`,\n        action.game\n      );\n      app.updateTableGameDataByPath(\n        `${action.table.id}/timeStamp/`,\n        new Date().getTime()\n      );\n      break;\n    }\n    case \"SEND_MESSAGE_TO_CHATROOM\": {\n      let {message, currentUser, table} = action;\n      let time = new Date().getTime();\n      let newMessage = {};\n      newMessage.isPlayer = table.players.some(\n        player => player === currentUser.uid\n      );\n      newMessage.content = action.message;\n      newMessage.uid = currentUser.uid;\n      newMessage.displayName = currentUser.displayName;\n      app.setNodeByPath(\n        `chatroom/${table.id}/message/${time}/`,\n        newMessage\n      );\n    }\n    default:\n      return null;\n  }\n};\n\n// app.getNodeByPathOnce(\"tables\", value => {\n//   return dispatch(\"FETCH_TABLE_DATA\", {tables: value.val()});\n// });\n\napp.getNodeByPath(\"tableList\", value => {\n  return dispatch(\"FETCH_TABLE_LIST\", {tableList: value.val()});\n});\n\napp.getNodeByPath(\"users\", value => {\n  return dispatch(\"UPDATE_USER_LIST\", {userList: value.val()});\n});\n\n\n\napp.auth.onAuthStateChanged(user => {\n  if (user) {\n    app.getDataByPathOnce(`users/${user.uid}`, snapshot => {\n      let userInfo = snapshot.val();\n      dispatch(\"UPDATE_USER_INFO\", {\n        user: user,\n        uid: user.uid,\n        userInfo: snapshot.val()\n      });\n    });\n    // }\n  } else {\n    return dispatch(\"UPDATE_USER_INFO\", {\n      uid: null,\n      userInfo: null,\n      user: null\n    });\n  }\n});\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {CARD_NUM, CARD_RANK, SUIT_SHAPE} from \"./constant.js\";\nimport \"../style/reset.scss\";\nimport \"../style/card.scss\";\n\nexport const TrickCard = ({value}) => {\n  return (\n    <div className=\"abbbbbbbbbbbbb\">\n      <Card flipUp={true} value={value} />\n    </div>\n  );\n};\n\nexport const Card = ({value, evt = null, flipUp, name = null}) => {\n  let kind = Math.floor(value / CARD_NUM.HAND);\n  let wrapperName = name ? `card-wrapper ${name}` : \"card-wrapper\";\n  if (flipUp) {\n    return (\n      <div\n        className={wrapperName}\n        onClick={() => {\n          if (evt) {\n            evt(value);\n          }\n        }}>\n        <div className=\"card flip-up\">\n          <div className=\"card-inner\">\n            <div\n              className={\n                kind === 1 || kind === 2\n                  ? \"red value\"\n                  : \"black value\"\n              }>\n              {CARD_RANK[value % CARD_NUM.HAND]}\n            </div>\n            {SUIT_SHAPE[kind](0.235)}\n            <div className=\"large-shape\">\n              {SUIT_SHAPE[kind](0.5)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  } else {\n    return (\n      <div className={wrapperName}>\n        <div className=\"card flip-down\">\n          <div className=\"card-inner\" />\n        </div>\n      </div>\n    );\n  }\n};\n","export const getCurrentMaxTrick = cards => {\n  if (!cards) return null;\n  return Math.max(...cards.map(card => card.trick));\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {getRandomKey} from \"../helper/helper.js\";\nimport {Card, TrickCard} from \"./card.js\";\nimport {getCurrentMaxTrick} from \"./getCurrentMaxTrick.js\";\nimport \"../style/game.scss\";\n\nexport default class Trick extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fadeOutCards: false\n    };\n  }\n  componentDidUpdate(prevProps) {\n    if (this.props.order !== prevProps.order) {\n      if (this.props.order % 4 === 3) {\n        setTimeout(() => this.setState({fadeOutCards: true}), 2000);\n      } else {\n        this.setState({fadeOutCards: false});\n      }\n    }\n  }\n  render() {\n    let direction = [\"south-card\", \"west-card\", \"north-card\", \"east-card\"];\n    let {order, cards, cardsByPlayer, isTrickFinish} = this.props;\n    if (!cards) {\n      return null;\n    }\n\n    let currentTrick = null,\n      maxTrick = getCurrentMaxTrick(cards);\n\n    // cause maxTrick will increase if there are already four cards\n    if (maxTrick === 0) {\n      maxTrick = 1;\n    }\n\n    // show cards sequence by player order\n    if (cardsByPlayer && !this.state.fadeOutCards) {\n      // sorting tricks by player index, and filter cards by max trick\n      currentTrick = cardsByPlayer.map((hand, index) => {\n        hand = hand.sort((cardA, cardB) => cardA.value - cardB.value);\n        let trickCards = hand.map(userHand => {\n          if (userHand.trick === maxTrick) {\n            return (\n              <TrickCard\n                key={getRandomKey()}\n                value={userHand.value}\n              />\n            );\n          }\n        });\n\n        let hasTrickCards =\n                    trickCards.filter(\n                      card => card !== null && card !== undefined,\n                    ).length > 0;\n        if (hasTrickCards) {\n          return (\n            <div\n              className={`trick-card-wrapper ${direction[index]}`}\n              key={`trick-card-${index}`}>\n              {trickCards}\n            </div>\n          );\n        } else {\n          return null;\n        }\n      });\n    }\n\n    if (currentTrick) {\n      currentTrick = currentTrick.filter(\n        card => card !== null && card !== undefined,\n      );\n    }\n\n    return (\n      <div className={\"trick-area\"}>\n        <div className=\"trick-area-inner\">{currentTrick}</div>\n      </div>\n    );\n  }\n}\n","export const teamScore = cards => {\n  let teamA = 0,\n    teamB = 0;\n  cards.map((card, index) => {\n    let winningScore = card.isWin ? 1 : 0;\n    if ((index % 4) % 2 === 0) {\n      teamA += winningScore;\n    } else {\n      teamB += winningScore;\n    }\n  });\n  return {teamA: teamA, teamB: teamB};\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport \"../style/trick-score.scss\";\nimport {teamScore} from \"./socre.js\";\n\nexport default class TrickScore extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    let {table, windowWidth, windowHeight} = this.props;\n    let {game, players} = table;\n    if (!table || !table.game.cards) {\n      return null;\n    }\n    let score = teamScore(game.cards);\n    let [player1, player2, player3, player4] = players;\n    let innerStyle = this.props.innerStyle;\n    let resizeRatio = this.props.ratio || 0.15;\n    let thumbnailStyle = {\n      width: this.props.thumbnailSize,\n      height: this.props.thumbnailSize\n    };\n\n    return (\n      <div\n        className={\n          this.props.name\n            ? `trick-score ${this.props.name}`\n            : \"trick-score\"\n        }\n        style={innerStyle}>\n        <div\n          className=\"trick-score-inner\"\n          style={{\n            width: windowWidth * resizeRatio\n          }}>\n          <div className=\"group-wrapper\">\n            <div className=\"group\">\n              <div\n                className=\"thumbnail-group\"\n                style={{\n                  minWidth: this.props.thumbnailSize * 2\n                }}>\n                <div\n                  className=\"thumbnail\"\n                  style={thumbnailStyle}>\n                  <span>{player1[0]}</span>\n                </div>\n                <div\n                  className=\"thumbnail\"\n                  style={thumbnailStyle}>\n                  <span>{player3[0]}</span>\n                </div>\n              </div>\n              <div className=\"score\">{score.teamA}</div>\n            </div>\n            <div className=\"group\">\n              <div\n                className=\"thumbnail-group\"\n                style={{\n                  minWidth: this.props.thumbnailSize * 2\n                }}>\n                <div\n                  className=\"thumbnail\"\n                  style={thumbnailStyle}>\n                  <span>{player2[0]}</span>\n                </div>\n                <div\n                  className=\"thumbnail\"\n                  style={thumbnailStyle}>\n                  <span>{player4[0]}</span>\n                </div>\n              </div>\n              <div className=\"score\">{score.teamB}</div>\n            </div>\n          </div>\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport TrickScore from \"./trickScore.js\";\nimport {dispatchToDatabase} from \"../reducer/reducer.js\";\nimport \"../style/btn.scss\";\n\nexport default class ScoreBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.recordGame = this.recordGame.bind(this);\n  }\n  recordGame() {\n    let {table} = this.props;\n    let {game} = table;\n    if (!table || game.order !== 51) {\n      return;\n    }\n    dispatchToDatabase(\"CREATE_NEW_GAME\", {\n      table: table\n    });\n  }\n  render() {\n    let {windowWidth, table, windowHeight, currentUser} = this.props;\n    let {game, players} = this.props.table;\n    if (!game || !game.cards) {\n      return null;\n    }\n    let scoreTeamOne = 0,\n      scoreTeamTwo = 0;\n\n    // which team players belong: [ one, two, one ,two]\n    game.cards.map((card, index) => {\n      let winningScore = card.isWin ? 1 : 0;\n      if ((index % 4) % 2 === 0) {\n        scoreTeamOne += winningScore;\n      } else {\n        scoreTeamTwo += winningScore;\n      }\n    });\n\n    let result = {\n      win: \"當溫拿的感覺原來如此, 94 送\",\n      lose: \"魯蛇的世界有點複雜，魯魯如我輸惹\"\n    };\n    let resultWords = null;\n    let playerIndex = players.indexOf(currentUser.uid);\n\n    let {declarer, trick} = game.bid;\n    let targetTrick = 6 + trick;\n    let isDeclarerInTeamOne = declarer % 2 === 0;\n\n    // if user is curretn user\n    if (playerIndex >= 0) {\n      // if user is declearer\n      if (isDeclarerInTeamOne) {\n        if (playerIndex % 2 === 0 && scoreTeamOne >= targetTrick) {\n          resultWords = result.win;\n        } else {\n          resultWords = result.lose;\n        }\n      } else {\n        if (playerIndex % 2 !== 0 && scoreTeamTwo >= targetTrick) {\n          resultWords = result.win;\n        } else {\n          resultWords = result.lose;\n        }\n      }\n    }\n\n    return (\n      <div className=\"game-over-board\">\n        <TrickScore\n          currentUser={this.props.currentUser}\n          ratio={0.5}\n          thumbnailSize={46}\n          windowWidth={this.props.windowWidth}\n          widnowHeight={this.props.windowHeight}\n          table={this.props.table}>\n          <div>\n            <div className=\"result\">\n              <div className=\"words\">{resultWords}</div>\n            </div>\n            <div className=\"btn-wrapper\">\n              <button onClick={this.recordGame} className=\"btn\">\n                                Start a new Game\n              </button>\n            </div>\n          </div>\n        </TrickScore>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {SUIT_SHAPE} from \"./constant.js\";\nimport {getRandomKey} from \"../helper/helper.js\";\n\nexport const AuctionList = ({result, scale}) => {\n  if (!result) {\n    return null;\n  }\n  let resultsNum = result.length;\n\n  return (\n    <div className=\"record\">\n      {Array.from({length: Math.ceil(resultsNum / 4)})\n        .fill(0)\n        .map((res, index) => (\n          <div key={getRandomKey()} className=\"row\">\n            {Array.from({length: 4})\n              .fill(0)\n              .map((re, j) => {\n                let resultItem = result[index * 4 + j];\n                if (resultItem && resultItem.opt) {\n                  return (\n                    <div\n                      key={getRandomKey()}\n                      className=\"bid-result\">\n                      {resultItem.opt}\n                    </div>\n                  );\n                } else if (\n                  resultItem &&\n                                    resultItem.trick >= 0\n                ) {\n                  return (\n                    <div\n                      key={getRandomKey()}\n                      className=\"bid-result\">\n                      <div>{resultItem.trick + 1}</div>\n                      {SUIT_SHAPE[resultItem.trump](\n                        scale,\n                      )}\n                    </div>\n                  );\n                } else {\n                  return (\n                    <div\n                      key={getRandomKey()}\n                      className=\"bid-result\">\n                      {null}\n                    </div>\n                  );\n                }\n              })}\n          </div>\n        ))}\n    </div>\n  );\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {SUIT_SHAPE, BID_NUM} from \"./constant.js\";\nimport {getRandomKey} from \"../helper/helper.js\";\nimport {dispatchToDatabase} from \"../reducer/reducer.js\";\nimport {AuctionList} from \"./auctionList.js\";\nimport \"../style/auction.scss\";\n\nexport default class Auction extends React.Component {\n  constructor(props) {\n    super(props);\n    let {game} = this.props;\n    this.state = {\n      currentTrick: game.bid.trick,\n      visibility: false,\n      current: null\n    };\n    this.updateBid = this.updateBid.bind(this);\n    this.validateUserTurnAndsetTrump = this.validateUserTurnAndsetTrump.bind(\n      this\n    );\n  }\n  validateUserTurnAndsetTrump(index) {\n    // check if already current user's turn to give his bid\n    let {game, currentUser, players} = this.props;\n    if (!currentUser || !game) return;\n    if (players && currentUser) {\n      // if currentUser's Index is same as game deal, let him give bid\n\n      let currentUserIndex = players.findIndex(\n        player => player === this.props.currentUser.uid\n      );\n      if (currentUserIndex === game.deal) {\n        this.setState({\n          currentTrick: index,\n          current: index,\n          visibility: true\n        });\n      }\n    }\n  }\n  updateBid(trump, opt = null) {\n    let newBid,\n      isFinishAuction = false,\n      declarer = this.props.game.bid.declarer;\n\n    if (trump > -1 && trump !== null) {\n      let bid = {\n        trick: this.state.currentTrick,\n        trump: trump\n      };\n      // udpate result\n      let result = this.props.game.bid.result || [];\n      result.push(Object.assign({}, bid));\n\n      // update bid taker, when give a trump bid,\n      // record who is the last bid giver;\n      declarer = this.props.game.deal;\n\n      newBid = Object.assign(\n        {},\n        this.props.game.bid,\n        bid,\n        {declarer: declarer},\n        {result: result}\n      );\n    } else {\n      let result = this.props.game.bid.result || [];\n      result.push({opt: opt});\n\n      // is game start\n\n      if (result.length > 3) {\n        let isAllPass = result\n          .slice(result.length - 3, result.length)\n          .every(res => res.opt === \"Pass\");\n        let hasValidTrump = result.some(bid => bid.trick >= 0);\n        isFinishAuction = isAllPass && hasValidTrump;\n      }\n\n      // update bid\n      newBid = Object.assign({}, this.props.game.bid, {\n        result: result\n      });\n    }\n\n    let deal = this.props.game.deal;\n\n    if (isFinishAuction) {\n      deal = (declarer + 1) % 4;\n    } else {\n      deal = (deal + 1) % 4;\n    }\n\n    let newGame = Object.assign(\n      {},\n      this.props.game,\n      {bid: newBid},\n      {deal: deal}\n    );\n\n    dispatchToDatabase(\"UPDATE_AUCTION\", {\n      table: this.props.table,\n      game: newGame\n    });\n    this.setState({visibility: false, current: null});\n  }\n  render() {\n    let {game, players} = this.props;\n    let isCurrentUser =\n            players && players[game.deal] === this.props.currentUser.uid;\n\n    let value = game.bid.trick * 5 + game.bid.trump;\n\n    // todo: refactor\n    let trickOpt, trumpOpt;\n    if (value < 0) {\n      trickOpt = Array.from({length: 7})\n        .fill(0)\n        .map((opt, index) => index);\n      trumpOpt = Array.from({length: 5})\n        .fill(0)\n        .map((opt, index) => index);\n    } else if (value === 34) {\n      trickOpt = [];\n      trumpOpt = [];\n    } else if (value % 5 === 4 && value !== 0) {\n      trickOpt = Array.from({length: 7})\n        .fill(0)\n        .map((opt, index) => index)\n        .filter(opt => opt > game.bid.trick);\n      trumpOpt = Array.from({length: 5})\n        .fill(0)\n        .map((opt, index) => index);\n    } else {\n      trickOpt = Array.from({length: 7})\n        .fill(0)\n        .map((opt, index) => index)\n        .filter(opt => opt >= game.bid.trick);\n      trumpOpt = Array.from({length: 5})\n        .fill(0)\n        .map((opt, index) => index)\n        .filter(opt => opt > game.bid.trump);\n    }\n\n    let allTrickOpt = trickOpt.map((opt, index) => (\n      <button\n        className={opt === this.state.current ? \"current\" : null}\n        onClick={() => {\n          this.validateUserTurnAndsetTrump(opt);\n        }}\n        key={getRandomKey()}>\n        {opt + 1}\n      </button>\n    ));\n\n    let selectedTrump =\n            this.state.currentTrick === trickOpt[0]\n              ? trumpOpt\n              : [0, 1, 2, 3, 4];\n\n    if (value === 34) {\n      selectedTrump = [];\n    }\n    selectedTrump = selectedTrump.map(opt => (\n      <div onClick={() => this.updateBid(opt, null)} key={getRandomKey()}>\n        {SUIT_SHAPE[opt](0.25)}\n      </div>\n    ));\n\n    let result = game.bid.result;\n\n    let DoubleBtn = result &&\n            !result[result.length - 1].opt && (\n      <button\n        className=\"d-btn\"\n        onClick={() => this.updateBid(-1, \"Double\")}>\n                    Dboule\n      </button>\n    );\n\n    let ReDoubleBtn = result &&\n            result[result.length - 1].opt === \"Double\" && (\n      <button\n        className=\"d-btn\"\n        onClick={() => this.updateBid(-1, \"ReDouble\")}>\n                    ReDouble\n      </button>\n    );\n\n    let playerThumbnails = players.map((player, index) => (\n      <div\n        key={getRandomKey()}\n        className={\n          index === this.props.game.deal\n            ? \"thumbnail current\"\n            : \"thumbnail\"\n        }>\n        <span>{player[0]}</span>\n      </div>\n    ));\n    if (this.props.isFinishAuction) return null;\n\n    return (\n      <div className=\"auction-inner\">\n        <div className=\"thumbnail-group\">{playerThumbnails}</div>\n        {!game.bid.result && (\n          <div className=\"notes\"> Start Auction </div>\n        )}\n        <AuctionList scale={0.2} result={game.bid.result} />\n        <div className=\"option-wrapper\">\n          {isCurrentUser && (\n            <div className=\"other-btns\">\n              <button\n                className=\"pass\"\n                onClick={() => this.updateBid(null, \"Pass\")}>\n                                Pass\n              </button>\n              {DoubleBtn}\n              {ReDoubleBtn}\n            </div>\n          )}\n          <div className=\"tricks\">{allTrickOpt}</div>\n          {this.state.visibility && (\n            <div className=\"trumps\">{selectedTrump}</div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport \"../style/thumbnail.scss\";\n\nexport const Thumbnail = ({name = \"\", size = 30, src = false}) => {\n  let img = src ? <img src={src} /> : <span>{name[0]}</span>;\n\n  return (\n    <div\n      className=\"thumbnail\"\n      style={{\n        width: size,\n        height: size,\n        borderRadius: size\n      }}>\n      {img}\n    </div>\n  );\n};\n\nexport const ThumbailGroup = ({players, size, teamOrder}) => {\n  let team = players.filter((player, index) => index % 2 === teamOrder);\n  let members = team.map((player, index) => (\n    <Thumbnail key={`member-${index}`} name={player} size={size} />\n  ));\n  return <div className=\"thumbnail-group\">{members}</div>;\n};\n","import \"../style/reset.scss\";\nimport \"../style/player.scss\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {Thumbnail} from \"./thumbnail.js\";\nexport const Player = ({name, current = null}) => {\n  return (\n    <div className={current ? \"player current\" : \"player\"}>\n      <Thumbnail size={38} />\n      <div className=\"name\">{name}</div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {getRandomKey} from \"../helper/helper.js\";\nimport {AuctionList} from \"./auctionList.js\";\nimport \"../style/auction.scss\";\n\nexport class AuctionResult extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    let {table, windowWidth, windowHeight} = this.props;\n    let {game, players} = table;\n    if (!game || !game.bid.result) {\n      return null;\n    }\n    let playerThumbnails = players.map((player, index) => (\n      <div key={getRandomKey()} className=\"thumbnail\">\n        <span>{player[0]}</span>\n      </div>\n    ));\n    return (\n      <div\n        className=\"auction-result\"\n        style={{\n          top: Math.ceil(windowWidth / 500) * 5,\n          right: Math.ceil(windowWidth / 500) * 5\n        }}>\n        <div className=\"auction-result-inner\">\n          <div className=\"thumbnail-group\">{playerThumbnails}</div>\n          <AuctionList scale={0.15} result={game.bid.result} />\n        </div>\n      </div>\n    );\n  }\n}\n","import {\n  PLAYER_NUM,\n  CARD_NUM,\n  EMPTY_SEAT,\n  NO_TRUMP,\n  DEFAULT_GAME\n} from \"./constant.js\";\nimport {getRandomInt} from \"../helper/helper.js\";\n\nexport const hasSameSuitWithFirstCard = (firstCard, cards) => {\n  if (!cards) {\n    return false;\n  }\n  return (\n    firstCard &&\n        cards.filter(card => {\n          return (\n            Math.floor(card.value / CARD_NUM.HAND) ===\n                Math.floor(firstCard.value / CARD_NUM.HAND)\n          );\n        }).length > 0\n  );\n};\n\n// get porker card detail information offset by current login user\nexport const getOffsetDatabyCurrentUser = (players, game, currentUser) => {\n  if (!game || !game.cards) return;\n\n  let {cards} = game;\n\n  // default don't offset\n  let cardsByPlayer = players\n    .map((userIndex, index) => {\n      return cards.filter((card, i) => i % players.length === index);\n    })\n    .slice(0);\n\n  let offsetIndex = players.findIndex(user => user === currentUser);\n\n  let isCurrentUserAPlayer = offsetIndex !== -1;\n\n  // user is curretn user\n  if (isCurrentUserAPlayer) {\n    return {\n      cardsByPlayer: [\n        ...cardsByPlayer.slice(offsetIndex),\n        ...cardsByPlayer.slice(0, offsetIndex)\n      ],\n      offsetPlayers: [\n        ...players.slice(offsetIndex),\n        ...players.slice(0, offsetIndex)\n      ],\n      offsetIndex: offsetIndex\n    };\n  }\n\n  return {\n    cardsByPlayer: cardsByPlayer,\n    offsetPlayers: players.slice(0),\n    offsetIndex: offsetIndex\n  };\n};\n\nexport const mapFlipDownCards = dislayList => {\n  if (!dislayList) return;\n  let flat = dislayList.flat();\n  let cardsNumberOnHand = 8;\n  let totalLen = flat.length;\n  // if cards number is under n, split flipdown card into two row;\n  if (totalLen <= cardsNumberOnHand) {\n    let mid = Math.floor(totalLen / 2);\n    return [flat.slice(0, mid), flat.slice(mid, totalLen)];\n  } else {\n    let threeRow = [[], [], []];\n    flat.map((card, index) => threeRow[index % 3].push(card));\n    return threeRow;\n  }\n};\n\nexport const getFirstCard = game => {\n  if (!game) {\n    return null;\n  }\n  // what is the first card of current trick\n  // in order to let players only can draw card as the same suit\n  if (\n    game.cards &&\n        game.cards.length >= PLAYER_NUM &&\n        game.order % PLAYER_NUM !== PLAYER_NUM - 1\n  ) {\n    return game.cards\n      .filter(card => card.order % PLAYER_NUM === 0)\n      .sort((cardA, cardB) => cardB.order - cardA.order)[0];\n  }\n  return null;\n};\n\nexport const shuffleCards = () => {\n  let cards = getRandomCards();\n  while (!validateShuffle(cards)) {\n    cards = getRandomCards();\n  }\n  return cards;\n};\n\nexport const mapToFourHands = cards => {\n  if (!cards) return;\n  return [0, 0, 0, 0]\n    .map((userIndex, index) => {\n      return cards.filter((card, i) => i % 4 === index);\n    })\n    .slice(0);\n};\n\nexport const fourHands = cards => {\n  return mapToFourHands(cards).map(hand =>\n    hand.map(value => (value % 13 > 8 ? (value % 13) - 8 : 0))\n  );\n};\n\nconst getRandomCards = () => {\n  let cards = Array.from({length: CARD_NUM.TOTAL})\n    .fill(0)\n    .map((card, i) => i);\n\n  // shuffle array algorithm\n  for (let i = cards.length - 1; i > 0; i--) {\n    let randomIndex = getRandomInt(0, CARD_NUM.TOTAL - 1);\n    [cards[i], cards[randomIndex]] = [cards[randomIndex], cards[i]];\n  }\n\n  return cards;\n};\n\nconst validateShuffle = cards => {\n  return fourHands(cards).every(\n    hand => hand.reduce((sum, value) => value + sum, 0) >= 7\n  );\n};\n","import {CARD_NUM, NO_TRUMP} from \"./constant.js\";\nimport {getCurrentMaxTrick} from \"./getCurrentMaxTrick.js\";\n\n// which card has max value by the bid trump\nconst findMaxValueByTrump = (arr, trump) => {\n  if (!arr || trump === null || trump === undefined) {\n    return;\n  }\n  let list = arr\n    .filter(item => Math.floor(item.value / CARD_NUM.HAND) === trump)\n    .sort((cardA, cardB) => cardB.value - cardA.value);\n  return list.length ? list[0] : null;\n};\n\n// handle winner card logic\n// if there are any cards with same rank as trump, compare their face value\n// else follow first card's rank to compare value;\nexport const getWinnerCard = (game, cardValue) => {\n  if (!game) return;\n  let cards = game.cards,\n    maxTrick = getCurrentMaxTrick(cards);\n\n  let {trump} = game.bid;\n  let cardsMatchCurrentTrick = cards\n    .map((card, index) => Object.assign({}, card, {index: index}))\n    .filter(\n      card =>\n        (card.trick === maxTrick && card.trick > 0) ||\n                card.value === cardValue,\n    );\n  let winnerCard,\n    noTrumpCards = false;\n\n  if (cardsMatchCurrentTrick.length === 4) {\n    // which card is first been played\n    let first = Math.min(...cardsMatchCurrentTrick.map(card => card.order));\n    let [firstHand] = cardsMatchCurrentTrick.filter(\n      card => card.order === first,\n    );\n    // trump matters most, else, decide by what first hand has draw\n    if (trump !== NO_TRUMP) {\n      // filter trump cards, and compare their face value\n      let tmp = findMaxValueByTrump(cardsMatchCurrentTrick, trump);\n\n      if (tmp !== null) {\n        winnerCard = tmp;\n      } else {\n        noTrumpCards = true;\n      }\n    }\n\n    if (trump === NO_TRUMP || noTrumpCards) {\n      // if their quotient are the same, compare their value, else, let first win\n      let trumpRef = Math.floor(firstHand.value / CARD_NUM.HAND);\n      winnerCard = findMaxValueByTrump(cardsMatchCurrentTrick, trumpRef);\n    } // end of no trump\n  }\n\n  return winnerCard || null;\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {EMPTY_SEAT} from \"./constant.js\";\nimport {getRandomKey} from \"../helper/helper.js\";\nimport {dispatchToDatabase} from \"../reducer/reducer.js\";\nimport \"../style/ready-list.scss\";\nexport default class PlayerReadyList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.setReadyState = this.setReadyState.bind(this);\n  }\n  setReadyState(playerIndex) {\n    let {currentUser, table} = this.props;\n    if (!table) return;\n    let {game} = table;\n    let players = table.players.slice(0);\n    dispatchToDatabase(\"READY_A_PLAYER\", {\n      playerIndex: playerIndex,\n      table: table\n    });\n  }\n  render() {\n    let {table, currentUser} = this.props;\n    let {game, ready, players, playerInfo} = table;\n    if (!game) {\n      return null;\n    }\n    let {isGameOver, order} = game;\n\n    let isEmptySeat = players.some(seat => seat === EMPTY_SEAT);\n    let isAllPlayerReady = ready.every(player => player === true);\n    let showPlayerReadyList =\n            (isEmptySeat && order < 0) || !isAllPlayerReady;\n\n    if (!showPlayerReadyList) {\n      return null;\n    }\n    let playBtns = null;\n    let thumbnails = players.map((player, index) => {\n      let playerName;\n      if (playerInfo[player]) {\n        playerName = playerInfo[player].displayName;\n      }\n      return (\n        <div\n          key={getRandomKey()}\n          className={\n            ready[index] === false ? \"thumbnail\" : \"thumbnail ready\"\n          }>\n          <span>{(playerName && playerName[0]) || \"\"}</span>\n        </div>\n      );\n    });\n    let currentUserCanPlay;\n    if (players.includes(currentUser.uid)) {\n      currentUserCanPlay = players.some(\n        (player, index) => player === currentUser.uid && !ready[index]\n      );\n      playBtns = players.map((player, index) => {\n        if (player === currentUser.uid && !ready[index]) {\n          return (\n            <div key={getRandomKey()}>\n              <button\n                key={getRandomKey()}\n                onClick={() => this.setReadyState(index)}\n                className=\"btn\">\n                                加入牌局\n              </button>\n            </div>\n          );\n        } else {\n          return null;\n        }\n      });\n    }\n    return (\n      <div className=\"player-ready-list\">\n        <div className=\"player-ready-list-inner\">\n          <div className=\"row\"> {thumbnails}</div>\n          {currentUserCanPlay && (\n            <div className=\"btn-wrapper\">{playBtns}</div>\n          )}\n          <div className=\"notes\">等待加入中...</div>\n        </div>\n      </div>\n    );\n  }\n}\n","import \"../style/reset.scss\";\nimport \"../style/game.scss\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {getRandomInt, getRandomKey} from \"../helper/helper.js\";\nimport {dispatch, dispatchToDatabase} from \"../reducer/reducer.js\";\nimport {Card} from \"./card.js\";\nimport {Redirect} from \"react-router-dom\";\nimport Trick from \"./trick.js\";\nimport {\n  CARD_NUM,\n  DIRECTION,\n  EMPTY_SEAT,\n  NO_TRUMP,\n  DEFAULT_GAME\n} from \"./constant.js\";\nimport TrickScore from \"./trickScore.js\";\nimport ScoreBoard from \"./scoreBoard.js\";\nimport Auction from \"./auction.js\";\nimport {Player} from \"./player.js\";\nimport {AuctionResult} from \"./auctionResult.js\";\nimport {\n  hasSameSuitWithFirstCard,\n  getOffsetDatabyCurrentUser,\n  mapFlipDownCards,\n  getFirstCard,\n  shuffleCards\n} from \"./examineCards.js\";\nimport {getWinnerCard} from \"./getWinnerCard.js\";\nimport PlayerReadyList from \"./playerReadyList.js\";\n\nexport default class Game extends React.Component {\n  constructor(props) {\n    super(props);\n    let {game} = this.props.table;\n    this.state = {\n      endAuction: game.order >= 0,\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight\n    };\n    this.deal = this.deal.bind(this);\n    this.getNextMaxTrick = this.getNextMaxTrick.bind(this);\n    this.shuffle = this.shuffle.bind(this);\n    this.suffleCardsWhenReady = this.suffleCardsWhenReady.bind(this);\n    this.endAuction = this.endAuction.bind(this);\n    this.handleResize = this.handleResize.bind(this);\n    this.getAuctionStatus = this.getAuctionStatus.bind(this);\n  }\n  handleResize() {\n    this.setState({\n      windowWidth: window.innerWidth,\n      height: window.innerHeight\n    });\n  }\n  componentDidMount() {\n\n    this.handleResize();\n    window.addEventListener(\"resize\", this.handleResize);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.handleResize);\n  }\n  componentDidUpdate(prevProps) {\n    let newTable = this.props.table;\n    let oldTable = prevProps.table;\n\n    // todo, refine logic, under some condition, state might not be update\n    // if ready state is change\n    if (\n      !newTable.ready.every(\n        (player, index) => player === oldTable.ready[index]\n      )\n    ) {\n      // and are all ready\n      if (newTable.ready.every(player => player === true)) {\n        this.suffleCardsWhenReady();\n      }\n    }\n  }\n  suffleCardsWhenReady() {\n    // when seats is full and has no cards on databse\n    let {players, game} = this.props.table;\n    if (players) {\n      let isFourSeatsFull = players.every(seat => seat !== EMPTY_SEAT);\n      if (isFourSeatsFull && !game.cards) {\n        this.shuffle();\n      }\n    }\n  }\n  // so far, how many tricks have been played ?\n  getNextMaxTrick() {\n    let {game} = this.props.table;\n    if (!game) {\n      return;\n    }\n    let cards = game.cards,\n      maxTrick = Math.max(...cards.map(card => card.trick)),\n      maxTrickNum = cards.filter(card => card.trick === maxTrick).length;\n    if (maxTrick === 0 || maxTrickNum >= 4) {\n      return maxTrick + 1;\n    }\n    return maxTrick;\n  }\n  endAuction() {\n    this.setState({endAuction: true});\n  }\n\n  deal(value) {\n    let {table} = this.props;\n    let {game} = this.props.table;\n    if (!game) {\n      return;\n    }\n    let currentPlayer = game.deal;\n    let order = game.order + 1;\n\n    dispatchToDatabase(\n      \"UPDATE_CURRENT_TRICK\",\n      Object.assign(\n        {},\n        {\n          table: table,\n          value: value,\n          time: new Date().getTime(),\n          maxTrick: this.getNextMaxTrick(),\n          order: order,\n          deal: (game.deal + 1) % 4\n        }\n      )\n    );\n\n    let winnerCard = getWinnerCard(game, value);\n\n    // make sure winnerCard exists, and write winner to database\n    if (winnerCard) {\n      // remove index data while dispatch to database\n      let card = Object.assign({}, winnerCard);\n      delete card.index;\n\n      dispatchToDatabase(\n        \"UPDATE_WINNER_CARD\",\n        Object.assign({}, this.props, {\n          table: table,\n          winnerCard: card,\n          order: order,\n          deal: card.player\n        })\n      );\n    }\n  }\n  shuffle() {\n    let cards = shuffleCards();\n    // get new cards\n    cards = cards.map(card => ({\n      value: card,\n      trick: 0\n    }));\n    // todo bid\n    dispatchToDatabase(\"ADD_NEW_DECK_TO_TABLE\", {\n      table: this.props.table,\n      cards: cards\n    });\n  }\n  getAuctionStatus(game) {\n    // check if fishish auction\n    let result = game.bid.result;\n\n    if (!game || !result) {\n      return false;\n    }\n    return (\n      result.length >= 4 &&\n            result.some(bid => bid.trick >= 0) &&\n            result.slice(result.length - 3).every(res => res.opt === \"Pass\")\n    );\n  }\n  render() {\n    // if (!this.state.redirectToLogin) {\n    //   return <Redirect />;\n    // }\n    let {table, currentUser} = this.props;\n\n    let {game, players, ready} = table;\n    let {cards, isGameOver} = game;\n\n    let isEndOfCurrentTrick = game.order % 4 === 3;\n    let isFinishAuction = this.getAuctionStatus(game);\n    // set true to give dummy's card to declarer\n    let isDummyMode = isFinishAuction && true;\n\n    // class name for each hand\n    let hands;\n    let {cardsByPlayer, offsetPlayers, offsetIndex} =\n            getOffsetDatabyCurrentUser(players, game, currentUser.uid) || {};\n\n    // turn cards to 4 hands\n    if (cards && cards.length === CARD_NUM.TOTAL) {\n      let currentUserIndex = players.findIndex(\n        user => user === currentUser.uid\n      );\n\n      // if dummy mode, let it be dummy's index, esle let it be something larger\n      let flipIndex = isDummyMode ? (game.bid.declarer + 2) % 4 : 6;\n      let isValidFlipIndex = flipIndex < 4;\n\n      if (isValidFlipIndex) {\n        // udpate dummy hand's index in offset player list\n        flipIndex = offsetPlayers.findIndex(\n          player => player === players[flipIndex]\n        );\n      }\n\n      let currentTurnPlayer = players[game.deal];\n      let isCurrentUserPlayer = players.includes(currentUser.uid);\n\n      // cardsByPlayer already offset by current login user's index\n      hands = cardsByPlayer.map((hand, index) => {\n        let playerHand = offsetPlayers[index];\n        let playerHandIndex = index; // zero will alwasy be current login user\n\n        // makesure dummy hand can view declarer's card\n        if (flipIndex === 0) {\n          flipIndex = 2;\n        }\n\n        // only show cards didn't played\n        hand = hand\n          .sort((a, b) => a.value - b.value)\n          .filter(card => card.trick === 0);\n\n        if (playerHandIndex === 1 && flipIndex !== 1) {\n          hand = hand.sort((a, b) => b.value - a.value);\n        }\n\n        let currentUserIndex = 0;\n\n        // handle display issue for both weat/east players\n        let handCopy = hand.map(userHand =>\n          Object.assign({}, userHand)\n        );\n\n        let display = [[], [], [], []];\n        handCopy.map(card =>\n          display[Math.floor(card.value / CARD_NUM.HAND)].push(card)\n        );\n\n        // handle flip down card, group them into n rows base on\n        // how many cards left\n        display = display.filter(item => item.length !== 0);\n\n        // decide to flip down which players card\n        // use playerHandIndex to decide , playerHandIndex 0 means current user\n        // if current user is not a player, show sorted cards and don't flip them\n        if (\n          playerHandIndex !== currentUserIndex &&\n                    playerHandIndex !== flipIndex &&\n                    isCurrentUserPlayer\n        ) {\n          let mapResult = mapFlipDownCards(display);\n          if (mapResult) {\n            display = mapResult;\n          }\n        }\n\n        // handle sort isssue of west player, should sort\n        // from big to small\n        let firstCard = getFirstCard(game);\n\n        let hasFollowSameSuit = hasSameSuitWithFirstCard(\n          firstCard,\n          display.flat()\n        );\n\n        let cardsInHand = display.map((each, index) => {\n          // use playerHandIndex to decide flip up whose cards\n          // playerHandIndex === 0 means current user\n          let declarerIndex = game.bid.declarer;\n\n          let dummyPlayerIndex = (declarerIndex + 2) % 4;\n          let dummyPlayer = players[dummyPlayerIndex];\n\n          let declarerPlayer = players[declarerIndex];\n\n          // if player is nither declarer nor dummy plaer\n          let isValidCard = isFinishAuction && isCurrentUserPlayer;\n          let canBeClick =\n                        isValidCard &&\n                        // current player is equal to south;\n                        currentTurnPlayer === playerHand &&\n                        playerHandIndex === currentUserIndex;\n\n          // current turn is dummay hand, and current login user is declare,\n          // let current user can control dummy hand's card\n          if (\n            isDummyMode &&\n                        isValidCard &&\n                        dummyPlayer === currentTurnPlayer\n          ) {\n            if (\n              currentUser.uid === declarerPlayer &&\n                            playerHandIndex === 2\n            ) {\n              canBeClick = true;\n            }\n            if (\n              currentUser.uid === dummyPlayer &&\n                            playerHandIndex === currentUserIndex\n            ) {\n              canBeClick = false;\n            }\n          }\n\n          let flipUp =\n                        !isCurrentUserPlayer ||\n                        playerHandIndex === currentUserIndex ||\n                        playerHandIndex === flipIndex;\n\n          // if those card has same suit with first player,\n          // users need only to draw those cards\n          // if not, they can draw any cards\n          let allowClickEvt = card => {\n            return (\n              firstCard === null ||\n                            !hasFollowSameSuit ||\n                            Math.floor(card.value / CARD_NUM.HAND) ===\n                                Math.floor(firstCard.value / CARD_NUM.HAND)\n            );\n          };\n\n          return each.map((card, i) => (\n            <Card\n              name={\n                canBeClick && allowClickEvt(card)\n                  ? `click-able l${index} item-${i}`\n                  : `l${index} item-${i}`\n              }\n              flipUp={flipUp}\n              evt={\n                canBeClick && allowClickEvt(card)\n                  ? this.deal\n                  : null\n              }\n              key={getRandomKey()}\n              value={card.value}\n            />\n          ));\n        });\n\n        // calculate hand style and card postion\n        let totalCardsInHand = cardsInHand\n          .map(suit => suit.length)\n          .reduce((sum, len) => sum + len, 0);\n        let totalSuitType = cardsInHand.filter(\n          suit => suit.length !== 0\n        ).length;\n\n        // handle resize\n        let sidebarWidth = this.state.windowWidth >= 1200 ? 480 : 400;\n        let horCardOffset = 40;\n        let horCardStyle =\n                    DIRECTION[index] === \"north\" || DIRECTION[index] === \"south\"\n                      ? {\n                        left:\n                                  (this.state.windowWidth -\n                                      sidebarWidth -\n                                      (horCardOffset * totalCardsInHand +\n                                          horCardOffset)) /\n                                  2\n                      }\n                      : null;\n\n        const getHandHeight = suitNum => {\n          let cardh = 125,\n            shift = 70;\n          return (\n            suitNum * cardh - (cardh - shift) * (suitNum - 1) + 10\n          );\n        };\n\n        let verCardStyle =\n                    DIRECTION[index] === \"west\" || DIRECTION[index] === \"east\"\n                      ? {\n                        top:\n                                  (this.state.windowHeight -\n                                      getHandHeight(totalSuitType)) /\n                                  2\n                      }\n                      : null;\n\n        return (\n          <div\n            className={DIRECTION[index]}\n            style={horCardStyle || verCardStyle}\n            key={getRandomKey()}>\n            <div className=\"hand-inner\">\n              <div className=\"user-hand\">{cardsInHand}</div>\n              <Player\n                current={\n                  currentTurnPlayer === playerHand &&\n                                    isFinishAuction\n                }\n                name={\n                  (table.playerInfo[playerHand] &&\n                                        table.playerInfo[playerHand]\n                                          .displayName) ||\n                                    \"Anonymous\"\n                }\n              />\n            </div>\n          </div>\n        );\n      });\n    } // end of cards\n\n    let isAllReady = table.ready.every(player => player === true);\n\n    // dom elements\n    if (isGameOver) {\n      return (\n        <div className=\"game\">\n          <div>\n            <ScoreBoard\n              startGame={this.suffleCardsWhenReady}\n              currentUser={currentUser}\n              windowWidth={this.state.windowWidth}\n              widnowHeight={this.state.windowHeight}\n              table={table}\n            />\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"game\">\n        {!isAllReady && (\n          <PlayerReadyList\n            suffleCardsWhenReady={this.suffleCardsWhenReady}\n            currentUser={currentUser}\n            table={this.props.table}\n          />\n        )}\n        {isFinishAuction && (\n          <AuctionResult\n            windowWidth={this.state.windowWidth}\n            windowHeight={this.state.windowHeight}\n            table={table}\n          />\n        )}\n        <div className=\"auction\">\n          {game.bid &&\n                        game.cards && (\n            <Auction\n              isFinishAuction={isFinishAuction}\n              endAuction={this.endAuction}\n              game={game}\n              table={table}\n              currentUser={currentUser}\n              players={players}\n            />\n          )}\n        </div>\n        <div className=\"arena\">\n          <div className=\"hands\">{hands}</div>\n          <Trick\n            cards={cards}\n            cardsByPlayer={cardsByPlayer}\n            order={game.order}\n            isTrickFinish={isEndOfCurrentTrick}\n          />\n          <TrickScore\n            resizeRatio={0.15}\n            innerStyle={{\n              bottom: Math.ceil(this.state.windowWidth / 500) * 5,\n              right: Math.ceil(this.state.windowWidth / 500) * 5\n            }}\n            thumbnailSize={30}\n            name=\"right-bottom-pos\"\n            windowWidth={this.state.windowWidth}\n            widnowHeight={this.state.windowHeight}\n            table={this.props.table}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Link} from \"react-router-dom\";\nimport {dispatch, store} from \"../reducer/reducer.js\";\nimport {Redirect} from \"react-router-dom\";\nimport {app} from \"../firebase/firebase.js\";\nimport \"../style/signup.scss\";\nimport \"../style/btn.scss\";\nimport \"../style/checkbox.scss\";\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    let _this = this;\n    app.onAuthChanged(user => {\n      if (user) {\n        _this.setState({redirect: true});\n      }\n    });\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      redirect: false\n    };\n    this.handleName = this.handleName.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n  handleLogin() {\n    let auth = app.auth;\n    let {email, password} = this.state;\n    if (!email || !password) return;\n    let promise = auth.signInWithEmailAndPassword(email, password);\n    promise\n      .then(user => this.setState({redirect: true}))\n      .catch(err => this.setState({error: err.message}));\n  }\n\n  handleName(e) {\n    this.setState({name: e.target.value});\n  }\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <div className=\"singup-wrapper\">\n        <div className=\"signup login\">\n          <h2>Login</h2>\n          <div>\n            <h3>Email</h3>\n            <input\n              type=\"text\"\n              placeholder=\"Email address\"\n              onChange={e => {\n                this.setState({email: e.currentTarget.value});\n              }}\n              value={this.state.email}\n            />\n          </div>\n          <div>\n            <h3>Password</h3>\n            <input\n              placeholder=\"Enter password\"\n              type=\"password\"\n              onChange={e => {\n                this.setState({\n                  password: e.currentTarget.value\n                });\n              }}\n              value={this.state.password}\n            />\n          </div>\n          <div className=\"error-text\">{this.state.error || \"\"}</div>\n          <div>\n            <div className=\"btn-group\">\n              <button\n                onClick={this.handleLogin}\n                className=\"btn-style-round\">\n                                Login\n              </button>\n              <button className=\"btn-style-round fb-sign-btn\">\n                                Facebook\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class CreateTable extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return <div>CreateTable Component section</div>;\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {SUIT_SHAPE} from \"../constant.js\";\nimport {teamScore} from \"../socre.js\";\n\nexport default class RecordItem extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    let {index, record, current} = this.props;\n    if (!record) {\n      return (\n        <div className=\"record-item\">\n          <div className=\"empty\" />\n        </div>\n      );\n    }\n    let score = teamScore(record.cards);\n    return (\n      <div\n        onClick={() => this.props.changeRecord(index)}\n        className={\n          current\n            ? \"record-item active current\"\n            : \"record-item active\"\n        }>\n        <div>{index + 1}</div>\n        <div className=\"bid\">\n          <span>{record.bid.trick + 1}</span>\n          {SUIT_SHAPE[record.bid.trump](0.15)}\n        </div>\n        <div>{score.teamA}</div>\n        <div>{score.teamB}</div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const Dot = ({current, page, changePage}) => {\n  return (\n    <div\n      onClick={() => changePage(page)}\n      className={current ? \"dot current\" : \"dot\"}\n    />\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport RecordItem from \"./recordItem.js\";\nimport {ThumbailGroup} from \"../thumbnail.js\";\nimport {Dot} from \"../dotIndicator/dot.js\";\n\nexport default class GameRecord extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 0\n    };\n    this.changePage = this.changePage.bind(this);\n  }\n  changePage(page) {\n    this.setState({page: page});\n  }\n  render() {\n    let resultNum = 3;\n    let {record} = this.props;\n    if (!record) {\n      return (\n        <div className=\"record-empty\">No available game records</div>\n      );\n    }\n    let recordList, dots, dotsNum;\n    if (record) {\n      if (record.length <= resultNum) {\n        record = record.concat([null, null, null]).slice(0, resultNum);\n      } else {\n        let start = this.state.page * resultNum;\n        let end =\n                    start + resultNum >= record.length\n                      ? record.length\n                      : start + resultNum;\n        record =\n                    end === start + resultNum\n                      ? record.slice(start, end)\n                      : record.slice(start, end);\n      }\n      recordList = record.map((recordItem, index) => (\n        <RecordItem\n          key={`record-item-${index}`}\n          index={index}\n          changeRecord={this.props.changeRecord}\n          current={this.props.currentRecord === index}\n          record={recordItem}\n        />\n      ));\n\n      dotsNum = Math.ceil(record.length / resultNum);\n      dots =\n                dotsNum <= 1\n                  ? null\n                  : (dots = Array.from({length: dotsNum})\n                    .fill(0)\n                    .map((dotItem, index) => (\n                      <Dot\n                        key={`dot-${index}`}\n                        changePage={this.changePage}\n                        page={index}\n                        current={index === this.state.page}\n                      />\n                    )));\n    }\n\n    return (\n      <div className=\"record-list\">\n        {this.props.record && (\n          <div className=\"record-header\">\n            <div />\n            <div />\n            <ThumbailGroup\n              teamOrder={0}\n              players={this.props.players}\n              size={32}\n            />\n            <ThumbailGroup\n              teamOrder={1}\n              players={this.props.players}\n              size={32}\n            />\n          </div>\n        )}\n        {recordList}\n        <div className=\"dots-holder\">\n          <div className=\"dots-holder-inner\">{dots}</div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {Thumbnail} from \"../thumbnail.js\";\nimport {CARD_NUM, CARD_RANK, SUIT_SHAPE} from \"../constant.js\";\n\nexport const Hand = ({player, cards, direction}) => {\n  let display = [[], [], [], []];\n  cards.map(card => display[Math.floor(card.value / 13)].push(card));\n  let displaySuit = display.map((suit, index) => (\n    <div className=\"hand\" key={`suit-${index}`}>\n      <div>{SUIT_SHAPE[index](0.15)}</div>\n      <div className=\"card-value\">\n        {suit.map((card, index) => (\n          <div key={`suit-${index}`}>\n            {CARD_RANK[card.value % CARD_NUM.HAND]}\n          </div>\n        ))}\n      </div>\n    </div>\n  ));\n  return (\n    <div className={`rewind-player ${direction}`}>\n      <div>\n        <Thumbnail name={player} size={26} />\n      </div>\n      <div className=\"hand-wrapper\">{displaySuit}</div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {Thumbnail} from \"../thumbnail.js\";\nimport {CARD_NUM, CARD_RANK, SUIT_SHAPE} from \"../constant.js\";\n\nexport const RewindAuction = ({players, bid}) => {\n  let {declarer, trump, trick} = bid;\n  return (\n    <div className=\"rewind-auction\">\n      <h3>Auction</h3>\n      <div>\n        <Thumbnail name={players[declarer]} size={26} />\n      </div>\n      <div>\n        {trick + 1} {SUIT_SHAPE[trump](0.15)}\n      </div>\n    </div>\n  );\n};\n\n\n\n\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {ThumbailGroup} from \"../thumbnail.js\";\nimport {teamScore} from \"../socre.js\";\n\nexport const RewindResult = ({players, cards}) => {\n  let score = teamScore(cards);\n  return (\n    <div className=\"rewind-result\">\n      <h3>Result</h3>\n      <div>\n        <ThumbailGroup teamOrder={0} players={players} size={20} />\n        <div>{score.teamA}</div>\n      </div>\n      <div>\n        <ThumbailGroup teamOrder={1} players={players} size={20} />\n        <div>{score.teamB}</div>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Hand} from \"./hand.js\";\nimport {mapToFourHands} from \"../examineCards.js\";\nimport {DIRECTION} from \"../constant.js\";\nimport {RewindAuction} from \"./rewindAuction.js\";\nimport {RewindResult} from \"./rewindResult.js\";\n\nexport default class GameRewind extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    if (!this.props.record) {\n      return null;\n    }\n    let {cards, bid} = this.props.record;\n    let fourHandCards = mapToFourHands(cards);\n    let fourHands = fourHandCards.map((cards, index) => (\n      <Hand\n        direction={DIRECTION[index]}\n        key={`hand-${index}`}\n        cards={cards}\n        player={this.props.players[index]}\n      />\n    ));\n    return (\n      <div className=\"rewind\">\n        {fourHands}\n        <RewindAuction players={this.props.players} bid={bid} />\n        <RewindResult players={this.props.players} cards={cards} />\n        <div />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport reactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {app} from \"../firebase/firebase.js\";\nimport {dispatch, dispatchToDatabase} from \"../reducer/reducer.js\";\nimport randomColor from \"randomcolor\";\nimport {SUIT_SHAPE, Emoji} from \"./constant.js\";\n\nexport default class Chatroom extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: \"\"\n    };\n    this.sendMessage = this.sendMessage.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.addEmoji = this.addEmoji.bind(this);\n    this.msgEnd;\n    this.emoji = Emoji;\n  }\n  handleKeyPress(e) {\n    if (e.key === \"Enter\" && this.state.message.length) {\n      this.sendMessage();\n    }\n  }\n  componentDidMount() {\n    this.scrollToBottom();\n  }\n  componentDidUpdate() {\n    this.scrollToBottom();\n  }\n  addEmoji(emoji) {\n    this.setState({message: this.state.message + emoji});\n  }\n  sendMessage(e) {\n    dispatchToDatabase(\"SEND_MESSAGE_TO_CHATROOM\", {\n      message: this.state.message,\n      currentUser: this.props.currentUser,\n      table: this.props.table\n    });\n    this.setState({\n      message: \"\"\n    });\n  }\n  handleChange(e) {\n    this.setState({message: e.currentTarget.value});\n  }\n  scrollToBottom() {\n    this.msgEnd.scrollIntoView({behavior: \"smooth\"});\n  }\n  render() {\n    console.log(\"chatroom\", chatroom);\n    if (this.msgEnd) {\n      this.scrollToBottom();\n    }\n    let {currentUser, table, chatroom} = this.props;\n    if (!table || !currentUser) {\n      console.log(\"no current table data\");\n    }\n    let {players} = table;\n    let messageList;\n    let emojiList = this.emoji.map((emj, i) => (\n      <span\n        key={`emj-${i}`}\n        className=\"emjbtn\"\n        onClick={() => this.addEmoji(emj)}>\n        {emj}\n      </span>\n    ));\n\n    console.log(\"table.viewer\", table.viewers);\n    if (chatroom && chatroom.message && table && table.viewers) {\n      // let chatLen = 30;\n      let end = Object.keys(chatroom.message).length;\n      let chatStart = 0; //end - chatLen >= 0 ? end - chatLen : 0;\n      let isCurrentUserAPlayer = players.some(\n        player => player === currentUser.uid\n      );\n      let msgMapList;\n      console.log(\n        \"isCurrentUserAPlayer in chat room\",\n        isCurrentUserAPlayer\n      );\n      if (isCurrentUserAPlayer) {\n        msgMapList = Object.keys(chatroom.message)\n          .sort((a, b) => +a - +b)\n          .filter(key => chatroom.message[key].isPlayer);\n      } else {\n        msgMapList = Object.keys(chatroom.message).sort(\n          (a, b) => +a - +b\n        );\n      }\n\n      messageList = msgMapList.map((id, index) => {\n        let color = table.viewers[chatroom.message[id].uid];\n        let symbol = null;\n        let playerIndex = players.findIndex(\n          player => player === chatroom.message[id].uid\n        );\n        if (playerIndex > -1) {\n          symbol = (\n            <div\n              style={{backgroundColor: color}}\n              className=\"symbol\">\n              {SUIT_SHAPE[playerIndex](0.1, \"#ffffff\")}\n            </div>\n          );\n        }\n        let msg = chatroom.message[id].content;\n        return (\n          <div className=\"msg\" key={`message-${index}`}>\n            <a>\n              {symbol}\n              <b style={{color: color}}>\n                {chatroom.message[id].displayName}{\" \"}\n                <b className=\"comma\">:</b>\n              </b>\n              {msg}\n            </a>\n          </div>\n        );\n      });\n    }\n\n    return (\n      <div className=\"chatroom\">\n        <div className=\"msg-wrapper\">\n          {messageList}\n          <div\n            ref={el => {\n              this.msgEnd = el;\n            }}\n            style={{float: \"left\", clear: \"both\"}}>\n            <i />\n          </div>\n        </div>\n        <div className=\"typing-area\">\n          <textarea\n            placeholder=\"type something...\"\n            rows=\"10\"\n            col=\"50\"\n            value={this.state.message}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress}\n          />\n          <div className=\"emoji\">{emojiList}</div>\n          <button onClick={this.sendMessage}>Send</button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport GameRecord from \"./gameRecord.js\";\nimport GameRewind from \"./gameRewind.js\";\nimport {TAB_OPTION} from \"../constant.js\";\nimport Chatroom from \"../chatroom.js\";\n\nexport default class Sidebar extends React.Component {\n  constructor(props) {\n    super(props);\n    let {record} = this.props.table;\n    this.state = {\n      tab: 0,\n      currentRecord: record ? record.length - 1 : null\n    };\n    this.changeRecord = this.changeRecord.bind(this);\n    this.handleTab = this.handleTab.bind(this);\n  }\n  changeRecord(index) {\n    this.setState({currentRecord: index});\n  }\n  handleTab(index) {\n    this.setState({tab: index});\n  }\n  render() {\n    if (!this.props.table) return null;\n    let options = TAB_OPTION.map((opt, i) => (\n      <div\n        onClick={() => this.handleTab(i)}\n        className={this.state.tab === i ? `current ${opt}` : `${opt}`}\n        key={`opt-${i}`}>\n        <span />\n        <b>{opt}</b>\n      </div>\n    ));\n    let currentRecord = null;\n    if (this.props.table.record) {\n      currentRecord =\n                this.state.currentRecord >= 0 &&\n                this.props.table.record[this.state.currentRecord];\n    }\n\n    let domRecord = (\n      <div>\n        <GameRecord\n          players={this.props.table.players}\n          record={this.props.table.record || null}\n          changeRecord={this.changeRecord}\n          currentRecord={this.state.currentRecord}\n        />\n        <GameRewind\n          players={this.props.table.players}\n          record={currentRecord}\n        />\n      </div>\n    );\n    let domChatroom = (\n      <Chatroom\n        currentUser={this.props.currentUser}\n        chatroom={this.props.chatroom}\n        table={this.props.table}\n      />\n    );\n\n    let currentTabContent = this.state.tab === 0 ? domChatroom : domRecord;\n\n    return (\n      <div className=\"sidebar\">\n        <div className=\"tab-wrapper\">\n          <div className=\"tabs\">{options}</div>\n        </div>\n        <div>{currentTabContent}</div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Game from \"./game.js\";\nimport {getRandomInt, getObjSortKey, getRandomKey} from \"../helper/helper.js\";\nimport {Redirect} from \"react-router-dom\";\nimport {dispatch, dispatchToDatabase} from \"../reducer/reducer.js\";\nimport Sidebar from \"./sidebar/sidebar.js\";\nimport {app} from \"../firebase/firebase.js\";\nimport randomColor from \"randomcolor\";\nimport {EMPTY_SEAT} from \"./constant.js\";\nimport \"../style/table.scss\";\nimport \"../style/sidebar.scss\";\nimport \"../style/record-item.scss\";\nimport \"../style/record.scss\";\nimport \"../style/dot.scss\";\nimport \"../style/rewind.scss\";\n\nexport default class Table extends React.Component {\n  constructor(props) {\n    super(props);\n    this.updateTableData = this.updateTableData.bind(this);\n    this.linkId = this.props.match.params.id;\n    this.getUserAuthInfo = this.getUserAuthInfo.bind(this);\n\n    if (!this.props.currentUser) {\n      this.getUserAuthInfo()\n        .then(user =>\n          app.getDataByPathOnce(\n            `tableList/${this.linkId}`,\n            snapshot => {\n              let tableKey = snapshot.val().id;\n              app.getDataByPathOnce(\n                `tables/${tableKey}/`,\n                snapshot => {\n                  this.updateTableData(tableKey, this.linkId)\n                    .then(msg =>\n                      this.setState({isLoad: true})\n                    )\n                    .catch(err => console.log(err));\n                }\n              );\n            }\n          )\n        )\n        .catch(err => this.setState({redirectToLogin: true}));\n    } else {\n      this.linkId = this.props.match.params.id;\n      this.tableKey = this.props.tableList[this.linkId].id;\n      this.updateTableData()\n        .then(msg => this.setState({isLoad: true}))\n        .catch(err => console.log(err));\n    }\n\n    this.state = {\n      isLoad: false,\n      redirectToLogin: false\n    };\n\n    // only fetch data\n\n    this.addPlayerToTable = this.addPlayerToTable.bind(this);\n    this.color = randomColor(\"dark\");\n  }\n\n  getUserAuthInfo() {\n    return new Promise((resolve, reject) => {\n      app.auth.onAuthStateChanged(user => {\n        if (user) {\n          app.getDataByPathOnce(`users/${user.uid}`, snapshot => {\n            let userInfo = snapshot.val();\n            resolve(userInfo);\n            dispatch(\"UPDATE_USER_INFO\", {\n              user: user,\n              uid: user.uid,\n              userInfo: snapshot.val()\n            });\n          });\n        } else {\n          reject(true);\n          return dispatch(\"UPDATE_USER_INFO\", {\n            uid: null,\n            userInfo: null,\n            user: null\n          });\n        }\n      });\n    });\n  }\n  updateTableData(tableKey = this.tableKey, linkId = this.linkId) {\n    return new Promise((resolve, reject) => {\n      app.getNodeByPath(`tables/${tableKey}`, value => {\n        resolve(value.val());\n        return dispatch(\"UPDATE_TABLE_DATA\", {\n          table: value.val(),\n          id: tableKey\n        });\n      });\n      app.getNodeByPath(`chatroom/${tableKey}`, value => {\n        resolve(\"successfulyy\");\n        return dispatch(\"UPDATE_CHAT_ROOM\", {\n          chatroom: value.val()\n        });\n      });\n    });\n  }\n\n  componentDidMount() {\n    // fetch data again\n    let _this = this;\n    this.updateTableData().then(data => _this.setState({isLoad: true}));\n  }\n\n  addPlayerToTable(table) {\n    if (!table) return;\n    let {players, viewers} = table;\n    let emptySeatIndex = players.findIndex(seat => seat === EMPTY_SEAT);\n    let alreadyAPlayer = players.some(\n      seat => seat === this.props.currentUser.uid\n    );\n    let alreadyAViewer = Boolean(\n      viewers && viewers[this.props.currentUser.uid]\n    );\n    if (emptySeatIndex > -1 && !alreadyAPlayer) {\n      dispatchToDatabase(\"ADD_PLAYER_TO_TABLE\", {\n        currentUser: this.props.currentUser,\n        table: table,\n        emptySeatIndex: emptySeatIndex,\n        color: this.color\n      });\n    } else if (!alreadyAViewer) {\n      dispatchToDatabase(\"ADD_VIEWER_TO_TABLE\", {\n        currentUser: this.props.currentUser,\n        table: table,\n        color: this.color\n      });\n    }\n  }\n  componentDidUpdate(prevProps) {\n    // if this is a different table\n    if (this.props.currentTableId !== prevProps.currentTableId) {\n      this.setState({isLoad: false});\n      this.updateTableData().then(data => this.setState({isLoad: true}));\n    }\n\n    let {tableKey, linkId} = this;\n\n    if (this.props.tableList[linkId].id) {\n      if (this.props.tables[tableKey] !== prevProps.tables[tableKey]) {\n        this.addPlayerToTable(this.props.tables[tableKey]);\n        dispatch(\"SET_CURRENT_HEADER\", {isInTablePage: true});\n      }\n    }\n  }\n  render() {\n    if (this.state.redirectToLogin) {\n      return <Redirect to=\"/login\" />;\n    }\n\n    if (!this.state.isLoad) {\n      return <div>loading</div>;\n    }\n    let {tables, currentUser} = this.props;\n    let linkId = this.props.match.params.id;\n    let tableKey = this.props.tableList[linkId].id;\n    if (!tables || !tables[tableKey]) {\n      return null;\n    }\n    let targetTable = tables[tableKey];\n    if (targetTable.gameState && targetTable.gameState === \"close\") {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <div className=\"table\">\n        <Game\n          currentUser={currentUser}\n          currentTableId={this.props.currentTableId}\n          table={targetTable}\n        />\n        <Sidebar\n          currentUser={currentUser}\n          chatroom={this.props.chatroom}\n          table={targetTable}\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {Thumbnail} from \"./thumbnail.js\";\nimport {app} from \"../firebase/firebase.js\";\nimport {Link} from \"react-router-dom\";\nimport \"../style/user-state.scss\";\n\nexport default class UserState extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false\n    };\n    this.handleSignOut = this.handleSignOut.bind(this);\n    this.closePanel = this.closePanel.bind(this);\n  }\n  handleSignOut() {\n    this.closePanel();\n    app.auth.signOut();\n  }\n  closePanel() {\n    this.setState({isOpen: false});\n  }\n  render() {\n    console.log(\"xxxxxxxxx\");\n    // console.log(this.props.currentUser.uid);\n    let name;\n    if (\n      this.props.userList &&\n            this.props.userList[this.props.currentUser.uid]\n    ) {\n      name = this.props.userList[this.props.currentUser.uid].displayName;\n    }\n    if (!name) {\n      name === \"\";\n    }\n    return (\n      <div className=\"user-state-panel\">\n        <div\n          className={\n            this.state.isOpen\n              ? \"Login-state-btn open-btn\"\n              : \"Login-state-btn\"\n          }\n          onClick={() => this.setState({isOpen: !this.state.isOpen})}>\n          <Thumbnail size={40} name={name} />\n          <div>\n            <h6>{this.props.currentUser.displayName}</h6>\n            <span>online</span>\n          </div>\n        </div>\n        <div className={this.state.isOpen ? \"options open\" : \"options\"}>\n          <a>Rank</a>\n          <a>Win Rate</a>\n          <a>Profile</a>\n          <Link onClick={this.handleSignOut} to=\"/\">\n                        Sign out\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n","import \"../style/reset.scss\";\nimport \"../style/header.scss\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Link} from \"react-router-dom\";\nimport logoImg from \"../images/logo.png\";\nimport {dispatch} from \"../reducer/reducer.js\";\nimport UserState from \"./userState.js\";\n\nexport default class Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.updateHeader = this.updateHeader.bind(this);\n  }\n  updateHeader() {\n    dispatch(\"SET_CURRENT_HEADER\", {isInTablePage: false});\n  }\n  render() {\n    let userProfile = (\n      <UserState\n        uid={this.props.uid}\n        currentUser={this.props.currentUser}\n        userList={this.props.userList}\n      />\n    );\n    let rightTopCorner;\n    let registerBtns = (\n      <div className=\"register-btn-groups\">\n        <Link onClick={this.updateHeader} to=\"/signup\">\n                    Sign up\n        </Link>\n        <Link onClick={this.updateHeader} to=\"/login\">\n                    Log in\n        </Link>\n      </div>\n    );\n    rightTopCorner = this.props.uid ? userProfile : registerBtns;\n    return (\n      <header className={this.props.isInTablePage ? \"table-header\" : \"\"}>\n        <div>\n          <Link to=\"/\" onClick={this.updateHeader}>\n            <img src={logoImg} />\n            <h1>Bridge Together</h1>\n          </Link>\n        </div>\n        <div>\n          <div>{rightTopCorner}</div>\n        </div>\n      </header>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {Link, Redirect} from \"react-router-dom\";\nimport {getRandomKey} from \"../helper/helper.js\";\nimport {dispatch, dispatchToDatabase} from \"../reducer/reducer.js\";\nimport {EMPTY_SEAT} from \"../components/constant.js\";\nimport {getObj, getObjSortKey} from \"../helper/helper.js\";\nimport {app} from \"../firebase/firebase.js\";\nimport \"../style/table-list.scss\";\n\nexport default class OpenTables extends React.Component {\n  constructor(props) {\n    super(props);\n    this.createTable = this.createTable.bind(this);\n    this.updateHeader = this.updateHeader.bind(this);\n    this.setCurrentTable = this.setCurrentTable.bind(this);\n  }\n  createTable(tableRef) {\n    if (!this.props.currentUser) {\n      return;\n    }\n    dispatchToDatabase(\"CREATE_TABLE\", {\n      tableRef: tableRef,\n      currentUser: this.props.currentUser\n    });\n    this.updateHeader();\n    this.setCurrentTable(tableRef);\n  }\n  setCurrentTable(id) {\n    if (this.props.currentUser) {\n      dispatch(\"UPDATE_CURRENT_TABLE_ID\", {currentTableId: id});\n    }\n    this.updateHeader();\n  }\n  updateHeader() {\n    let val = true;\n    if (!this.props.currentUser) {\n      val = false;\n    }\n    dispatch(\"SET_CURRENT_HEADER\", {isInTablePage: val});\n  }\n  render() {\n    let tableList = this.props.tableList;\n    let tableLinks;\n    if (tableList) {\n      let tableListKey = Object.keys(tableList);\n      let filteredList = tableListKey.filter(\n        key =>\n          tableList[key].players\n            ? tableList[key].players.some(\n              seat => seat === EMPTY_SEAT\n            )\n            : !tableList[key].players\n      );\n\n      tableLinks = filteredList.map((key, index) => {\n        let players = this.props.tableList[key].players;\n        let emptySeats = players\n          ? players.filter(player => player === EMPTY_SEAT).length\n          : 4;\n\n        // should have owner\n        let owner = \"\";\n\n        return (\n          <div\n            className=\"table-list-item\"\n            key={`tablelist-item-${index}}`}>\n            <div>{index + 1}</div>\n            <div>{owner}</div>\n            <div className=\"empty-seats\">{emptySeats} </div>\n            <div>\n              <Link\n                className=\"btn-style-border\"\n                onClick={() => this.setCurrentTable(key)}\n                key={key}\n                to={\n                  this.props.currentUser\n                    ? `/table/${key}`\n                    : \"/login\"\n                }>\n                                Play\n              </Link>\n            </div>\n          </div>\n        );\n      });\n      // onClick={() => this.addPlayerToTable(key)}\n    }\n\n    let tableRef = new Date().getTime();\n    let openBtn = this.props.openBtn && (\n      <Link\n        className=\"btn-style-border\"\n        onClick={() => this.createTable(tableRef)}\n        to={this.props.currentUser ? `/table/${tableRef}` : \"/login\"}>\n                Open table\n      </Link>\n    );\n\n    return (\n      <div className=\"table-list\">\n        {this.props.title && <h4>{this.props.title}</h4>}\n        <div className=\"table-list-header\">\n          <div>No.</div>\n          <div>Owner</div>\n          <div>Available seat</div>\n          <div className=\"open-table-section\">{openBtn}</div>\n        </div>\n        <div className=\"table-list-item-group\">{tableLinks}</div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {Link} from \"react-router-dom\";\nimport {getRandomKey} from \"../helper/helper.js\";\nimport {dispatch, dispatchToDatabase} from \"../reducer/reducer.js\";\nimport {EMPTY_SEAT} from \"../components/constant.js\";\nimport {getObj, getObjSortKey} from \"../helper/helper.js\";\nimport {app} from \"../firebase/firebase.js\";\nimport \"../style/table-list.scss\";\n\nexport default class OpenTables extends React.Component {\n  constructor(props) {\n    super(props);\n    this.createTable = this.createTable.bind(this);\n    this.updateHeader = this.updateHeader.bind(this);\n    this.setCurrentTable = this.setCurrentTable.bind(this);\n  }\n  updateHeader() {\n    let val = false;\n    if (this.props.currentUser) {\n      val = true;\n    }\n    dispatch(\"SET_CURRENT_HEADER\", {isInTablePage: val});\n  }\n  createTable(tableRef) {\n    dispatchToDatabase(\"CREATE_TABLE\", {\n      tableRef: tableRef,\n      currentUser: this.props.currentUser\n    });\n  }\n  setCurrentTable(id) {\n    this.updateHeader();\n    if (this.props.currentUser) {\n      dispatch(\"UPDATE_CURRENT_TABLE_ID\", {currentTableId: id});\n    }\n  }\n  render() {\n    let {tableList} = this.props;\n    let tableLinks;\n    if (tableList) {\n      let tableListKey = Object.keys(tableList);\n      let playingTables = tableListKey.filter(\n        key =>\n          tableList[key].players &&\n                    !tableList[key].players.some(\n                      player => player === EMPTY_SEAT\n                    )\n      );\n      tableLinks = playingTables.map((key, index) => {\n        let {players, playerInfo} = this.props.tableList[key];\n        let playerList = players.map((playerKey, index) => (\n          <div key={`playerSeat-${index}`}>\n            {playerInfo[playerKey]\n              ? playerInfo[playerKey].displayName\n              : \"Anonymous\"}\n          </div>\n        ));\n        return (\n          <div\n            className=\"playing-table\"\n            key={`playing-table-item-${index}}`}>\n            <div>{index + 1}</div>\n            {playerList}\n            <div>\n              <Link\n                onClick={() => this.setCurrentTable(key)}\n                className=\"btn-style-border\"\n                to={\n                  this.props.currentUser\n                    ? `/table/${key}`\n                    : \"/login\"\n                }>\n                                View\n              </Link>\n            </div>\n          </div>\n        );\n      });\n    }\n    return (\n      <div className=\"table-list\">\n        <h4>Live</h4>\n        <div className=\"table-list-header playing-table-header\">\n          <div>No.</div>\n          <div>South</div>\n          <div>West</div>\n          <div>North</div>\n          <div>East</div>\n          <div />\n        </div>\n        <div className=\"table-list-item-group\">{tableLinks}</div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {\n  IndexRoute,\n  BrowserRouter,\n  Router,\n  Route,\n  Switch,\n  Link\n} from \"react-router-dom\";\nimport {EMPTY_SEAT} from \"./constant.js\";\nimport OpenTables from \"./openTables.js\";\nimport PlayingTables from \"./playingTables.js\";\nimport \"../style/lobby.scss\";\nimport openImg from \"../images/open.svg\";\nimport playImg from \"../images/play.svg\";\n\nexport default class Lobby extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    let open = 0,\n      playing = 0;\n    if (this.props.tableList) {\n      open = Object.keys(this.props.tableList).filter(key => {\n        if (\n          this.props.tableList[key] &&\n                    this.props.tableList[key].players\n        ) {\n          return this.props.tableList[key].players.some(\n            player => player === EMPTY_SEAT\n          );\n        }\n        return false;\n      }).length;\n    }\n    return (\n      <div className=\"lobby\">\n        <div className=\"lobby-title\">\n          <h2>Welcome to Wow Bridge</h2>\n        </div>\n        <div className=\"table-lists\">\n          <div className=\"table-list-wrapper\">\n            <h3>Open</h3>\n            <div className=\"table-num\" />\n            <div className=\"table-list-inner\">\n              <img src={openImg} />\n              <OpenTables\n                title={\"Join A Table To Play\"}\n                openBtn={true}\n                tables={this.props.tables}\n                currentUser={this.props.currentUser}\n                open={true}\n                tableList={this.props.tableList}\n              />\n            </div>\n          </div>\n          <div className=\"table-list-wrapper\">\n            <h3>Playing</h3>\n            <div className=\"table-num\" />\n            <div className=\"table-list-inner\">\n              <img src={playImg} />\n              <PlayingTables\n                tables={this.props.tables}\n                title={false}\n                openBtn={true}\n                open={false}\n                currentUser={this.props.currentUser}\n                tableList={this.props.tableList}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// <TableList\n//   currentUser={this.props.currentUser}\n//   tableList={this.props.tableList}\n// />\n// <span>3</span> <b>tables</b>\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nexport default class Loading extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return <div>loading...</div>;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {app} from \"../firebase/firebase.js\";\nimport \"../style/signup.scss\";\nimport \"../style/btn.scss\";\nimport \"../style/checkbox.scss\";\nimport {Redirect} from \"react-router-dom\";\nimport {dispatchToDatabase} from \"../reducer/reducer.js\";\n\nconst error = {\n  \"no-error\": \"\"\n};\n\nexport default class SignUp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      confirm: \"\",\n      agreement: false,\n      message: \"\",\n      redirect: false\n    };\n    this.handleSignUp = this.handleSignUp.bind(this);\n  }\n  handleSignUp() {\n    let auth = app.auth;\n    let {email, password, name} = this.state;\n    if (!email || !password || !confirm) return;\n    let promise = auth.createUserWithEmailAndPassword(email, password);\n    promise\n      .then(user => {\n        this.props.updateUserInfo(user, {\n          name: name,\n          email: email\n        });\n        return auth.onAuthStateChanged(user => {\n          if (user) {\n            let userInfo = {\n              displayName: name,\n              email: email\n            };\n            user.updateProfile(userInfo);\n            app.getDataByPathOnce(`users/${user.uid}`, snapshot => {\n              if (!snapshot.val()) {\n                dispatchToDatabase(\"CREATE_USER\", {\n                  uid: user.uid,\n                  userInfo: userInfo\n                });\n              }\n            });\n          } else {\n            console.log(\"no user uid\");\n          }\n        });\n      })\n      .then(user => this.setState({redirect: true}))\n      .catch(error => this.setState({message: error.message}));\n  }\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <div className=\"singup-wrapper\">\n        <div className=\"signup\">\n          <h2>Sign up</h2>\n          <div>\n            <h3>User name</h3>\n            <input\n              placeholder=\"Your name\"\n              type=\"text\"\n              onChange={e => {\n                this.setState({\n                  name: e.currentTarget.value,\n                  message: \"\"\n                });\n              }}\n              value={this.state.name}\n            />\n          </div>\n          <div>\n            <h3>Password</h3>\n            <input\n              placeholder=\"New password\"\n              type=\"password\"\n              onChange={e => {\n                this.setState({\n                  password: e.currentTarget.value,\n                  message: \"\"\n                });\n              }}\n              value={this.state.password}\n            />\n          </div>\n          <div>\n            <h3>Confirm password</h3>\n            <input\n              placeholder=\"Confirm new password\"\n              type=\"password\"\n              onChange={e => {\n                this.setState({\n                  confirm: e.currentTarget.value,\n                  message: \"\"\n                });\n              }}\n              value={this.state.confirm}\n            />\n          </div>\n          <div>\n            <h3>Email</h3>\n            <input\n              type=\"email\"\n              placeholder=\"Email address\"\n              onChange={e => {\n                this.setState({\n                  email: e.currentTarget.value,\n                  message: \"\"\n                });\n              }}\n              value={this.state.email}\n            />\n          </div>\n          <div>\n            <label className=\"checkbox-lable\">\n              <input id=\"agreement\" type=\"checkbox\" />\n              <div\n                className={\n                  this.state.agreement ? \"checked\" : \"\"\n                }\n                onClick={() =>\n                  this.setState({\n                    agreement: !this.state.agreement\n                  })\n                }\n              />\n              <span\n                onClick={() =>\n                  this.setState({\n                    agreement: !this.state.agreement\n                  })\n                }>\n                                I allow the use of collected data about my study\n                                behavior for research purposes. The data\n                                contains information from game playing and chatting\n                                messages. No individuals can be identified from\n                                publications.\n              </span>\n            </label>\n            <div className=\"error-text error-text-panel\">\n              {this.state.message}\n            </div>\n            <div className=\"btn-group\">\n              <button\n                onClick={this.handleSignUp}\n                className=\"btn-style-round\">\n                                Sign up\n              </button>\n              <button className=\"btn-style-round fb-sign-btn\">\n                                Facebook\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import \"./style/main.scss\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Game from \"./components/game.js\";\nimport Login from \"./components/login.js\";\nimport CreateTable from \"./components/createTable.js\";\nimport Table from \"./components/table.js\";\nimport Header from \"./components/header.js\";\nimport Lobby from \"./components/lobby.js\";\nimport Loading from \"./components/loading.js\";\nimport SignUp from \"./components/signUp.js\";\nimport {\n  IndexRoute,\n  BrowserRouter,\n  Router,\n  Route,\n  Switch,\n  Redirect,\n  Link,\n  withrouter,\n  HashRouter\n} from \"react-router-dom\";\nimport {dispatch, store} from \"./reducer/reducer.js\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = store.getState();\n    this.update = this.update.bind(this);\n    this.stopLoading = this.stopLoading.bind(this);\n    this.updateUserInfo = this.updateUserInfo.bind(this);\n  }\n  update() {\n    this.setState(store.getState());\n  }\n  componentDidUnMount() {\n    this.unSubscribe();\n  }\n  componentDidMount() {\n    this.unSubscribe = store.subscribe(this.update.bind(this));\n    this.stopLoading();\n  }\n  updateUserInfo(user, userInfo) {\n    dispatch(\"UPDATE_USER_INFO\", {\n      user: user,\n      uid: user.uid,\n      userInfo: userInfo\n    });\n  }\n  stopLoading() {\n    dispatch(\"STOP_LOADING\", {isLoad: true});\n  }\n  render() {\n    console.log(\"in APP\", this.state);\n    let pathName = window.location.pathname;\n    if (!this.state.isLoad) {\n      return <Loading />;\n    }\n    let currentUser = this.state.user;\n    return (\n      <div>\n        <HashRouter>\n          <div>\n            <Header\n              userList={this.state.userList}\n              isInTablePage={this.state.isInTablePage}\n              isLogin={this.state.isLogin || false}\n              path={pathName}\n              userInfo={this.state.userInfo}\n              uid={this.state.uid}\n              currentUser={this.state.user}\n            />\n            <div>\n              <Route\n                path=\"/login\"\n                exact\n                render={props => <Login />}\n              />\n              <Route\n                exact\n                path=\"/signup\"\n                render={props => (\n                  <SignUp\n                    updateUserInfo={this.updateUserInfo}\n                    {...props}\n                  />\n                )}\n              />\n              <Route\n                path=\"/table/:id\"\n                render={props => (\n                  <Table\n                    currentTableId={\n                      this.state.currentTableId\n                    }\n                    chatroom={this.state.chatroom}\n                    tables={this.state.tables}\n                    tableList={this.state.tableList}\n                    currentUser={this.state.user}\n                    {...props}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/\"\n                render={() => (\n                  <Lobby\n                    tables={this.state.tables || null}\n                    currentUser={this.state.user}\n                    tableList={this.state.tableList}\n                  />\n                )}\n              />\n            </div>\n          </div>\n        </HashRouter>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById(\"main\"));\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAnCAYAAACWn7G7AAAABGdBTUEAALGPC/xhBQAABsRJREFUWAm1WHtsU1UY/+69bWXt1hbceEi3jnUdr2yACIgwI0aMUUyEGBMgopKg8Q/QP4xEHglIRkLEPxSfMRohRqKJj4gmGEJAdMA6QUjUoGRj7Ub3gLF17R7t1tbf6bg393G69o55k5vzne/7fd/5nXO/e853r0ATdKXTaXskEvkO7QpBEP5G2yCKYgByoKio6F+06TsdSrjTALI/iG5KpVKH5b66BdFe9BtxBzCBzCQKCws71Zh8ZAPZ1tbW6hSlvk1TehoCXMPdTAI1iSQ2kUhNQlJo9ng8QRAYVg/Q29v7MVbzRbUuhxxCjAAwDZIkBUD+Avr9Y/kYyAZDwcMgumlMJ0FIUppCwDRhIs0Y5EqRo+h59GvG8hvLhhhJTPav2xMIWCyWBofDwfpJ2Y9HthFk75MB+bQIeMlV5KrBYGI+eBMYttIXEf+szWZ7z6J3BNFKvS5X3yJZWkB0YS7cOOwO+NQidm08Hn9csxLhcLgYRrfZoJJFSpj1MYvH6no0ZPE2m15VNqhVst5tdvBx4P/QkE2mk6bJYsbdeJurxzG4WZdzGrLwNk0WPpeRU1PNjmwWj/35/LjIDgwM0meffkF79x4gm9V20+zA48HjCTZY1I757AQnT/5Cnx8+Sj09vVRaNpPwclnVMZgcvRigrq+O0EDTPyTaJpF71WqasWEziY5CPTSvPog24ci+oSErkFAJwtwAbDXfefcjqq9vUOxVfl/aZrGVIQ0UXaT+NLXs36X0U4ODdPP7ryly9gz5D35IFqeb+n4/T8M3OkmcNIlcyx8kqcip4HkC4p9neoVsT0+POxKNcN/qULCN3qx7izratcd5WVlpO2Iop1a8LUihg/t449FwVwc17XiVktEIjURYqTB6hT85ROW79lPhgsWyytCyfGVKJWej0ajfgIKiubmFtr+xx0CUYf1+31XMWkmD7uM/UCoR54XJ6Nhk1ESZMjnQT9fqdlK8LZTVT15ZhSyQhp0gHO6gHTv3UTQaMwTC2U2Laqq71Ab2qMdzpfpjdPPHb7K5DrpcrsvMqJBFpaUhm0gkqK7ubYrF+IXQrFlesjvsmmRLj4xkGzCnvq/xXDYMq8YyFZ5Clr1cavSpU79RMNSqVmnkyspZcVEQ56uVYoFd3TUls3TgXSCayVdmU8ii1NOQPXHiFM9X0ZV6ZrJa16MoIDgXL1N3TckWpysb3khWv8d2dmrS0RBozmx/UK9k++l4L+eSB7iuKA21ZLu7u53YXvM+MgsKCmhBTbXhrbP751LhQlOlcIagaLuLStat55Fts9vt12VDJg2i8agmBZix0l8hYwwt8jVttVo1KSCDpm/cLIv5tZJEZdv3knWKcYtX5ysLliErpLQvFzM8vOpB1nAvr7fsFgIph4Ea5JhXQ1MeXaNWZZXZinpf30Ou+1dyMfL+KhtHyep2AmasrV1Oqx95SMZpWq/X0wJFgUap6tyzZStZi8fOKlvJNKrE8eteuUrlqRVReir5yiwZsvo9VnbZtu0l2rDhaSopKSZ8fbITi16Bbu1Ta67KGF4r2R3kfW03CZLFaBYEKl6zjqo+OEIFviqj/baG7a0oXi6oAZkPRnzRnsFuUKs2jCXjS/YnnNdPjIVhtlvHj1HroQMKrLDmXprxwstkr5qr6LIJINvodruXqu3y1A0vmBqklhGkH49nDvJJrebKUx57kobaWigRvk5Tn3mW7HM0ZwjXR1bq85XphY6ODsdQYsiwDclO+lYQhXqnw7lCr5/oPp7cRtQEX6rjisPDwz61IpcsiVI4F2Yi7LyVFZOU5JaG2Qa0WpSKMBvkjvVItS7ka7M+kKgvYPQAfR/fXNP1uonuY1UbeDHZ1pX3ywVsC2b9v392YwzN/ioTF/UFjGzgtgIlMOvsdSPXybwSY3CLW3NpkKaqvljfafwMeR8UfsXNL0LN81M8sKop5GujolAJbJ+drOrnFDHrrbFYjBC0DU/lZ/yUC+H3URKlXDGcF0E/HxgpZ6AsAPj+iRjcrZSRPQjjboAyR2+WGAY18Kzq8ozgU4bd2KtTKDOvoIg/ih2jE99oEl7GUuCWAFdmCJBFAS7cfGXw0eO2NzhZikmzR9IjPuwOPgxaARvbf31ATMeAGRxzMHkNwf9c8eTi9fjptww3Oz7ZvQQxuX8rcRg8h8PgCG+cnCTw274gZUlVoIz0YYAKIS34UPiMTiRN5Qhq4wVWdAJdKi8tX6T0IbDJ49O/Cu1SNgGs5jLI89DWg+hatANqvCznJCsDeS0GENvb2z0Y0IenkpkIcGwimSeDnE4IkrDFO9N7jOdvVvcftb81livLa7EAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"fdb4e8debbfd9c2e44a38f528e320ee4.svg\";","module.exports = __webpack_public_path__ + \"7df62acafa694b8c1a4a0528fb6546cc.svg\";"],"sourceRoot":""}
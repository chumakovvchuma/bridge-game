(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){},101:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);n(25);var r=n(0),a=n.n(r),o=n(4),i=n.n(o),l=(n(10),n(16),n(1),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="abcdefghijklmnopqrstuvxyzABCDEFGHIJKLMNOPQRSTUVXYZ";return Array.from({length:e}).fill(0).map(function(e){return t[Math.floor(Math.random()*(t.length-1))]}).join("")}),c=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},u=n(13),s=n(19),f=n(20),p=n.n(f).a.initializeApp({apiKey:"AIzaSyDsmWxFexrd890dUvpA313qvxvcjDRp1Ok",authDomain:"wowbridge88.firebaseapp.com",databaseURL:"https://wowbridge88.firebaseio.com",projectId:"wowbridge88",storageBucket:"wowbridge88.appspot.com",messagingSenderId:"862342003288"}),d={db:p.database(),auth:p.auth(),getNodeByPathOnce:function(e,t){return p.database().ref(e).on("value",t)},getNodeByPath:function(e,t){return p.database().ref(e).on("value",t)},pushDataByPath:function(e,t){return p.database().ref(e).push(t)},cancelListenDataChange:function(e,t){return p.database().ref(e).off("value",t)},listenPathChildren:function(e,t){return p.database().ref(e).off("value")},setNodeByPath:function(e,t){return p.database().ref(e).set(t)},getNewChildKey:function(e){return p.database().ref().child(e).push().key},updateTableDataByID:function(e,t){p.database().ref("tables/"+e+"/").set(t)},updateTableGameDataByPath:function(e,t){p.database().ref("tables/"+e).set(t)},setTableListData:function(e,t){p.database().ref("tableList/"+e+"/").set(t)}},m=function(e){var t=e.scale;return a.a.createElement(v,{scale:t,ratio:.89,fill:"#FF525D"},a.a.createElement("path",{d:"M70.9643211,0 C59.2565148,0 53.056072,5.64335169 49.9709368,10.1546618 C46.889795,5.64335169 40.6986702,0 29.0152682,0 C15.0405332,0 0,9.29808951 0,29.7129874 C0,37.7588224 1.74734105,44.1438566 5.84192287,51.0638602 C9.82779506,57.7993304 18.2685439,66.1002296 30.9298889,75.7372219 C35.8715185,79.4984213 40.4235682,82.6625486 43.3724836,84.6547112 C49.0391399,88.4833363 49.2609963,88.5228158 49.9456452,88.5232594 C49.9802548,88.5241466 50.0135332,88.5245902 50.0468117,88.5245902 C50.6941887,88.5245902 51.1401201,88.3183208 56.5574098,84.6764471 C59.5081,82.6922691 64.0641431,79.5401188 69.0102098,75.7873476 C81.6870849,66.1698733 90.1513504,57.851674 94.1682825,51.0643038 C98.2557649,44.1571643 100,37.7712429 100,29.713431 C100,9.29808951 84.9488177,0 70.9643211,0 Z"}))},b=function(e){var t=e.scale;return a.a.createElement(v,{scale:t,ratio:1,fill:"#FF525D"},a.a.createElement("path",{d:"M88.5085925,35.4545714 C84.7618726,29.0791639 76.8279859,21.2225289 64.9275728,12.1017285 C60.2811897,8.54098888 56.0030971,5.54662558 53.2315338,3.66150342 C47.8489868,0 47.6921609,0 47.0310732,0 C46.3716539,0 46.2152451,0 40.8347835,3.64219036 C38.0615518,5.52017509 33.7788713,8.50362231 29.1295686,12.0555451 C17.2145573,21.1574523 9.25814768,29.0300415 5.48264861,35.4541516 C1.63958096,41.9928804 0,48.0361874 0,55.6623252 C0,74.9846174 14.1481113,83.785073 27.2935382,83.785073 C33.059808,83.785073 37.4025496,82.3177007 40.6500126,80.3074635 L37.0551136,94 L56.8014075,94 L53.1693874,80.1668141 C56.4343682,82.2488454 60.8367536,83.785073 66.7252308,83.785073 C79.8614817,83.785073 94,74.9846174 94,55.6623252 C94,48.0475233 92.3579165,42.0042164 88.5085925,35.4545714 Z",fill:"#222222"}))},h=function(e){var t=e.scale;return a.a.createElement(v,{scale:t,ratio:1,fill:"#FF525D"},a.a.createElement("polygon",{points:"46.5 0 0 50 46.5 100 93 50"}))},y=function(e){var t=e.scale;return a.a.createElement(v,{scale:t,ratio:.98,fill:"#222222"},a.a.createElement("path",{d:"M70.3555185,31.9345189 C71.174537,29.4903991 71.587963,26.9404062 71.587963,24.3163882 C71.587963,10.9083748 60.5577593,0 47,0 C33.4422407,0 22.412037,10.9083748 22.412037,24.3163882 C22.412037,26.9404062 22.825463,29.4903991 23.6444815,31.9345189 C10.5223426,32.426872 0,43.137703 0,56.2332616 C0,69.641275 11.0302037,80.5496498 24.587963,80.5496498 C30.872037,80.5496498 36.6116944,78.2040867 40.9631111,74.3539201 L35.6686481,92.1010101 L58.1820833,92.1010101 L52.8323519,74.1692877 C57.2077037,78.12834 63.0287407,80.5496498 69.412037,80.5496498 C82.9697963,80.5496498 94,69.641275 94,56.2332616 C94,43.137703 83.4776574,32.426872 70.3555185,31.9345189 Z",fill:"#222222"}))},v=function(e){var t=e.children,n=e.ratio,r=e.scale,o=e.fill,i=100*r,l=Math.floor(i*n);return a.a.createElement("div",null,a.a.createElement("svg",{width:i+"px",height:l+"px",viewBox:"0 0 "+i+" "+l},a.a.createElement("g",{fill:o,transform:"scale("+r+")"},t)))},g=52,E=13,w={0:function(e){return a.a.createElement(y,{scale:e})},1:function(e){return a.a.createElement(h,{scale:e})},2:function(e){return a.a.createElement(m,{scale:e})},3:function(e){return a.a.createElement(b,{scale:e})},4:function(e){return a.a.createElement("div",null,"NT")}},O=[2,3,4,5,6,7,8,9,10,"J","Q","K","A"],_={deal:0,bid:{isDb:!1,isRdb:!1,trick:0,trump:-1},order:-1,isGameOver:!1},k=[-1,-1,-1,-1],j="join",T=["Chat","Result"],C=["south","west","north","east"],N=function(e,t){return P.dispatch(Object.assign({},{type:e},t))},P=Object(u.b)(function(e,t){switch(t.type){case"HANDLE_LOGIN":return Object.assign({},e,{currentUser:t.name});case"STOP_LOADING":return Object.assign({},e,{isLoad:t.isLoad});case"FETCH_TABLE_DATA":return Object.assign({},e,{tables:t.tables});case"UPDATE_CHAT_ROOM":return Object.assign({},e,{chatroom:t.chatroom});case"UPDATE_TABLE_DATA":var n=t.id,r=t.table,a=e.tables,o=Object.assign({},a);return o[n]=r,Object.assign({},e,{tables:o});case"FETCH_TABLE_LIST":return Object.assign({},e,{tableList:t.tableList});default:return e}},{currentUser:null,isLoad:!1,tables:{}},Object(u.a)(s.a)),A=function(e,t){switch(e){case"CREATE_TABLE":var n=(new Date).getTime(),r=k.slice(0);r[0]=t.currentUser;var a=d.getNewChildKey("tables"),o=t.tableRef||n,i={timeStamp:o,gameState:j,id:a,linkId:o,game:_,players:r,ready:[!1,!1,!1,!1]};d.setNodeByPath("tables/"+a,i),d.setTableListData(o,{id:a});break;case"CREATE_NEW_GAME":var l=t.table,c=Object.assign({},l),u=c.record,s=c.game;u?u.push(s):u=[s],c.record=u,c.game=Object.assign({},_),c.ready=[!1,!1,!1,!1],c.timeStamp=(new Date).getTime(),c.gameState=j,d.updateTableDataByID(c.id,c);break;case"READY_A_PLAYER":var f=t.table,p=t.playerIndex,m="tables/"+f.id+"/ready/"+p;d.setNodeByPath(m,!0),d.updateTableGameDataByPath(f.id+"/timeStamp/",(new Date).getTime());break;case"ADD_NEW_DECK_TO_TABLE":var b=t.cards,h=t.table,y=Object.assign({},h.game,{cards:b});console.log("cards",b),d.updateTableDataByID(h.id+"/game/",y),console.log("should update cards");break;case"UPDATE_WINNER_CARD":var v=t.table,g=Object.assign({},v.game),E=g.cards;g.order=t.order;var w=E.findIndex(function(e){return e.value===t.winnerCard.value}),O=t.winnerCard;O.isWin=!0,g.deal=O.player,E[w]=O,51===t.order&&(g.isGameOver=!0),d.updateTableDataByID(v.id+"/game/",g);break;case"UPDATE_CURRENT_TRICK":var T=t.table,C=t.order,N=t.deal,P=T.game;d.updateTableGameDataByPath(T.id+"/game/order/",C);var A=P.cards,R=A.findIndex(function(e){return e.value===t.value}),U=A[R];U.order=C,d.updateTableGameDataByPath(T.id+"/game/deal/",N),d.updateTableGameDataByPath(T.id+"/timeStamp/",(new Date).getTime()),0===U.trick&&(U.trick=t.maxTrick,U.player=(N+4-1)%4,d.updateTableGameDataByPath(T.id+"/game/cards/"+R,U));break;case"ADD_PLAYER_TO_TABLE":console.log("in add_player to table reducer");var S=t.currentUser,D=t.table,L=t.emptySeatIndex,x=D.linkId,M=D.id,B=D.players;console.log("shouldn't be null",x,M,B),d.setNodeByPath("tables/"+M+"/players/"+L,S),d.updateTableGameDataByPath(M+"/timeStamp/",(new Date).getTime());var I=B.slice(0);I[L]=S,d.setNodeByPath("tableList/"+x+"/players",I);break;case"UPDATE_AUCTION":d.updateTableGameDataByPath(t.table.id+"/game/",t.game),d.updateTableGameDataByPath(t.table.id+"/timeStamp/",(new Date).getTime());break;case"SEND_MESSAGE_TO_CHATROOM":t.message;var W=t.currentUser,G=t.table,z=(new Date).getTime(),K={};K.content=t.message,K.user=W,d.setNodeByPath("chatroom/"+G.id+"/message/"+z+"/",K);default:return null}};d.getNodeByPath("tableList",function(e){return N("FETCH_TABLE_LIST",{tableList:e.val()})});n(50);var R=function(e){var t=e.value;return a.a.createElement("div",{className:"abbbbbbbbbbbbb"},a.a.createElement(U,{flipUp:!0,value:t}))},U=function(e){var t=e.value,n=e.evt,r=void 0===n?null:n,o=e.flipUp,i=e.name,l=void 0===i?null:i,c=Math.floor(t/E),u=l?"card-wrapper "+l:"card-wrapper";return o?a.a.createElement("div",{className:u,onClick:function(){r&&r(t)}},a.a.createElement("div",{className:"card flip-up"},a.a.createElement("div",{className:"card-inner"},a.a.createElement("div",{className:1===c||2===c?"red value":"black value"},O[t%E]),w[c](.235),a.a.createElement("div",{className:"large-shape"},w[c](.5))))):a.a.createElement("div",{className:u},a.a.createElement("div",{className:"card flip-down"},a.a.createElement("div",{className:"card-inner"})))};var S=function(e){return e?Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.map(function(e){return e.trick}))):null},D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var L=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={fadeOutCards:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),D(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.order!==e.order&&(this.props.order%4==3?setTimeout(function(){return t.setState({fadeOutCards:!0})},2e3):this.setState({fadeOutCards:!1}))}},{key:"render",value:function(){var e=["south-card","west-card","north-card","east-card"],t=this.props,n=(t.order,t.cards),r=t.cardsByPlayer;t.isTrickFinish;if(!n)return null;var o=null,i=S(n);return 0===i&&(i=1),r&&!this.state.fadeOutCards&&(o=r.map(function(t,n){var r=(t=t.sort(function(e,t){return e.value-t.value})).map(function(e){if(e.trick===i)return a.a.createElement(R,{key:l(),value:e.value})});return r.filter(function(e){return null!==e&&void 0!==e}).length>0?a.a.createElement("div",{className:"trick-card-wrapper "+e[n],key:"trick-card-"+n},r):null})),o&&(o=o.filter(function(e){return null!==e&&void 0!==e})),a.a.createElement("div",{className:"trick-area"},a.a.createElement("div",{className:"trick-area-inner"},o))}}]),t}(),x=(n(60),function(e){var t=0,n=0;return e.map(function(e,r){var a=e.isWin?1:0;r%4%2==0?t+=a:n+=a}),{teamA:t,teamB:n}}),M=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),B=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var I=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),B(t,[{key:"render",value:function(){var e=this.props,t=e.table,n=e.windowWidth,r=(e.windowHeight,t.game),o=t.players;if(!t||!t.game.cards)return null;var i=x(r.cards),l=M(o,4),c=l[0],u=l[1],s=l[2],f=l[3],p=this.props.innerStyle,d=this.props.ratio||.15,m={width:this.props.thumbnailSize,height:this.props.thumbnailSize};return a.a.createElement("div",{className:this.props.name?"trick-score "+this.props.name:"trick-score",style:p},a.a.createElement("div",{className:"trick-score-inner",style:{width:n*d}},a.a.createElement("div",{className:"group-wrapper"},a.a.createElement("div",{className:"group"},a.a.createElement("div",{className:"thumbnail-group",style:{minWidth:2*this.props.thumbnailSize}},a.a.createElement("div",{className:"thumbnail",style:m},a.a.createElement("span",null,c[0])),a.a.createElement("div",{className:"thumbnail",style:m},a.a.createElement("span",null,s[0]))),a.a.createElement("div",{className:"score"},i.teamA)),a.a.createElement("div",{className:"group"},a.a.createElement("div",{className:"thumbnail-group",style:{minWidth:2*this.props.thumbnailSize}},a.a.createElement("div",{className:"thumbnail",style:m},a.a.createElement("span",null,u[0])),a.a.createElement("div",{className:"thumbnail",style:m},a.a.createElement("span",null,f[0]))),a.a.createElement("div",{className:"score"},i.teamB))),this.props.children))}}]),t}(),W=(n(54),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var G=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.recordGame=n.recordGame.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),W(t,[{key:"recordGame",value:function(){var e=this.props.table,t=e.game;e&&51===t.order&&A("CREATE_NEW_GAME",{table:e})}},{key:"render",value:function(){var e=this.props,t=(e.windowWidth,e.table,e.windowHeight,e.currentUser),n=this.props.table,r=n.game,o=n.players;if(!r||!r.cards)return null;var i=0,l=0;r.cards.map(function(e,t){var n=e.isWin?1:0;t%4%2==0?i+=n:l+=n});var c="當溫拿的感覺原來如此, 94 送",u="魯蛇的世界有點複雜，魯魯如我輸惹",s=null,f=o.indexOf(t),p=r.bid,d=p.declarer,m=6+p.trick;return f>=0&&(s=d%2==0?f%2==0&&i>=m?c:u:f%2!=0&&l>=m?c:u),a.a.createElement("div",{className:"game-over-board"},a.a.createElement(I,{currentUser:this.props.currentUser,ratio:.5,thumbnailSize:46,windowWidth:this.props.windowWidth,widnowHeight:this.props.windowHeight,table:this.props.table},a.a.createElement("div",null,a.a.createElement("div",{className:"result"},a.a.createElement("div",{className:"words"},s)),a.a.createElement("div",{className:"btn-wrapper"},a.a.createElement("button",{onClick:this.recordGame,className:"btn"},"Start a new Game")))))}}]),t}(),z=function(e){var t=e.result,n=e.scale;if(!t)return null;var r=t.length;return a.a.createElement("div",{className:"record"},Array.from({length:Math.ceil(r/4)}).fill(0).map(function(e,r){return a.a.createElement("div",{key:l(),className:"row"},Array.from({length:4}).fill(0).map(function(e,o){var i=t[4*r+o];return i&&i.opt?a.a.createElement("div",{key:l(),className:"bid-result"},i.opt):i&&i.trick>=0?a.a.createElement("div",{key:l(),className:"bid-result"},a.a.createElement("div",null,i.trick+1),w[i.trump](n)):a.a.createElement("div",{key:l(),className:"bid-result"},null)}))}))},K=(n(18),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var F=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props.game;return n.state={currentTrick:r.bid.trick,visibility:!1,current:null},n.updateBid=n.updateBid.bind(n),n.validateUserTurnAndsetTrump=n.validateUserTurnAndsetTrump.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),K(t,[{key:"validateUserTurnAndsetTrump",value:function(e){var t=this,n=this.props,r=n.game,a=n.currentUser,o=n.players;a&&r&&(o&&a&&o.findIndex(function(e){return e===t.props.currentUser})===r.deal&&this.setState({currentTrick:e,current:e,visibility:!0}))}},{key:"updateBid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=void 0,r=!1,a=this.props.game.bid.declarer;if(e>-1&&null!==e){var o={trick:this.state.currentTrick,trump:e},i=this.props.game.bid.result||[];i.push(Object.assign({},o)),a=this.props.game.deal,n=Object.assign({},this.props.game.bid,o,{declarer:a},{result:i})}else{var l=this.props.game.bid.result||[];if(l.push({opt:t}),l.length>3){var c=l.slice(l.length-3,l.length).every(function(e){return"Pass"===e.opt}),u=l.some(function(e){return e.trick>=0});r=c&&u}n=Object.assign({},this.props.game.bid,{result:l})}var s=this.props.game.deal;s=r?(a+1)%4:(s+1)%4;var f=Object.assign({},this.props.game,{bid:n},{deal:s});A("UPDATE_AUCTION",{table:this.props.table,game:f}),this.setState({visibility:!1,current:null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.game,r=t.players,o=r&&r[n.deal]===this.props.currentUser,i=5*n.bid.trick+n.bid.trump,c=void 0,u=void 0;i<0?(c=Array.from({length:7}).fill(0).map(function(e,t){return t}),u=Array.from({length:5}).fill(0).map(function(e,t){return t})):34===i?(c=[],u=[]):i%5==4&&0!==i?(c=Array.from({length:7}).fill(0).map(function(e,t){return t}).filter(function(e){return e>n.bid.trick}),u=Array.from({length:5}).fill(0).map(function(e,t){return t})):(c=Array.from({length:7}).fill(0).map(function(e,t){return t}).filter(function(e){return e>=n.bid.trick}),u=Array.from({length:5}).fill(0).map(function(e,t){return t}).filter(function(e){return e>n.bid.trump}));var s=c.map(function(t,n){return a.a.createElement("button",{className:t===e.state.current?"current":null,onClick:function(){e.validateUserTurnAndsetTrump(t)},key:l()},t+1)}),f=this.state.currentTrick===c[0]?u:[0,1,2,3,4];34===i&&(f=[]),f=f.map(function(t){return a.a.createElement("div",{onClick:function(){return e.updateBid(t,null)},key:l()},w[t](.25))});var p=n.bid.result,d=p&&!p[p.length-1].opt&&a.a.createElement("button",{className:"d-btn",onClick:function(){return e.updateBid(-1,"Double")}},"Dboule"),m=p&&"Double"===p[p.length-1].opt&&a.a.createElement("button",{className:"d-btn",onClick:function(){return e.updateBid(-1,"ReDouble")}},"ReDouble"),b=r.map(function(t,n){return a.a.createElement("div",{key:l(),className:n===e.props.game.deal?"thumbnail current":"thumbnail"},a.a.createElement("span",null,t[0]))});return this.props.isFinishAuction?null:a.a.createElement("div",{className:"auction-inner"},a.a.createElement("div",{className:"thumbnail-group"},b),!n.bid.result&&a.a.createElement("div",{className:"notes"}," Start Auction "),a.a.createElement(z,{scale:.2,result:n.bid.result}),a.a.createElement("div",{className:"option-wrapper"},o&&a.a.createElement("div",{className:"other-btns"},a.a.createElement("button",{className:"pass",onClick:function(){return e.updateBid(null,"Pass")}},"Pass"),d,m),a.a.createElement("div",{className:"tricks"},s),this.state.visibility&&a.a.createElement("div",{className:"trumps"},f)))}}]),t}(),H=(n(57),n(74),function(e){var t=e.name,n=void 0===t?"":t,r=e.size,o=void 0===r?30:r,i=e.src,l=void 0!==i&&i,c=l?a.a.createElement("img",{src:l}):a.a.createElement("span",null,n[0]);return a.a.createElement("div",{className:"thumbnail",style:{width:o,height:o,borderRadius:o}},c)}),Y=function(e){var t=e.players,n=e.size,r=e.teamOrder,o=t.filter(function(e,t){return t%2===r}).map(function(e,t){return a.a.createElement(H,{key:"member-"+t,name:e,size:n})});return a.a.createElement("div",{className:"thumbnail-group"},o)},Z=function(e){var t=e.name,n=e.current,r=void 0===n?null:n;return a.a.createElement("div",{className:r?"player current":"player"},a.a.createElement(H,{size:38}),a.a.createElement("div",{className:"name"},t))},X=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var V=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),X(t,[{key:"render",value:function(){var e=this.props,t=e.table,n=e.windowWidth,r=(e.windowHeight,t.game),o=t.players;if(!r||!r.bid.result)return null;var i=o.map(function(e,t){return a.a.createElement("div",{key:l(),className:"thumbnail"},a.a.createElement("span",null,e[0]))});return a.a.createElement("div",{className:"auction-result",style:{top:5*Math.ceil(n/500),right:5*Math.ceil(n/500)}},a.a.createElement("div",{className:"auction-result-inner"},a.a.createElement("div",{className:"thumbnail-group"},i),a.a.createElement(z,{scale:.15,result:r.bid.result})))}}]),t}();function J(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var q=function(e){if(e)return[0,0,0,0].map(function(t,n){return e.filter(function(e,t){return t%4===n})}).slice(0)},Q=function(){for(var e=Array.from({length:g}).fill(0).map(function(e,t){return t}),t=e.length-1;t>0;t--){var n=c(0,g-1),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e},$=function(e){return function(e){return q(e).map(function(e){return e.map(function(e){return e%13>8?e%13-8:0})})}(e).every(function(e){return e.reduce(function(e,t){return t+e},0)>=7})},ee=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var te=function(e,t){if(e&&null!==t&&void 0!==t){var n=e.filter(function(e){return Math.floor(e.value/E)===t}).sort(function(e,t){return t.value-e.value});return n.length?n[0]:null}},ne=function(e,t){if(e){var n=e.cards,r=S(n),a=e.bid.trump,o=n.map(function(e,t){return Object.assign({},e,{index:t})}).filter(function(e){return e.trick===r&&e.trick>0||e.value===t}),i=void 0,l=!1;if(4===o.length){var c=Math.min.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o.map(function(e){return e.order}))),u=o.filter(function(e){return e.order===c}),s=ee(u,1)[0];if(4!==a){var f=te(o,a);null!==f?i=f:l=!0}if(4===a||l){var p=Math.floor(s.value/E);i=te(o,p)}}return i||null}},re=(n(85),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var ae=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setReadyState=n.setReadyState.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),re(t,[{key:"setReadyState",value:function(e){var t=this.props,n=(t.currentUser,t.table);if(n){n.game,n.players.slice(0);console.log("set ready state"),A("READY_A_PLAYER",{playerIndex:e,table:n})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.table,r=t.currentUser,o=n.game,i=n.ready,c=n.players;if(!o)return null;o.isGameOver;var u=o.order,s=c.some(function(e){return-1===e}),f=i.every(function(e){return!0===e});if(!(s&&u<0||!f))return null;var p=null,d=c.map(function(e,t){return a.a.createElement("div",{key:l(),className:!1===i[t]?"thumbnail":"thumbnail ready"},a.a.createElement("span",null,e[0]))}),m=void 0;return c.includes(r)&&(m=c.some(function(e,t){return e===r&&!i[t]}),p=c.map(function(t,n){return t!==r||i[n]?null:a.a.createElement("div",{key:l()},a.a.createElement("button",{key:l(),onClick:function(){return e.setReadyState(n)},className:"btn"},"加入牌局"))})),a.a.createElement("div",{className:"player-ready-list"},a.a.createElement("div",{className:"player-ready-list-inner"},a.a.createElement("div",{className:"row"}," ",d),m&&a.a.createElement("div",{className:"btn-wrapper"},p),a.a.createElement("div",{className:"notes"},"等待加入中...")))}}]),t}(),oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ie=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),oe(t,[{key:"componentDidMount",value:function(){console.log("timer did mount")}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){return this.props.time?a.a.createElement("div",null):null}}]),t}(),le=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ce=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props.table.game;return n.state={endAuction:r.order>=0,windowWidth:window.innerWidth,windowHeight:window.innerHeight},n.deal=n.deal.bind(n),n.getNextMaxTrick=n.getNextMaxTrick.bind(n),n.shuffle=n.shuffle.bind(n),n.suffleCardsWhenReady=n.suffleCardsWhenReady.bind(n),n.endAuction=n.endAuction.bind(n),n.handleResize=n.handleResize.bind(n),n.getAuctionStatus=n.getAuctionStatus.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),le(t,[{key:"handleResize",value:function(){this.setState({windowWidth:window.innerWidth,height:window.innerHeight})}},{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e){console.log("in componentDidUpdate");var t=this.props.table;console.log("newTable",t),console.log("oldTable",n);var n=e.table;t.ready.every(function(e,t){return e===n.ready[t]})||t.ready.every(function(e){return!0===e})&&(console.log("should shuffle"),this.suffleCardsWhenReady())}},{key:"suffleCardsWhenReady",value:function(){var e=this.props.table,t=e.players,n=e.game;t&&(t.every(function(e){return-1!==e})&&!n.cards&&(console.log(" should shuffle, in suffleCardsWhenReady"),this.shuffle()))}},{key:"getNextMaxTrick",value:function(){var e=this.props.table.game;if(e){var t=e.cards,n=Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.map(function(e){return e.trick}))),r=t.filter(function(e){return e.trick===n}).length;return 0===n||r>=4?n+1:n}}},{key:"endAuction",value:function(){this.setState({endAuction:!0})}},{key:"deal",value:function(e){var t=this.props.table,n=this.props.table.game;if(n){n.deal;var r=n.order+1;A("UPDATE_CURRENT_TRICK",Object.assign({},{table:t,value:e,time:(new Date).getTime(),maxTrick:this.getNextMaxTrick(),order:r,deal:(n.deal+1)%4}));var a=ne(n,e);if(a){var o=Object.assign({},a);delete o.index,A("UPDATE_WINNER_CARD",Object.assign({},this.props,{table:t,winnerCard:o,order:r,deal:o.player}))}}}},{key:"shuffle",value:function(){var e=function(){for(var e=Q();!$(e);)e=Q(),console.log("shuffle cards");return e}();e=e.map(function(e){return{value:e,trick:0}}),A("ADD_NEW_DECK_TO_TABLE",{table:this.props.table,cards:e})}},{key:"getAuctionStatus",value:function(e){var t=e.bid.result;return!(!e||!t)&&(t.length>=4&&t.some(function(e){return e.trick>=0})&&t.slice(t.length-3).every(function(e){return"Pass"===e.opt}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.table,r=t.currentUser,o=n.game,i=n.players,c=(n.ready,o.cards),u=o.isGameOver,s=o.order%4==3,f=this.getAuctionStatus(o),p=f&&!0,d=void 0,m=function(e,t,n){if(t&&t.cards){var r=t.cards,a=e.map(function(t,n){return r.filter(function(t,r){return r%e.length===n})}).slice(0),o=e.findIndex(function(e){return e===n});return-1!==o?{cardsByPlayer:[].concat(J(a.slice(o)),J(a.slice(0,o))),offsetPlayers:[].concat(J(e.slice(o)),J(e.slice(0,o))),offsetIndex:o}:{cardsByPlayer:a,offsetPlayers:e.slice(0),offsetIndex:o}}}(i,o,r)||{},b=m.cardsByPlayer,h=m.offsetPlayers;m.offsetIndex;if(c&&c.length===g){i.findIndex(function(e){return e===r});var y=p?(o.bid.declarer+2)%4:6;y<4&&(y=h.findIndex(function(e){return e===i[y]}));var v=i[o.deal],w=i.includes(r);d=b.map(function(t,n){var c=h[n],u=n;0===y&&(y=2),t=t.sort(function(e,t){return e.value-t.value}).filter(function(e){return 0===e.trick}),1===n&&(t=t.sort(function(e,t){return t.value-e.value}));var s=[[],[],[],[]];if(t.map(function(e){return Object.assign({},e)}).map(function(e){return s[Math.floor(e.value/E)].push(e)}),s=s.filter(function(e){return 0!==e.length}),0!==u&&u!==y){var d=function(e){if(e){var t=e.flat(),n=t.length;if(Math.floor(n/3)<1&&n>1){var r=Math.floor(n/2);return[t.slice(0,r),t.slice(r,n)]}if(Math.floor(n/3)>1){var a=[[],[],[]];return t.map(function(e,t){return a[t%3].push(e)}),a}}}(s);d&&(s=d)}var m=function(e){return e&&e.cards&&e.cards.length>=4&&e.order%4!=3?e.cards.filter(function(e){return e.order%4==0}).sort(function(e,t){return t.order-e.order})[0]:null}(o),b=function(e,t){return!!t&&e&&t.filter(function(t){return Math.floor(t.value/E)===Math.floor(e.value/E)}).length>0}(m,s.flat()),g=s.map(function(t,n){var s=o.bid.declarer,d=i[(s+2)%4],h=i[s],g=f&&w,O=g&&v===c&&0===u;p&&g&&d===v&&(r===h&&2===u&&(O=!0),r===d&&0===u&&(O=!1));var _=!w||0===u||u===y,k=function(e){return null===m||!b||Math.floor(e.value/E)===Math.floor(m.value/E)};return t.map(function(t,r){return a.a.createElement(U,{name:O&&k(t)?"click-able l"+n+" item-"+r:"l"+n+" item-"+r,flipUp:_,evt:O&&k(t)?e.deal:null,key:l(),value:t.value})})}),O=g.map(function(e){return e.length}).reduce(function(e,t){return e+t},0),_=g.filter(function(e){return 0!==e.length}).length,k=e.state.windowWidth>=1200?480:400,j="north"===C[n]||"south"===C[n]?{left:(e.state.windowWidth-k-(40*O+40))/2}:null,T="west"===C[n]||"east"===C[n]?{top:(e.state.windowHeight-function(e){return 125*e-55*(e-1)+10}(_))/2}:null;return a.a.createElement("div",{className:C[n],style:j||T,key:l()},a.a.createElement("div",{className:"hand-inner"},a.a.createElement("div",{className:"user-hand"},g),a.a.createElement(Z,{current:v===c&&f,name:c})))})}var O=n.ready.every(function(e){return!0===e});return u?a.a.createElement("div",{className:"game"},a.a.createElement("div",null,a.a.createElement(G,{startGame:this.suffleCardsWhenReady,currentUser:r,windowWidth:this.state.windowWidth,widnowHeight:this.state.windowHeight,table:n}))):a.a.createElement("div",{className:"game"},a.a.createElement(ie,{time:o.time}),!O&&a.a.createElement(ae,{suffleCardsWhenReady:this.suffleCardsWhenReady,currentUser:r,table:this.props.table}),f&&a.a.createElement(V,{windowWidth:this.state.windowWidth,windowHeight:this.state.windowHeight,table:n}),a.a.createElement("div",{className:"auction"},o.bid&&o.cards&&a.a.createElement(F,{isFinishAuction:f,endAuction:this.endAuction,game:o,table:n,currentUser:r,players:i})),a.a.createElement("div",{className:"arena"},a.a.createElement("div",{className:"hands"},d),a.a.createElement(L,{cards:c,cardsByPlayer:b,order:o.order,isTrickFinish:s}),a.a.createElement(I,{resizeRatio:.15,innerStyle:{bottom:5*Math.ceil(this.state.windowWidth/500),right:5*Math.ceil(this.state.windowWidth/500)},thumbnailSize:30,name:"right-bottom-pos",windowWidth:this.state.windowWidth,widnowHeight:this.state.windowHeight,table:this.props.table})))}}]),t}(),ue=n(66),se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var fe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={name:""},n.handleName=n.handleName.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),se(t,[{key:"handleName",value:function(e){this.setState({name:e.target.value})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,"login Component",a.a.createElement("input",{onChange:this.handleName,type:"text",value:this.state.name}),a.a.createElement(ue.a,{onClick:function(){return e.props.login(e.state.name)},to:"/lobby"},"login"),a.a.createElement("br",null),a.a.createElement(ue.a,{onClick:function(){return e.props.login("1")},to:"/lobby"},"player 1"),a.a.createElement("br",null),a.a.createElement(ue.a,{onClick:function(){return e.props.login("C-1")},to:"/lobby"},"player C-1"),a.a.createElement("br",null),a.a.createElement(ue.a,{onClick:function(){return e.props.login("C-2")},to:"/lobby"},"player C-2"),a.a.createElement("br",null),a.a.createElement(ue.a,{onClick:function(){return e.props.login("C-3")},to:"/lobby"},"player C-3"))}}]),t}(),pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var de=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),pe(t,[{key:"render",value:function(){return a.a.createElement("div",null,"CreateTable Component section")}}]),t}(),me=n(104),be=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var he=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),be(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.index,r=t.record,o=t.current;if(!r)return a.a.createElement("div",{className:"record-item"},a.a.createElement("div",{className:"empty"}));var i=x(r.cards);return a.a.createElement("div",{onClick:function(){return e.props.changeRecord(n)},className:o?"record-item active current":"record-item active"},a.a.createElement("div",null,n+1),a.a.createElement("div",{className:"bid"},a.a.createElement("span",null,r.bid.trick+1),w[r.bid.trump](.15)),a.a.createElement("div",null,i.teamA),a.a.createElement("div",null,i.teamB))}}]),t}(),ye=function(e){var t=e.current,n=e.page,r=e.changePage;return a.a.createElement("div",{onClick:function(){return r(n)},className:t?"dot current":"dot"})},ve=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={page:0},n.changePage=n.changePage.bind(n),n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,a.a.Component),ve(t,[{key:"changePage",value:function(e){this.setState({page:e})}},{key:"render",value:function(){var e=this,t=this.props.record;if(!t)return a.a.createElement("div",{className:"record-empty"},"No available game records");var n=void 0,r=void 0,o=void 0;if(t){if(t.length<4)t=t.concat([null,null,null,null]).slice(0,5);else{var i,l=5*this.state.page,c=l+5>t.length?t.length:l+5;t=c===l+5?t.slice(l,c):(i=t.slice(l,c)).concat.apply(i,[null,null,null,null])}n=t.map(function(t,n){return a.a.createElement(he,{key:"record-item-"+n,index:n,changeRecord:e.props.changeRecord,current:e.props.currentRecord===n,record:t})}),r=(o=Math.ceil(t.length/4))<=1?null:r=Array.from({length:o}).fill(0).map(function(t,n){return a.a.createElement(ye,{key:"dot-"+n,changePage:e.changePage,page:n,current:n===e.state.page})})}return a.a.createElement("div",{className:"record-list"},this.props.record&&a.a.createElement("div",{className:"record-header"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement(Y,{teamOrder:0,players:this.props.players,size:32}),a.a.createElement(Y,{teamOrder:1,players:this.props.players,size:32})),n,a.a.createElement("div",{className:"dots-holder"},a.a.createElement("div",{className:"dots-holder-inner"},r)))}}])}();var ge=function(e){var t=e.player,n=e.cards,r=e.direction,o=[[],[],[],[]];n.map(function(e){return o[Math.floor(e.value/13)].push(e)});var i=o.map(function(e,t){return a.a.createElement("div",{className:"hand",key:"suit-"+t},a.a.createElement("div",null,w[t](.15)),a.a.createElement("div",{className:"card-value"},e.map(function(e,t){return a.a.createElement("div",{key:"suit-"+t},O[e.value%E])})))});return a.a.createElement("div",{className:"rewind-player "+r},a.a.createElement("div",null,a.a.createElement(H,{name:t,size:26})),a.a.createElement("div",{className:"hand-wrapper"},i))},Ee=function(e){var t=e.players,n=e.bid,r=n.declarer,o=n.trump,i=n.trick;return a.a.createElement("div",{className:"rewind-auction"},a.a.createElement("h3",null,"Auction"),a.a.createElement("div",null,a.a.createElement(H,{name:t[r],size:26})),a.a.createElement("div",null,i+1," ",w[o](.15)))},we=function(e){var t=e.players,n=e.cards,r=x(n);return a.a.createElement("div",{className:"rewind-result"},a.a.createElement("h3",null,"Result"),a.a.createElement("div",null,a.a.createElement(Y,{teamOrder:0,players:t,size:20}),a.a.createElement("div",null,r.teamA)),a.a.createElement("div",null,a.a.createElement(Y,{teamOrder:1,players:t,size:20}),a.a.createElement("div",null,r.teamB)))},Oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,a.a.Component),Oe(t,[{key:"render",value:function(){var e=this;if(!this.props.record)return null;var t=this.props.record,n=t.cards,r=t.bid,o=q(n).map(function(t,n){return a.a.createElement(ge,{direction:C[n],key:"hand-"+n,cards:t,player:e.props.players[n]})});return a.a.createElement("div",{className:"rewind"},o,a.a.createElement(Ee,{players:this.props.players,bid:r}),a.a.createElement(we,{players:this.props.players,cards:n}),a.a.createElement("div",null))}}])}();var _e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ke=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={message:""},n.sendMessage=n.sendMessage.bind(n),n.handleChange=n.handleChange.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),_e(t,[{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.state.message.length&&this.sendMessage()}},{key:"sendMessage",value:function(e){A("SEND_MESSAGE_TO_CHATROOM",{message:this.state.message,currentUser:this.props.currentUser,table:this.props.table}),this.setState({message:""})}},{key:"handleChange",value:function(e){this.setState({message:e.currentTarget.value})}},{key:"render",value:function(){if(!t)return null;console.log(t);var e=this.props,t=(e.currentUser,e.table,e.chatroom),n=Object.keys(t.message).length,r=n-30>=0?n-30:0,o=void 0;return t&&t.message&&(o=Object.keys(t.message).sort(function(e,t){return+e-+t}).slice(r,n).map(function(e,n){return a.a.createElement("div",{key:"message-"+n},t.message[e].user,t.message[e].content)})),console.log("chatroom",t),a.a.createElement("div",null,a.a.createElement("div",null,o),a.a.createElement("input",{type:"textarea",value:this.state.message,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),a.a.createElement("button",{onClick:this.sendMessage},"send"))}}]),t}(),je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Te=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props.table.record;return n.state={tab:0,currentRecord:r?r.length-1:null},n.changeRecord=n.changeRecord.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),je(t,[{key:"changeRecord",value:function(e){this.setState({currentRecord:e})}},{key:"render",value:function(){var e=this;if(!this.props.table)return null;var t=T.map(function(t,n){return a.a.createElement("div",{className:e.state.tab===n?"current":"",key:"opt-"+n},t)});return this.props.table.record&&(this.state.currentRecord>=0&&this.props.table.record[this.state.currentRecord]),a.a.createElement("div",{className:"sidebar"},a.a.createElement("div",{className:"tabs"},t),a.a.createElement("div",null,a.a.createElement(ke,{currentUser:this.props.currentUser,chatroom:this.props.chatroom,table:this.props.table})),!1)}}]),t}(),Ce=(n(88),n(90),n(92),n(94),n(96),n(98),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Ne=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.linkId=n.props.match.params.id;var r=n.props.tableList[n.linkId].id;return d.getNodeByPath("tables/"+r,function(e){return N("UPDATE_TABLE_DATA",{table:e.val(),id:r})}),d.getNodeByPath("chatroom/"+r,function(e){return N("UPDATE_CHAT_ROOM",{chatroom:e.val()})}),n.addPlayerToTable=n.addPlayerToTable.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Ce(t,[{key:"componentDidMount",value:function(){this.linkId=this.props.match.params.id;var e=this.props.tableList[this.linkId].id;console.log("comp did mount, table"),d.getNodeByPath("tables/"+e,function(t){return N("UPDATE_TABLE_DATA",{table:t.val(),id:e})}),d.getNodeByPath("chatroom/"+e,function(e){return N("UPDATE_CHAT_ROOM",{chatroom:e.val()})})}},{key:"componentWillUnmount",value:function(){console.log("will unmount");var e=this.props.tableList[this.linkId].id;d.cancelListenDataChange("tables/"+e)}},{key:"addPlayerToTable",value:function(e){var t=this;if(e){console.log("table -------- should have value",e);var n=e.players,r=n.findIndex(function(e){return-1===e}),a=n.some(function(e){return e===t.props.currentUser});r>-1&&!a&&(console.log("didn't join"),A("ADD_PLAYER_TO_TABLE",{currentUser:this.props.currentUser,table:e,emptySeatIndex:r}))}}},{key:"componentDidUpdate",value:function(e){console.log("in componentDidUpdate , comp table");var t=this.props.match.params.id,n=this.props.tableList[t].id;this.props.tables[n]!==e.tables[n]&&(console.log("current table is updated"),this.addPlayerToTable(this.props.tables[n]))}},{key:"render",value:function(){if(!Object.keys(this.props.tables).length)return a.a.createElement("div",null,"loading");var e=this.props,t=e.tables,n=e.currentUser,r=this.props.match.params.id,o=this.props.tableList[r].id;if(console.log("tables",t),console.log("es[tableKey]",t[o]),!t||!t[o])return null;console.log("linkId",r),console.log("tableKey",o);var i=t[o];return console.log("targetTable",i),i.gameState&&"close"===i.gameState?a.a.createElement(me.a,{to:"/lobby"}):a.a.createElement("div",{className:"table"},a.a.createElement(ce,{currentUser:n,table:i}),a.a.createElement(Te,{currentUser:n,chatroom:this.props.chatroom,table:i}))}}]),t}(),Pe=(n(61),n(22)),Ae=n.n(Pe),Re=n(23),Ue=n.n(Re),Se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var De=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Se(t,[{key:"render",value:function(){return a.a.createElement("header",{className:this.props.path.includes("table")?"table-header":""},a.a.createElement("div",null,a.a.createElement(ue.a,{to:"/lobby"},a.a.createElement("img",{src:Ae.a}),a.a.createElement("h1",null,"Bridge Together"))),a.a.createElement("div",null,a.a.createElement("img",{src:Ue.a}),a.a.createElement("div",null,this.props.user||"Sign In / Sign Up")))}}]),t}(),Le=(n(52),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var xe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createTable=n.createTable.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Le(t,[{key:"createTable",value:function(e){console.log("should do"),A("CREATE_TABLE",{tableRef:e,currentUser:this.props.currentUser})}},{key:"render",value:function(){var e=this,t=this.props.tableList;if(!t)return a.a.createElement("div",null,a.a.createElement("h3",null,"Open table"),a.a.createElement("div",null," loading... "),a.a.createElement("button",{onClick:function(){e.createTable((new Date).getTime())}},"Open a new table"));var n=Object.keys(t).filter(function(e){return t[e].players?t[e].players.some(function(e){return-1===e}):!t[e].players}).map(function(t,n){var r=e.props.tableList[t].players,o=r?r.filter(function(e){return-1===e}).length:4,i=r?r[0]:"";return a.a.createElement("div",{className:"table-list-item",key:"tablelist-item-"+n+"}"},a.a.createElement("div",null,n+1),a.a.createElement("div",null,i),a.a.createElement("div",{className:"empty-seats"},o," "),a.a.createElement("div",null,a.a.createElement(ue.a,{className:"btn-style-border",key:t,to:"/table/"+t},"Play")))}),r=(new Date).getTime(),o=this.props.openBtn&&a.a.createElement(ue.a,{className:"btn-style-border",onClick:function(){return e.createTable(r)},to:"/table/"+r},"Open table");return a.a.createElement("div",{className:"table-list"},this.props.title&&a.a.createElement("h4",null,this.props.title),!this.props.isLoad&&a.a.createElement("div",null,a.a.createElement("div",{className:"table-list-item-group"},"loading... ")),a.a.createElement("div",{className:"btn-group"},a.a.createElement("button",{className:"btn-style"},"Match me")),a.a.createElement("div",{className:"table-list-header"},a.a.createElement("div",null,"No."),a.a.createElement("div",null,"Owner"),a.a.createElement("div",null,"Available seat"),a.a.createElement("div",null,o)),a.a.createElement("div",{className:"table-list-item-group"},n))}}]),t}(),Me=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Be=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ie=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createTable=n.createTable.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Be(t,[{key:"createTable",value:function(e){A("CREATE_TABLE",{tableRef:e,currentUser:this.props.currentUser})}},{key:"render",value:function(){var e=this,t=this.props.tableList;if(!t)return a.a.createElement("div",null,a.a.createElement("h3",null,"Open table"),a.a.createElement("div",null," loading... "),a.a.createElement("button",null,"Open a new table"));var n=Object.keys(t).filter(function(e){return t[e].players&&!t[e].players.some(function(e){return-1===e})}).map(function(t,n){var r=e.props.tableList[t].players,o=Me(r,4),i=o[0],l=o[1],c=o[2],u=o[3];return a.a.createElement("div",{className:"playing-table",key:"playing-table-item-"+n+"}"},a.a.createElement("div",null,n+1),a.a.createElement("div",null,i),a.a.createElement("div",null,l),a.a.createElement("div",null,c),a.a.createElement("div",null,u),a.a.createElement("div",null,a.a.createElement(ue.a,{className:"btn-style-border",to:"/table/"+t},"View")))});return a.a.createElement("div",{className:"table-list"},a.a.createElement("h4",null,"Live"),!this.props.isLoad&&a.a.createElement("div",null,a.a.createElement("div",{className:"table-list-item-group"},"loading... ")),a.a.createElement("div",{className:"table-list-header playing-table-header"},a.a.createElement("div",null,"No."),a.a.createElement("div",null,"South"),a.a.createElement("div",null,"West"),a.a.createElement("div",null,"North"),a.a.createElement("div",null,"East"),a.a.createElement("div",null)),a.a.createElement("div",{className:"table-list-item-group"},n))}}]),t}(),We=(n(101),n(53)),Ge=n.n(We),ze=n(59),Ke=n.n(ze),Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var He=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Fe(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"lobby"},a.a.createElement("div",{className:"lobby-title"},a.a.createElement("h2",null,"Welcome to Wow Bridge")),a.a.createElement("div",{className:"table-lists"},a.a.createElement("div",{className:"table-list-wrapper"},a.a.createElement("h3",null,"Open"),a.a.createElement("div",{className:"table-num"},a.a.createElement("span",null,"3")," ",a.a.createElement("b",null,"tables")),a.a.createElement("div",{className:"table-list-inner"},a.a.createElement("img",{src:Ge.a}),a.a.createElement(xe,{title:!1,isLoad:!0,openBtn:!0,currentUser:this.props.currentUser,open:!0,tableList:this.props.tableList}))),a.a.createElement("div",{className:"table-list-wrapper"},a.a.createElement("h3",null,"Playing"),a.a.createElement("div",{className:"table-num"},a.a.createElement("span",null,"3")," ",a.a.createElement("b",null,"tables")),a.a.createElement("div",{className:"table-list-inner"},a.a.createElement("img",{src:Ke.a}),a.a.createElement(Ie,{title:!1,isLoad:!0,openBtn:!0,open:!1,currentUser:this.props.currentUser,tableList:this.props.tableList})))))}}]),t}(),Ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ze=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Ye(t,[{key:"render",value:function(){return a.a.createElement("div",null,"loading...")}}]),t}(),Xe=n(68),Ve=n(67),Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Qe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=P.getState(),n.handleLogin=n.handleLogin.bind(n),n.update=n.update.bind(n),n.stopLoading=n.stopLoading.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),qe(t,[{key:"update",value:function(){this.setState(P.getState())}},{key:"componentDidUnMount",value:function(){this.unSubscribe()}},{key:"componentDidMount",value:function(){this.unSubscribe=P.subscribe(this.update.bind(this)),this.stopLoading()}},{key:"handleLogin",value:function(e){N("HANDLE_LOGIN",{name:e})}},{key:"stopLoading",value:function(){N("STOP_LOADING",{isLoad:!0})}},{key:"render",value:function(){var e=this,t=window.location.pathname;return console.log(this.state),this.state.isLoad?a.a.createElement("div",null,a.a.createElement(Xe.a,null,a.a.createElement("div",null,a.a.createElement(De,{path:t,user:this.state.currentUser}),!this.state.currentUser&&a.a.createElement(Ve.a,{path:"/",render:function(t){return a.a.createElement(fe,{login:e.handleLogin})}}),this.state.currentUser&&a.a.createElement("div",null,a.a.createElement(Ve.a,{path:"/table/:id",render:function(t){return a.a.createElement(Ne,Je({chatroom:e.state.chatroom,tables:e.state.tables,tableList:e.state.tableList,currentUser:e.state.currentUser},t))}}),a.a.createElement(Ve.a,{exact:!0,path:"/lobby",render:function(){return a.a.createElement(He,{tables:e.state.tables||null,currentUser:e.state.currentUser,tableList:e.state.tableList})}}),a.a.createElement(Ve.a,{exact:!0,path:"/createTable",render:function(){return a.a.createElement(de,null)}}))))):a.a.createElement(Ze,null)}}]),t}();i.a.render(a.a.createElement(Qe,null),document.getElementById("main"))},16:function(e,t,n){},18:function(e,t,n){},22:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAnCAYAAACWn7G7AAAABGdBTUEAALGPC/xhBQAABsRJREFUWAm1WHtsU1UY/+69bWXt1hbceEi3jnUdr2yACIgwI0aMUUyEGBMgopKg8Q/QP4xEHglIRkLEPxSfMRohRqKJj4gmGEJAdMA6QUjUoGRj7Ub3gLF17R7t1tbf6bg393G69o55k5vzne/7fd/5nXO/e853r0ATdKXTaXskEvkO7QpBEP5G2yCKYgByoKio6F+06TsdSrjTALI/iG5KpVKH5b66BdFe9BtxBzCBzCQKCws71Zh8ZAPZ1tbW6hSlvk1TehoCXMPdTAI1iSQ2kUhNQlJo9ng8QRAYVg/Q29v7MVbzRbUuhxxCjAAwDZIkBUD+Avr9Y/kYyAZDwcMgumlMJ0FIUppCwDRhIs0Y5EqRo+h59GvG8hvLhhhJTPav2xMIWCyWBofDwfpJ2Y9HthFk75MB+bQIeMlV5KrBYGI+eBMYttIXEf+szWZ7z6J3BNFKvS5X3yJZWkB0YS7cOOwO+NQidm08Hn9csxLhcLgYRrfZoJJFSpj1MYvH6no0ZPE2m15VNqhVst5tdvBx4P/QkE2mk6bJYsbdeJurxzG4WZdzGrLwNk0WPpeRU1PNjmwWj/35/LjIDgwM0meffkF79x4gm9V20+zA48HjCTZY1I757AQnT/5Cnx8+Sj09vVRaNpPwclnVMZgcvRigrq+O0EDTPyTaJpF71WqasWEziY5CPTSvPog24ci+oSErkFAJwtwAbDXfefcjqq9vUOxVfl/aZrGVIQ0UXaT+NLXs36X0U4ODdPP7ryly9gz5D35IFqeb+n4/T8M3OkmcNIlcyx8kqcip4HkC4p9neoVsT0+POxKNcN/qULCN3qx7izratcd5WVlpO2Iop1a8LUihg/t449FwVwc17XiVktEIjURYqTB6hT85ROW79lPhgsWyytCyfGVKJWej0ajfgIKiubmFtr+xx0CUYf1+31XMWkmD7uM/UCoR54XJ6Nhk1ESZMjnQT9fqdlK8LZTVT15ZhSyQhp0gHO6gHTv3UTQaMwTC2U2Laqq71Ab2qMdzpfpjdPPHb7K5DrpcrsvMqJBFpaUhm0gkqK7ubYrF+IXQrFlesjvsmmRLj4xkGzCnvq/xXDYMq8YyFZ5Clr1cavSpU79RMNSqVmnkyspZcVEQ56uVYoFd3TUls3TgXSCayVdmU8ii1NOQPXHiFM9X0ZV6ZrJa16MoIDgXL1N3TckWpysb3khWv8d2dmrS0RBozmx/UK9k++l4L+eSB7iuKA21ZLu7u53YXvM+MgsKCmhBTbXhrbP751LhQlOlcIagaLuLStat55Fts9vt12VDJg2i8agmBZix0l8hYwwt8jVttVo1KSCDpm/cLIv5tZJEZdv3knWKcYtX5ysLliErpLQvFzM8vOpB1nAvr7fsFgIph4Ea5JhXQ1MeXaNWZZXZinpf30Ou+1dyMfL+KhtHyep2AmasrV1Oqx95SMZpWq/X0wJFgUap6tyzZStZi8fOKlvJNKrE8eteuUrlqRVReir5yiwZsvo9VnbZtu0l2rDhaSopKSZ8fbITi16Bbu1Ta67KGF4r2R3kfW03CZLFaBYEKl6zjqo+OEIFviqj/baG7a0oXi6oAZkPRnzRnsFuUKs2jCXjS/YnnNdPjIVhtlvHj1HroQMKrLDmXprxwstkr5qr6LIJINvodruXqu3y1A0vmBqklhGkH49nDvJJrebKUx57kobaWigRvk5Tn3mW7HM0ZwjXR1bq85XphY6ODsdQYsiwDclO+lYQhXqnw7lCr5/oPp7cRtQEX6rjisPDwz61IpcsiVI4F2Yi7LyVFZOU5JaG2Qa0WpSKMBvkjvVItS7ka7M+kKgvYPQAfR/fXNP1uonuY1UbeDHZ1pX3ywVsC2b9v392YwzN/ioTF/UFjGzgtgIlMOvsdSPXybwSY3CLW3NpkKaqvljfafwMeR8UfsXNL0LN81M8sKop5GujolAJbJ+drOrnFDHrrbFYjBC0DU/lZ/yUC+H3URKlXDGcF0E/HxgpZ6AsAPj+iRjcrZSRPQjjboAyR2+WGAY18Kzq8ozgU4bd2KtTKDOvoIg/ih2jE99oEl7GUuCWAFdmCJBFAS7cfGXw0eO2NzhZikmzR9IjPuwOPgxaARvbf31ATMeAGRxzMHkNwf9c8eTi9fjptww3Oz7ZvQQxuX8rcRg8h8PgCG+cnCTw274gZUlVoIz0YYAKIS34UPiMTiRN5Qhq4wVWdAJdKi8tX6T0IbDJ49O/Cu1SNgGs5jLI89DWg+hatANqvCznJCsDeS0GENvb2z0Y0IenkpkIcGwimSeDnE4IkrDFO9N7jOdvVvcftb81livLa7EAAAAASUVORK5CYII="},23:function(e,t,n){e.exports=n.p+"c0d3da8d159baa9ecdc0413d36fd5888.svg"},25:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){e.exports=n.p+"fdb4e8debbfd9c2e44a38f528e320ee4.svg"},54:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){e.exports=n.p+"7df62acafa694b8c1a4a0528fb6546cc.svg"},60:function(e,t,n){},61:function(e,t,n){},74:function(e,t,n){},85:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){},98:function(e,t,n){}},[[103,2,1]]]);
//# sourceMappingURL=main.3ff7.js.map
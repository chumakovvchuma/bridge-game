(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,r){},101:function(e,t,r){},103:function(e,t,r){"use strict";r.r(t);r(25);var n=r(0),a=r.n(n),o=r(4),i=r.n(o),l=(r(10),r(16),r(1),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="abcdefghijklmnopqrstuvxyzABCDEFGHIJKLMNOPQRSTUVXYZ";return Array.from({length:e}).fill(0).map(function(e){return t[Math.floor(Math.random()*(t.length-1))]}).join("")}),c=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},s=r(13),u=r(19),f=r(20),p=r.n(f).a.initializeApp({apiKey:"AIzaSyDsmWxFexrd890dUvpA313qvxvcjDRp1Ok",authDomain:"wowbridge88.firebaseapp.com",databaseURL:"https://wowbridge88.firebaseio.com",projectId:"wowbridge88",storageBucket:"wowbridge88.appspot.com",messagingSenderId:"862342003288"}),d={db:p.database(),auth:p.auth(),getNodeByPathOnce:function(e,t){return p.database().ref(e).on("value",t)},getNodeByPath:function(e,t){return p.database().ref(e).on("value",t)},pushDataByPath:function(e,t){return p.database().ref(e).push(t)},cancelListenDataChange:function(e,t){return p.database().ref(e).off("value",t)},listenPathChildren:function(e,t){return p.database().ref(e).off("value")},setNodeByPath:function(e,t){return p.database().ref(e).set(t)},getNewChildKey:function(e){return p.database().ref().child(e).push().key},updateTableDataByID:function(e,t){p.database().ref("tables/"+e+"/").set(t)},updateTableGameDataByPath:function(e,t){p.database().ref("tables/"+e).set(t)},setTableListData:function(e,t){p.database().ref("tableList/"+e+"/").set(t)}},m=function(e){var t=e.scale,r=e.fill,n=void 0===r?"#FF525D":r;return a.a.createElement(v,{scale:t,ratio:.89,fill:n},a.a.createElement("path",{d:"M70.9643211,0 C59.2565148,0 53.056072,5.64335169 49.9709368,10.1546618 C46.889795,5.64335169 40.6986702,0 29.0152682,0 C15.0405332,0 0,9.29808951 0,29.7129874 C0,37.7588224 1.74734105,44.1438566 5.84192287,51.0638602 C9.82779506,57.7993304 18.2685439,66.1002296 30.9298889,75.7372219 C35.8715185,79.4984213 40.4235682,82.6625486 43.3724836,84.6547112 C49.0391399,88.4833363 49.2609963,88.5228158 49.9456452,88.5232594 C49.9802548,88.5241466 50.0135332,88.5245902 50.0468117,88.5245902 C50.6941887,88.5245902 51.1401201,88.3183208 56.5574098,84.6764471 C59.5081,82.6922691 64.0641431,79.5401188 69.0102098,75.7873476 C81.6870849,66.1698733 90.1513504,57.851674 94.1682825,51.0643038 C98.2557649,44.1571643 100,37.7712429 100,29.713431 C100,9.29808951 84.9488177,0 70.9643211,0 Z"}))},b=function(e){var t=e.scale,r=e.fill,n=void 0===r?"#222":r;return a.a.createElement(v,{scale:t,ratio:1,fill:n},a.a.createElement("path",{d:"M88.5085925,35.4545714 C84.7618726,29.0791639 76.8279859,21.2225289 64.9275728,12.1017285 C60.2811897,8.54098888 56.0030971,5.54662558 53.2315338,3.66150342 C47.8489868,0 47.6921609,0 47.0310732,0 C46.3716539,0 46.2152451,0 40.8347835,3.64219036 C38.0615518,5.52017509 33.7788713,8.50362231 29.1295686,12.0555451 C17.2145573,21.1574523 9.25814768,29.0300415 5.48264861,35.4541516 C1.63958096,41.9928804 0,48.0361874 0,55.6623252 C0,74.9846174 14.1481113,83.785073 27.2935382,83.785073 C33.059808,83.785073 37.4025496,82.3177007 40.6500126,80.3074635 L37.0551136,94 L56.8014075,94 L53.1693874,80.1668141 C56.4343682,82.2488454 60.8367536,83.785073 66.7252308,83.785073 C79.8614817,83.785073 94,74.9846174 94,55.6623252 C94,48.0475233 92.3579165,42.0042164 88.5085925,35.4545714 Z",fill:n}))},h=function(e){var t=e.scale,r=e.fill,n=void 0===r?"#FF525D":r;return a.a.createElement(v,{scale:t,ratio:1,fill:n},a.a.createElement("polygon",{points:"46.5 0 0 50 46.5 100 93 50"}))},y=function(e){var t=e.scale,r=e.fill,n=void 0===r?"#222":r;return console.log("fill",n),a.a.createElement(v,{scale:t,ratio:.98,fill:n},a.a.createElement("path",{d:"M70.3555185,31.9345189 C71.174537,29.4903991 71.587963,26.9404062 71.587963,24.3163882 C71.587963,10.9083748 60.5577593,0 47,0 C33.4422407,0 22.412037,10.9083748 22.412037,24.3163882 C22.412037,26.9404062 22.825463,29.4903991 23.6444815,31.9345189 C10.5223426,32.426872 0,43.137703 0,56.2332616 C0,69.641275 11.0302037,80.5496498 24.587963,80.5496498 C30.872037,80.5496498 36.6116944,78.2040867 40.9631111,74.3539201 L35.6686481,92.1010101 L58.1820833,92.1010101 L52.8323519,74.1692877 C57.2077037,78.12834 63.0287407,80.5496498 69.412037,80.5496498 C82.9697963,80.5496498 94,69.641275 94,56.2332616 C94,43.137703 83.4776574,32.426872 70.3555185,31.9345189 Z",fill:n}))},v=function(e){var t=e.children,r=e.ratio,n=e.scale,o=e.fill,i=100*n,l=Math.floor(i*r);return a.a.createElement("div",null,a.a.createElement("svg",{width:i+"px",height:l+"px",viewBox:"0 0 "+i+" "+l},a.a.createElement("g",{fill:o,transform:"scale("+n+")"},t)))},E=52,g=13,w={0:function(e,t){return a.a.createElement(y,{scale:e,fill:t})},1:function(e,t){return a.a.createElement(h,{scale:e,fill:t})},2:function(e,t){return a.a.createElement(m,{scale:e,fill:t})},3:function(e,t){return a.a.createElement(b,{scale:e,fill:t})},4:function(e){return a.a.createElement("div",null,"NT")}},O=[2,3,4,5,6,7,8,9,10,"J","Q","K","A"],k={deal:0,bid:{isDb:!1,isRdb:!1,trick:0,trump:-1},order:-1,isGameOver:!1},_=[-1,-1,-1,-1],T="join",j=["Chat","Result"],N=["south","west","north","east"],C=["ü§î","ü§£","ü§©","üòù","üòç","üòµ","üôÑ","ü§≠","üò±","ü§∑","üëç","üëé","üëØ","üëÄ","üê∑","üéâ","üéÉ","üç∫","üî•","üõÅ"],P=function(e,t){return A.dispatch(Object.assign({},{type:e},t))},A=Object(s.b)(function(e,t){switch(t.type){case"HANDLE_LOGIN":return Object.assign({},e,{currentUser:t.name});case"STOP_LOADING":return Object.assign({},e,{isLoad:t.isLoad});case"FETCH_TABLE_DATA":return Object.assign({},e,{tables:t.tables});case"UPDATE_CHAT_ROOM":return Object.assign({},e,{chatroom:t.chatroom});case"UPDATE_TABLE_DATA":var r=t.id,n=t.table,a=e.tables,o=Object.assign({},a);return o[r]=n,Object.assign({},e,{tables:o});case"FETCH_TABLE_LIST":return Object.assign({},e,{tableList:t.tableList});default:return e}},{currentUser:null,isLoad:!1,tables:{}},Object(s.a)(u.a)),R=function(e,t){switch(e){case"CREATE_TABLE":var r=(new Date).getTime(),n=_.slice(0);n[0]=t.currentUser;var a=d.getNewChildKey("tables"),o=t.tableRef||r,i={timeStamp:o,gameState:T,id:a,linkId:o,game:k,players:n,ready:[!1,!1,!1,!1]};d.setNodeByPath("tables/"+a,i),d.setTableListData(o,{id:a});break;case"CREATE_NEW_GAME":var l=t.table,c=Object.assign({},l),s=c.record,u=c.game;s?s.push(u):s=[u],c.record=s,c.game=Object.assign({},k),c.ready=[!1,!1,!1,!1],c.timeStamp=(new Date).getTime(),c.gameState=T,d.updateTableDataByID(c.id,c);break;case"READY_A_PLAYER":var f=t.table,p=t.playerIndex,m="tables/"+f.id+"/ready/"+p;d.setNodeByPath(m,!0),d.updateTableGameDataByPath(f.id+"/timeStamp/",(new Date).getTime());break;case"ADD_NEW_DECK_TO_TABLE":var b=t.cards,h=t.table,y=Object.assign({},h.game,{cards:b});console.log("cards",b),d.updateTableDataByID(h.id+"/game/",y),console.log("should update cards");break;case"UPDATE_WINNER_CARD":var v=t.table,E=Object.assign({},v.game),g=E.cards;E.order=t.order;var w=g.findIndex(function(e){return e.value===t.winnerCard.value}),O=t.winnerCard;O.isWin=!0,E.deal=O.player,g[w]=O,51===t.order&&(E.isGameOver=!0),d.updateTableDataByID(v.id+"/game/",E);break;case"UPDATE_CURRENT_TRICK":var j=t.table,N=t.order,C=t.deal,P=j.game;d.updateTableGameDataByPath(j.id+"/game/order/",N);var A=P.cards,R=A.findIndex(function(e){return e.value===t.value}),S=A[R];S.order=N,d.updateTableGameDataByPath(j.id+"/game/deal/",C),d.updateTableGameDataByPath(j.id+"/timeStamp/",(new Date).getTime()),0===S.trick&&(S.trick=t.maxTrick,S.player=(C+4-1)%4,d.updateTableGameDataByPath(j.id+"/game/cards/"+R,S));break;case"ADD_VIEWER_TO_TABLE":console.log("in add_player to table reducer");var U=t.currentUser,D=t.table,L=t.color,B=(D.linkId,D.id);d.setNodeByPath("tables/"+B+"/viewers/"+U,L);break;case"ADD_PLAYER_TO_TABLE":var x=t.currentUser,M=t.table,I=t.emptySeatIndex,W=t.color,G=M.linkId,z=M.id,K=M.players;d.setNodeByPath("tables/"+z+"/players/"+I,x),d.setNodeByPath("tables/"+z+"/viewers/"+x,W),d.updateTableGameDataByPath(z+"/timeStamp/",(new Date).getTime());var F=K.slice(0);F[I]=x,d.setNodeByPath("tableList/"+G+"/players",F);break;case"UPDATE_AUCTION":d.updateTableGameDataByPath(t.table.id+"/game/",t.game),d.updateTableGameDataByPath(t.table.id+"/timeStamp/",(new Date).getTime());break;case"SEND_MESSAGE_TO_CHATROOM":t.message;var H=t.currentUser,Y=t.table,Z=(new Date).getTime(),X={};X.content=t.message,X.user=H,d.setNodeByPath("chatroom/"+Y.id+"/message/"+Z+"/",X);default:return null}};d.getNodeByPath("tableList",function(e){return P("FETCH_TABLE_LIST",{tableList:e.val()})});r(50);var S=function(e){var t=e.value;return a.a.createElement("div",{className:"abbbbbbbbbbbbb"},a.a.createElement(U,{flipUp:!0,value:t}))},U=function(e){var t=e.value,r=e.evt,n=void 0===r?null:r,o=e.flipUp,i=e.name,l=void 0===i?null:i,c=Math.floor(t/g),s=l?"card-wrapper "+l:"card-wrapper";return o?a.a.createElement("div",{className:s,onClick:function(){n&&n(t)}},a.a.createElement("div",{className:"card flip-up"},a.a.createElement("div",{className:"card-inner"},a.a.createElement("div",{className:1===c||2===c?"red value":"black value"},O[t%g]),w[c](.235),a.a.createElement("div",{className:"large-shape"},w[c](.5))))):a.a.createElement("div",{className:s},a.a.createElement("div",{className:"card flip-down"},a.a.createElement("div",{className:"card-inner"})))};var D=function(e){return e?Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.map(function(e){return e.trick}))):null},L=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var B=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={fadeOutCards:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),L(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.order!==e.order&&(this.props.order%4==3?setTimeout(function(){return t.setState({fadeOutCards:!0})},2e3):this.setState({fadeOutCards:!1}))}},{key:"render",value:function(){var e=["south-card","west-card","north-card","east-card"],t=this.props,r=(t.order,t.cards),n=t.cardsByPlayer;t.isTrickFinish;if(!r)return null;var o=null,i=D(r);return 0===i&&(i=1),n&&!this.state.fadeOutCards&&(o=n.map(function(t,r){var n=(t=t.sort(function(e,t){return e.value-t.value})).map(function(e){if(e.trick===i)return a.a.createElement(S,{key:l(),value:e.value})});return n.filter(function(e){return null!==e&&void 0!==e}).length>0?a.a.createElement("div",{className:"trick-card-wrapper "+e[r],key:"trick-card-"+r},n):null})),o&&(o=o.filter(function(e){return null!==e&&void 0!==e})),a.a.createElement("div",{className:"trick-area"},a.a.createElement("div",{className:"trick-area-inner"},o))}}]),t}(),x=(r(60),function(e){var t=0,r=0;return e.map(function(e,n){var a=e.isWin?1:0;n%4%2==0?t+=a:r+=a}),{teamA:t,teamB:r}}),M=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var W=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),I(t,[{key:"render",value:function(){var e=this.props,t=e.table,r=e.windowWidth,n=(e.windowHeight,t.game),o=t.players;if(!t||!t.game.cards)return null;var i=x(n.cards),l=M(o,4),c=l[0],s=l[1],u=l[2],f=l[3],p=this.props.innerStyle,d=this.props.ratio||.15,m={width:this.props.thumbnailSize,height:this.props.thumbnailSize};return a.a.createElement("div",{className:this.props.name?"trick-score "+this.props.name:"trick-score",style:p},a.a.createElement("div",{className:"trick-score-inner",style:{width:r*d}},a.a.createElement("div",{className:"group-wrapper"},a.a.createElement("div",{className:"group"},a.a.createElement("div",{className:"thumbnail-group",style:{minWidth:2*this.props.thumbnailSize}},a.a.createElement("div",{className:"thumbnail",style:m},a.a.createElement("span",null,c[0])),a.a.createElement("div",{className:"thumbnail",style:m},a.a.createElement("span",null,u[0]))),a.a.createElement("div",{className:"score"},i.teamA)),a.a.createElement("div",{className:"group"},a.a.createElement("div",{className:"thumbnail-group",style:{minWidth:2*this.props.thumbnailSize}},a.a.createElement("div",{className:"thumbnail",style:m},a.a.createElement("span",null,s[0])),a.a.createElement("div",{className:"thumbnail",style:m},a.a.createElement("span",null,f[0]))),a.a.createElement("div",{className:"score"},i.teamB))),this.props.children))}}]),t}(),G=(r(54),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}());var z=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.recordGame=r.recordGame.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),G(t,[{key:"recordGame",value:function(){var e=this.props.table,t=e.game;e&&51===t.order&&R("CREATE_NEW_GAME",{table:e})}},{key:"render",value:function(){var e=this.props,t=(e.windowWidth,e.table,e.windowHeight,e.currentUser),r=this.props.table,n=r.game,o=r.players;if(!n||!n.cards)return null;var i=0,l=0;n.cards.map(function(e,t){var r=e.isWin?1:0;t%4%2==0?i+=r:l+=r});var c="Áï∂Ê∫´ÊãøÁöÑÊÑüË¶∫Âéü‰æÜÂ¶ÇÊ≠§, 94 ÈÄÅ",s="È≠ØËõáÁöÑ‰∏ñÁïåÊúâÈªûË§áÈõúÔºåÈ≠ØÈ≠ØÂ¶ÇÊàëËº∏ÊÉπ",u=null,f=o.indexOf(t),p=n.bid,d=p.declarer,m=6+p.trick;return f>=0&&(u=d%2==0?f%2==0&&i>=m?c:s:f%2!=0&&l>=m?c:s),a.a.createElement("div",{className:"game-over-board"},a.a.createElement(W,{currentUser:this.props.currentUser,ratio:.5,thumbnailSize:46,windowWidth:this.props.windowWidth,widnowHeight:this.props.windowHeight,table:this.props.table},a.a.createElement("div",null,a.a.createElement("div",{className:"result"},a.a.createElement("div",{className:"words"},u)),a.a.createElement("div",{className:"btn-wrapper"},a.a.createElement("button",{onClick:this.recordGame,className:"btn"},"Start a new Game")))))}}]),t}(),K=function(e){var t=e.result,r=e.scale;if(!t)return null;var n=t.length;return a.a.createElement("div",{className:"record"},Array.from({length:Math.ceil(n/4)}).fill(0).map(function(e,n){return a.a.createElement("div",{key:l(),className:"row"},Array.from({length:4}).fill(0).map(function(e,o){var i=t[4*n+o];return i&&i.opt?a.a.createElement("div",{key:l(),className:"bid-result"},i.opt):i&&i.trick>=0?a.a.createElement("div",{key:l(),className:"bid-result"},a.a.createElement("div",null,i.trick+1),w[i.trump](r)):a.a.createElement("div",{key:l(),className:"bid-result"},null)}))}))},F=(r(18),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}());var H=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=r.props.game;return r.state={currentTrick:n.bid.trick,visibility:!1,current:null},r.updateBid=r.updateBid.bind(r),r.validateUserTurnAndsetTrump=r.validateUserTurnAndsetTrump.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),F(t,[{key:"validateUserTurnAndsetTrump",value:function(e){var t=this,r=this.props,n=r.game,a=r.currentUser,o=r.players;a&&n&&(o&&a&&o.findIndex(function(e){return e===t.props.currentUser})===n.deal&&this.setState({currentTrick:e,current:e,visibility:!0}))}},{key:"updateBid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=void 0,n=!1,a=this.props.game.bid.declarer;if(e>-1&&null!==e){var o={trick:this.state.currentTrick,trump:e},i=this.props.game.bid.result||[];i.push(Object.assign({},o)),a=this.props.game.deal,r=Object.assign({},this.props.game.bid,o,{declarer:a},{result:i})}else{var l=this.props.game.bid.result||[];if(l.push({opt:t}),l.length>3){var c=l.slice(l.length-3,l.length).every(function(e){return"Pass"===e.opt}),s=l.some(function(e){return e.trick>=0});n=c&&s}r=Object.assign({},this.props.game.bid,{result:l})}var u=this.props.game.deal;u=n?(a+1)%4:(u+1)%4;var f=Object.assign({},this.props.game,{bid:r},{deal:u});R("UPDATE_AUCTION",{table:this.props.table,game:f}),this.setState({visibility:!1,current:null})}},{key:"render",value:function(){var e=this,t=this.props,r=t.game,n=t.players,o=n&&n[r.deal]===this.props.currentUser,i=5*r.bid.trick+r.bid.trump,c=void 0,s=void 0;i<0?(c=Array.from({length:7}).fill(0).map(function(e,t){return t}),s=Array.from({length:5}).fill(0).map(function(e,t){return t})):34===i?(c=[],s=[]):i%5==4&&0!==i?(c=Array.from({length:7}).fill(0).map(function(e,t){return t}).filter(function(e){return e>r.bid.trick}),s=Array.from({length:5}).fill(0).map(function(e,t){return t})):(c=Array.from({length:7}).fill(0).map(function(e,t){return t}).filter(function(e){return e>=r.bid.trick}),s=Array.from({length:5}).fill(0).map(function(e,t){return t}).filter(function(e){return e>r.bid.trump}));var u=c.map(function(t,r){return a.a.createElement("button",{className:t===e.state.current?"current":null,onClick:function(){e.validateUserTurnAndsetTrump(t)},key:l()},t+1)}),f=this.state.currentTrick===c[0]?s:[0,1,2,3,4];34===i&&(f=[]),f=f.map(function(t){return a.a.createElement("div",{onClick:function(){return e.updateBid(t,null)},key:l()},w[t](.25))});var p=r.bid.result,d=p&&!p[p.length-1].opt&&a.a.createElement("button",{className:"d-btn",onClick:function(){return e.updateBid(-1,"Double")}},"Dboule"),m=p&&"Double"===p[p.length-1].opt&&a.a.createElement("button",{className:"d-btn",onClick:function(){return e.updateBid(-1,"ReDouble")}},"ReDouble"),b=n.map(function(t,r){return a.a.createElement("div",{key:l(),className:r===e.props.game.deal?"thumbnail current":"thumbnail"},a.a.createElement("span",null,t[0]))});return this.props.isFinishAuction?null:a.a.createElement("div",{className:"auction-inner"},a.a.createElement("div",{className:"thumbnail-group"},b),!r.bid.result&&a.a.createElement("div",{className:"notes"}," Start Auction "),a.a.createElement(K,{scale:.2,result:r.bid.result}),a.a.createElement("div",{className:"option-wrapper"},o&&a.a.createElement("div",{className:"other-btns"},a.a.createElement("button",{className:"pass",onClick:function(){return e.updateBid(null,"Pass")}},"Pass"),d,m),a.a.createElement("div",{className:"tricks"},u),this.state.visibility&&a.a.createElement("div",{className:"trumps"},f)))}}]),t}(),Y=(r(57),r(74),function(e){var t=e.name,r=void 0===t?"":t,n=e.size,o=void 0===n?30:n,i=e.src,l=void 0!==i&&i,c=l?a.a.createElement("img",{src:l}):a.a.createElement("span",null,r[0]);return a.a.createElement("div",{className:"thumbnail",style:{width:o,height:o,borderRadius:o}},c)}),Z=function(e){var t=e.players,r=e.size,n=e.teamOrder,o=t.filter(function(e,t){return t%2===n}).map(function(e,t){return a.a.createElement(Y,{key:"member-"+t,name:e,size:r})});return a.a.createElement("div",{className:"thumbnail-group"},o)},X=function(e){var t=e.name,r=e.current,n=void 0===r?null:r;return a.a.createElement("div",{className:n?"player current":"player"},a.a.createElement(Y,{size:38}),a.a.createElement("div",{className:"name"},t))},V=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var J=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),V(t,[{key:"render",value:function(){var e=this.props,t=e.table,r=e.windowWidth,n=(e.windowHeight,t.game),o=t.players;if(!n||!n.bid.result)return null;var i=o.map(function(e,t){return a.a.createElement("div",{key:l(),className:"thumbnail"},a.a.createElement("span",null,e[0]))});return a.a.createElement("div",{className:"auction-result",style:{top:5*Math.ceil(r/500),right:5*Math.ceil(r/500)}},a.a.createElement("div",{className:"auction-result-inner"},a.a.createElement("div",{className:"thumbnail-group"},i),a.a.createElement(K,{scale:.15,result:n.bid.result})))}}]),t}();function q(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var Q=function(e){if(e)return[0,0,0,0].map(function(t,r){return e.filter(function(e,t){return t%4===r})}).slice(0)},$=function(){for(var e=Array.from({length:E}).fill(0).map(function(e,t){return t}),t=e.length-1;t>0;t--){var r=c(0,E-1),n=[e[r],e[t]];e[t]=n[0],e[r]=n[1]}return e},ee=function(e){return function(e){return Q(e).map(function(e){return e.map(function(e){return e%13>8?e%13-8:0})})}(e).every(function(e){return e.reduce(function(e,t){return t+e},0)>=7})},te=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var re=function(e,t){if(e&&null!==t&&void 0!==t){var r=e.filter(function(e){return Math.floor(e.value/g)===t}).sort(function(e,t){return t.value-e.value});return r.length?r[0]:null}},ne=function(e,t){if(e){var r=e.cards,n=D(r),a=e.bid.trump,o=r.map(function(e,t){return Object.assign({},e,{index:t})}).filter(function(e){return e.trick===n&&e.trick>0||e.value===t}),i=void 0,l=!1;if(4===o.length){var c=Math.min.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(o.map(function(e){return e.order}))),s=o.filter(function(e){return e.order===c}),u=te(s,1)[0];if(4!==a){var f=re(o,a);null!==f?i=f:l=!0}if(4===a||l){var p=Math.floor(u.value/g);i=re(o,p)}}return i||null}},ae=(r(85),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}());var oe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setReadyState=r.setReadyState.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),ae(t,[{key:"setReadyState",value:function(e){var t=this.props,r=(t.currentUser,t.table);if(r){r.game,r.players.slice(0);console.log("set ready state"),R("READY_A_PLAYER",{playerIndex:e,table:r})}}},{key:"render",value:function(){var e=this,t=this.props,r=t.table,n=t.currentUser,o=r.game,i=r.ready,c=r.players;if(!o)return null;o.isGameOver;var s=o.order,u=c.some(function(e){return-1===e}),f=i.every(function(e){return!0===e});if(!(u&&s<0||!f))return null;var p=null,d=c.map(function(e,t){return a.a.createElement("div",{key:l(),className:!1===i[t]?"thumbnail":"thumbnail ready"},a.a.createElement("span",null,e[0]))}),m=void 0;return c.includes(n)&&(m=c.some(function(e,t){return e===n&&!i[t]}),p=c.map(function(t,r){return t!==n||i[r]?null:a.a.createElement("div",{key:l()},a.a.createElement("button",{key:l(),onClick:function(){return e.setReadyState(r)},className:"btn"},"Âä†ÂÖ•ÁâåÂ±Ä"))})),a.a.createElement("div",{className:"player-ready-list"},a.a.createElement("div",{className:"player-ready-list-inner"},a.a.createElement("div",{className:"row"}," ",d),m&&a.a.createElement("div",{className:"btn-wrapper"},p),a.a.createElement("div",{className:"notes"},"Á≠âÂæÖÂä†ÂÖ•‰∏≠...")))}}]),t}(),ie=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var le=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),ie(t,[{key:"componentDidMount",value:function(){console.log("timer did mount")}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){return this.props.time?a.a.createElement("div",null):null}}]),t}(),ce=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var se=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=r.props.table.game;return r.state={endAuction:n.order>=0,windowWidth:window.innerWidth,windowHeight:window.innerHeight},r.deal=r.deal.bind(r),r.getNextMaxTrick=r.getNextMaxTrick.bind(r),r.shuffle=r.shuffle.bind(r),r.suffleCardsWhenReady=r.suffleCardsWhenReady.bind(r),r.endAuction=r.endAuction.bind(r),r.handleResize=r.handleResize.bind(r),r.getAuctionStatus=r.getAuctionStatus.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),ce(t,[{key:"handleResize",value:function(){this.setState({windowWidth:window.innerWidth,height:window.innerHeight})}},{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e){var t=this.props.table,r=e.table;t.ready.every(function(e,t){return e===r.ready[t]})||t.ready.every(function(e){return!0===e})&&this.suffleCardsWhenReady()}},{key:"suffleCardsWhenReady",value:function(){var e=this.props.table,t=e.players,r=e.game;t&&(t.every(function(e){return-1!==e})&&!r.cards&&this.shuffle())}},{key:"getNextMaxTrick",value:function(){var e=this.props.table.game;if(e){var t=e.cards,r=Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t.map(function(e){return e.trick}))),n=t.filter(function(e){return e.trick===r}).length;return 0===r||n>=4?r+1:r}}},{key:"endAuction",value:function(){this.setState({endAuction:!0})}},{key:"deal",value:function(e){var t=this.props.table,r=this.props.table.game;if(r){r.deal;var n=r.order+1;R("UPDATE_CURRENT_TRICK",Object.assign({},{table:t,value:e,time:(new Date).getTime(),maxTrick:this.getNextMaxTrick(),order:n,deal:(r.deal+1)%4}));var a=ne(r,e);if(a){var o=Object.assign({},a);delete o.index,R("UPDATE_WINNER_CARD",Object.assign({},this.props,{table:t,winnerCard:o,order:n,deal:o.player}))}}}},{key:"shuffle",value:function(){var e=function(){for(var e=$();!ee(e);)e=$(),console.log("shuffle cards");return e}();e=e.map(function(e){return{value:e,trick:0}}),R("ADD_NEW_DECK_TO_TABLE",{table:this.props.table,cards:e})}},{key:"getAuctionStatus",value:function(e){var t=e.bid.result;return!(!e||!t)&&(t.length>=4&&t.some(function(e){return e.trick>=0})&&t.slice(t.length-3).every(function(e){return"Pass"===e.opt}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.table,n=t.currentUser,o=r.game,i=r.players,c=(r.ready,o.cards),s=o.isGameOver,u=o.order%4==3,f=this.getAuctionStatus(o),p=f&&!0,d=void 0,m=function(e,t,r){if(t&&t.cards){var n=t.cards,a=e.map(function(t,r){return n.filter(function(t,n){return n%e.length===r})}).slice(0),o=e.findIndex(function(e){return e===r});return-1!==o?{cardsByPlayer:[].concat(q(a.slice(o)),q(a.slice(0,o))),offsetPlayers:[].concat(q(e.slice(o)),q(e.slice(0,o))),offsetIndex:o}:{cardsByPlayer:a,offsetPlayers:e.slice(0),offsetIndex:o}}}(i,o,n)||{},b=m.cardsByPlayer,h=m.offsetPlayers;m.offsetIndex;if(c&&c.length===E){i.findIndex(function(e){return e===n});var y=p?(o.bid.declarer+2)%4:6;y<4&&(y=h.findIndex(function(e){return e===i[y]}));var v=i[o.deal],w=i.includes(n);d=b.map(function(t,r){var c=h[r],s=r;0===y&&(y=2),t=t.sort(function(e,t){return e.value-t.value}).filter(function(e){return 0===e.trick}),1===s&&1!==y&&(t=t.sort(function(e,t){return t.value-e.value}));var u=[[],[],[],[]];if(t.map(function(e){return Object.assign({},e)}).map(function(e){return u[Math.floor(e.value/g)].push(e)}),u=u.filter(function(e){return 0!==e.length}),0!==s&&s!==y&&w){var d=function(e){if(e){var t=e.flat(),r=t.length;if(r<=8){var n=Math.floor(r/2);return[t.slice(0,n),t.slice(n,r)]}var a=[[],[],[]];return t.map(function(e,t){return a[t%3].push(e)}),a}}(u);d&&(u=d)}var m=function(e){return e&&e.cards&&e.cards.length>=4&&e.order%4!=3?e.cards.filter(function(e){return e.order%4==0}).sort(function(e,t){return t.order-e.order})[0]:null}(o),b=function(e,t){return!!t&&e&&t.filter(function(t){return Math.floor(t.value/g)===Math.floor(e.value/g)}).length>0}(m,u.flat()),E=u.map(function(t,r){var u=o.bid.declarer,d=i[(u+2)%4],h=i[u],E=f&&w,O=E&&v===c&&0===s;p&&E&&d===v&&(n===h&&2===s&&(O=!0),n===d&&0===s&&(O=!1));var k=!w||0===s||s===y,_=function(e){return null===m||!b||Math.floor(e.value/g)===Math.floor(m.value/g)};return t.map(function(t,n){return a.a.createElement(U,{name:O&&_(t)?"click-able l"+r+" item-"+n:"l"+r+" item-"+n,flipUp:k,evt:O&&_(t)?e.deal:null,key:l(),value:t.value})})}),O=E.map(function(e){return e.length}).reduce(function(e,t){return e+t},0),k=E.filter(function(e){return 0!==e.length}).length,_=e.state.windowWidth>=1200?480:400,T="north"===N[r]||"south"===N[r]?{left:(e.state.windowWidth-_-(40*O+40))/2}:null,j="west"===N[r]||"east"===N[r]?{top:(e.state.windowHeight-function(e){return 125*e-55*(e-1)+10}(k))/2}:null;return a.a.createElement("div",{className:N[r],style:T||j,key:l()},a.a.createElement("div",{className:"hand-inner"},a.a.createElement("div",{className:"user-hand"},E),a.a.createElement(X,{current:v===c&&f,name:c})))})}var O=r.ready.every(function(e){return!0===e});return s?a.a.createElement("div",{className:"game"},a.a.createElement("div",null,a.a.createElement(z,{startGame:this.suffleCardsWhenReady,currentUser:n,windowWidth:this.state.windowWidth,widnowHeight:this.state.windowHeight,table:r}))):a.a.createElement("div",{className:"game"},a.a.createElement(le,{time:o.time}),!O&&a.a.createElement(oe,{suffleCardsWhenReady:this.suffleCardsWhenReady,currentUser:n,table:this.props.table}),f&&a.a.createElement(J,{windowWidth:this.state.windowWidth,windowHeight:this.state.windowHeight,table:r}),a.a.createElement("div",{className:"auction"},o.bid&&o.cards&&a.a.createElement(H,{isFinishAuction:f,endAuction:this.endAuction,game:o,table:r,currentUser:n,players:i})),a.a.createElement("div",{className:"arena"},a.a.createElement("div",{className:"hands"},d),a.a.createElement(B,{cards:c,cardsByPlayer:b,order:o.order,isTrickFinish:u}),a.a.createElement(W,{resizeRatio:.15,innerStyle:{bottom:5*Math.ceil(this.state.windowWidth/500),right:5*Math.ceil(this.state.windowWidth/500)},thumbnailSize:30,name:"right-bottom-pos",windowWidth:this.state.windowWidth,widnowHeight:this.state.windowHeight,table:this.props.table})))}}]),t}(),ue=r(66),fe=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var pe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={name:""},r.handleName=r.handleName.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),fe(t,[{key:"handleName",value:function(e){this.setState({name:e.target.value})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,"login Component",a.a.createElement("input",{onChange:this.handleName,type:"text",value:this.state.name}),a.a.createElement(ue.a,{onClick:function(){return e.props.login(e.state.name)},to:"/lobby"},"login"),a.a.createElement("br",null),a.a.createElement(ue.a,{onClick:function(){return e.props.login("1")},to:"/lobby"},"player 1"),a.a.createElement("br",null),a.a.createElement(ue.a,{onClick:function(){return e.props.login("C-1")},to:"/lobby"},"player C-1"),a.a.createElement("br",null),a.a.createElement(ue.a,{onClick:function(){return e.props.login("C-2")},to:"/lobby"},"player C-2"),a.a.createElement("br",null),a.a.createElement(ue.a,{onClick:function(){return e.props.login("C-3")},to:"/lobby"},"player C-3"))}}]),t}(),de=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var me=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),de(t,[{key:"render",value:function(){return a.a.createElement("div",null,"CreateTable Component section")}}]),t}(),be=r(104),he=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var ye=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),he(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.index,n=t.record,o=t.current;if(!n)return a.a.createElement("div",{className:"record-item"},a.a.createElement("div",{className:"empty"}));var i=x(n.cards);return a.a.createElement("div",{onClick:function(){return e.props.changeRecord(r)},className:o?"record-item active current":"record-item active"},a.a.createElement("div",null,r+1),a.a.createElement("div",{className:"bid"},a.a.createElement("span",null,n.bid.trick+1),w[n.bid.trump](.15)),a.a.createElement("div",null,i.teamA),a.a.createElement("div",null,i.teamB))}}]),t}(),ve=function(e){var t=e.current,r=e.page,n=e.changePage;return a.a.createElement("div",{onClick:function(){return n(r)},className:t?"dot current":"dot"})},Ee=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var ge=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={page:0},r.changePage=r.changePage.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Ee(t,[{key:"changePage",value:function(e){this.setState({page:e})}},{key:"render",value:function(){var e=this,t=this.props.record;if(!t)return a.a.createElement("div",{className:"record-empty"},"No available game records");var r=void 0,n=void 0,o=void 0;if(t){if(t.length<4)t=t.concat([null,null,null,null]).slice(0,5);else{var i,l=5*this.state.page,c=l+5>t.length?t.length:l+5;t=c===l+5?t.slice(l,c):(i=t.slice(l,c)).concat.apply(i,[null,null,null,null])}r=t.map(function(t,r){return a.a.createElement(ye,{key:"record-item-"+r,index:r,changeRecord:e.props.changeRecord,current:e.props.currentRecord===r,record:t})}),n=(o=Math.ceil(t.length/4))<=1?null:n=Array.from({length:o}).fill(0).map(function(t,r){return a.a.createElement(ve,{key:"dot-"+r,changePage:e.changePage,page:r,current:r===e.state.page})})}return a.a.createElement("div",{className:"record-list"},this.props.record&&a.a.createElement("div",{className:"record-header"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement(Z,{teamOrder:0,players:this.props.players,size:32}),a.a.createElement(Z,{teamOrder:1,players:this.props.players,size:32})),r,a.a.createElement("div",{className:"dots-holder"},a.a.createElement("div",{className:"dots-holder-inner"},n)))}}]),t}(),we=function(e){var t=e.player,r=e.cards,n=e.direction,o=[[],[],[],[]];r.map(function(e){return o[Math.floor(e.value/13)].push(e)});var i=o.map(function(e,t){return a.a.createElement("div",{className:"hand",key:"suit-"+t},a.a.createElement("div",null,w[t](.15)),a.a.createElement("div",{className:"card-value"},e.map(function(e,t){return a.a.createElement("div",{key:"suit-"+t},O[e.value%g])})))});return a.a.createElement("div",{className:"rewind-player "+n},a.a.createElement("div",null,a.a.createElement(Y,{name:t,size:26})),a.a.createElement("div",{className:"hand-wrapper"},i))},Oe=function(e){var t=e.players,r=e.bid,n=r.declarer,o=r.trump,i=r.trick;return a.a.createElement("div",{className:"rewind-auction"},a.a.createElement("h3",null,"Auction"),a.a.createElement("div",null,a.a.createElement(Y,{name:t[n],size:26})),a.a.createElement("div",null,i+1," ",w[o](.15)))},ke=function(e){var t=e.players,r=e.cards,n=x(r);return a.a.createElement("div",{className:"rewind-result"},a.a.createElement("h3",null,"Result"),a.a.createElement("div",null,a.a.createElement(Z,{teamOrder:0,players:t,size:20}),a.a.createElement("div",null,n.teamA)),a.a.createElement("div",null,a.a.createElement(Z,{teamOrder:1,players:t,size:20}),a.a.createElement("div",null,n.teamB)))},_e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Te=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),_e(t,[{key:"render",value:function(){var e=this;if(!this.props.record)return null;var t=this.props.record,r=t.cards,n=t.bid,o=Q(r).map(function(t,r){return a.a.createElement(we,{direction:N[r],key:"hand-"+r,cards:t,player:e.props.players[r]})});return a.a.createElement("div",{className:"rewind"},o,a.a.createElement(Oe,{players:this.props.players,bid:n}),a.a.createElement(ke,{players:this.props.players,cards:r}),a.a.createElement("div",null))}}]),t}(),je=r(105),Ne=r.n(je),Ce=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Pe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={message:""},r.sendMessage=r.sendMessage.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyPress=r.handleKeyPress.bind(r),r.addEmoji=r.addEmoji.bind(r),r.msgEnd,r.emoji=C,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Ce(t,[{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.state.message.length&&this.sendMessage()}},{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"addEmoji",value:function(e){this.setState({message:this.state.message+e})}},{key:"sendMessage",value:function(e){R("SEND_MESSAGE_TO_CHATROOM",{message:this.state.message,currentUser:this.props.currentUser,table:this.props.table}),this.setState({message:""})}},{key:"handleChange",value:function(e){this.setState({message:e.currentTarget.value})}},{key:"scrollToBottom",value:function(){this.msgEnd.scrollIntoView({behavior:"smooth"})}},{key:"getRandomColor",value:function(){}},{key:"render",value:function(){var e=this;this.msgEnd&&this.scrollToBottom();var t=this.props,r=t.currentUser,n=t.table,o=t.chatroom,i=n.players,l=void 0,c=this.emoji.map(function(t,r){return a.a.createElement("span",{key:"emj-"+r,className:"emjbtn",onClick:function(){return e.addEmoji(t)}},t)});if(o&&o.message){var s=Object.keys(o.message).length,u=s-30>=0?s-30:0;l=(i.some(function(e){return e===r})&&"auction"===n.gameState||"playing"===n.gameState?Object.keys(o.message).sort(function(e,t){return+e-+t}).filter(function(e){return i.includes(o.message[e].user)}):Object.keys(o.message).sort(function(e,t){return+e-+t}).slice(u,s)).map(function(e,t){var r=n.viewers[o.message[e].user],l=null,c=i.findIndex(function(t){return t===o.message[e].user});c>-1&&(l=a.a.createElement("div",{style:{backgroundColor:r},className:"symbol"},w[c](.1,"#ffffff")));var s=o.message[e].content;return a.a.createElement("div",{className:"msg",key:"message-"+t},a.a.createElement("a",null,l,a.a.createElement("b",{style:{color:r}},o.message[e].user," ",a.a.createElement("b",{className:"comma"},":")),s))})}return a.a.createElement("div",{className:"chatroom"},a.a.createElement("div",{className:"msg-wrapper"},l,a.a.createElement("div",{ref:function(t){e.msgEnd=t},style:{float:"left",clear:"both"}},a.a.createElement("i",null))),a.a.createElement("div",{className:"typing-area"},a.a.createElement("textarea",{placeholder:"type something...",rows:"10",col:"50",value:this.state.message,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),a.a.createElement("div",{className:"emoji"},c),a.a.createElement("button",{onClick:this.sendMessage},"Send")))}}]),t}(),Ae=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Re=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=r.props.table.record;return r.state={tab:0,currentRecord:n?n.length-1:null},r.changeRecord=r.changeRecord.bind(r),r.handleTab=r.handleTab.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Ae(t,[{key:"changeRecord",value:function(e){this.setState({currentRecord:e})}},{key:"handleTab",value:function(e){this.setState({tab:e})}},{key:"render",value:function(){var e=this;if(!this.props.table)return null;var t=j.map(function(t,r){return a.a.createElement("div",{onClick:function(){return e.handleTab(r)},className:e.state.tab===r?"current "+t:""+t,key:"opt-"+r},a.a.createElement("span",null),a.a.createElement("b",null,t))}),r=null;this.props.table.record&&(r=this.state.currentRecord>=0&&this.props.table.record[this.state.currentRecord]);var n=a.a.createElement("div",null,a.a.createElement(ge,{players:this.props.table.players,record:this.props.table.record||null,changeRecord:this.changeRecord,currentRecord:this.state.currentRecord}),a.a.createElement(Te,{players:this.props.table.players,record:r})),o=a.a.createElement(Pe,{currentUser:this.props.currentUser,chatroom:this.props.chatroom,table:this.props.table}),i=0===this.state.tab?o:n;return a.a.createElement("div",{className:"sidebar"},a.a.createElement("div",{className:"tab-wrapper"},a.a.createElement("div",{className:"tabs"},t)),a.a.createElement("div",null,i))}}]),t}(),Se=(r(88),r(90),r(92),r(94),r(96),r(98),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}());var Ue=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.linkId=r.props.match.params.id;var n=r.props.tableList[r.linkId].id;return d.getNodeByPath("tables/"+n,function(e){return P("UPDATE_TABLE_DATA",{table:e.val(),id:n})}),d.getNodeByPath("chatroom/"+n,function(e){return P("UPDATE_CHAT_ROOM",{chatroom:e.val()})}),r.addPlayerToTable=r.addPlayerToTable.bind(r),r.color=Ne()("dark"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Se(t,[{key:"componentDidMount",value:function(){this.linkId=this.props.match.params.id;var e=this.props.tableList[this.linkId].id;d.getNodeByPath("tables/"+e,function(t){return P("UPDATE_TABLE_DATA",{table:t.val(),id:e})}),d.getNodeByPath("chatroom/"+e,function(e){return P("UPDATE_CHAT_ROOM",{chatroom:e.val()})})}},{key:"componentWillUnmount",value:function(){var e=this.props.tableList[this.linkId].id;d.cancelListenDataChange("tables/"+e)}},{key:"addPlayerToTable",value:function(e){var t=this;if(e){var r=e.players,n=e.viewers,a=r.findIndex(function(e){return-1===e}),o=r.some(function(e){return e===t.props.currentUser}),i=Boolean(n&&n[this.props.currentUser]);a>-1&&!o?R("ADD_PLAYER_TO_TABLE",{currentUser:this.props.currentUser,table:e,emptySeatIndex:a,color:this.color}):i||R("ADD_VIEWER_TO_TABLE",{currentUser:this.props.currentUser,table:e,color:this.color})}}},{key:"componentDidUpdate",value:function(e){console.log("in componentDidUpdate , comp table");var t=this.props.match.params.id,r=this.props.tableList[t].id;this.props.tables[r]!==e.tables[r]&&(console.log("current table is updated"),this.addPlayerToTable(this.props.tables[r]))}},{key:"render",value:function(){if(!Object.keys(this.props.tables).length)return a.a.createElement("div",null,"loading");var e=this.props,t=e.tables,r=e.currentUser,n=this.props.match.params.id,o=this.props.tableList[n].id;if(console.log("tables",t),console.log("es[tableKey]",t[o]),!t||!t[o])return null;console.log("linkId",n),console.log("tableKey",o);var i=t[o];return console.log("targetTable",i),i.gameState&&"close"===i.gameState?a.a.createElement(be.a,{to:"/lobby"}):a.a.createElement("div",{className:"table"},a.a.createElement(se,{currentUser:r,table:i}),a.a.createElement(Re,{currentUser:r,chatroom:this.props.chatroom,table:i}))}}]),t}(),De=(r(61),r(22)),Le=r.n(De),Be=r(23),xe=r.n(Be),Me=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Ie=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Me(t,[{key:"render",value:function(){return a.a.createElement("header",{className:this.props.path.includes("table")?"table-header":""},a.a.createElement("div",null,a.a.createElement(ue.a,{to:"/lobby"},a.a.createElement("img",{src:Le.a}),a.a.createElement("h1",null,"Bridge Together"))),a.a.createElement("div",null,a.a.createElement("img",{src:xe.a}),a.a.createElement("div",null,this.props.user||"Sign In / Sign Up")))}}]),t}(),We=(r(52),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}());var Ge=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.createTable=r.createTable.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),We(t,[{key:"createTable",value:function(e){console.log("should do"),R("CREATE_TABLE",{tableRef:e,currentUser:this.props.currentUser})}},{key:"render",value:function(){var e=this,t=this.props.tableList;if(!t)return a.a.createElement("div",null,a.a.createElement("h3",null,"Open table"),a.a.createElement("div",null," loading... "),a.a.createElement("button",{onClick:function(){e.createTable((new Date).getTime())}},"Open a new table"));var r=Object.keys(t).filter(function(e){return t[e].players?t[e].players.some(function(e){return-1===e}):!t[e].players}).map(function(t,r){var n=e.props.tableList[t].players,o=n?n.filter(function(e){return-1===e}).length:4,i=n?n[0]:"";return a.a.createElement("div",{className:"table-list-item",key:"tablelist-item-"+r+"}"},a.a.createElement("div",null,r+1),a.a.createElement("div",null,i),a.a.createElement("div",{className:"empty-seats"},o," "),a.a.createElement("div",null,a.a.createElement(ue.a,{className:"btn-style-border",key:t,to:"/table/"+t},"Play")))}),n=(new Date).getTime(),o=this.props.openBtn&&a.a.createElement(ue.a,{className:"btn-style-border",onClick:function(){return e.createTable(n)},to:"/table/"+n},"Open table");return a.a.createElement("div",{className:"table-list"},this.props.title&&a.a.createElement("h4",null,this.props.title),!this.props.isLoad&&a.a.createElement("div",null,a.a.createElement("div",{className:"table-list-item-group"},"loading... ")),a.a.createElement("div",{className:"btn-group"},a.a.createElement("button",{className:"btn-style"},"Match me")),a.a.createElement("div",{className:"table-list-header"},a.a.createElement("div",null,"No."),a.a.createElement("div",null,"Owner"),a.a.createElement("div",null,"Available seat"),a.a.createElement("div",null,o)),a.a.createElement("div",{className:"table-list-item-group"},r))}}]),t}(),ze=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ke=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Fe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.createTable=r.createTable.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Ke(t,[{key:"createTable",value:function(e){R("CREATE_TABLE",{tableRef:e,currentUser:this.props.currentUser})}},{key:"render",value:function(){var e=this,t=this.props.tableList;if(!t)return a.a.createElement("div",null,a.a.createElement("h3",null,"Open table"),a.a.createElement("div",null," loading... "),a.a.createElement("button",null,"Open a new table"));var r=Object.keys(t).filter(function(e){return t[e].players&&!t[e].players.some(function(e){return-1===e})}).map(function(t,r){var n=e.props.tableList[t].players,o=ze(n,4),i=o[0],l=o[1],c=o[2],s=o[3];return a.a.createElement("div",{className:"playing-table",key:"playing-table-item-"+r+"}"},a.a.createElement("div",null,r+1),a.a.createElement("div",null,i),a.a.createElement("div",null,l),a.a.createElement("div",null,c),a.a.createElement("div",null,s),a.a.createElement("div",null,a.a.createElement(ue.a,{className:"btn-style-border",to:"/table/"+t},"View")))});return a.a.createElement("div",{className:"table-list"},a.a.createElement("h4",null,"Live"),!this.props.isLoad&&a.a.createElement("div",null,a.a.createElement("div",{className:"table-list-item-group"},"loading... ")),a.a.createElement("div",{className:"table-list-header playing-table-header"},a.a.createElement("div",null,"No."),a.a.createElement("div",null,"South"),a.a.createElement("div",null,"West"),a.a.createElement("div",null,"North"),a.a.createElement("div",null,"East"),a.a.createElement("div",null)),a.a.createElement("div",{className:"table-list-item-group"},r))}}]),t}(),He=(r(101),r(53)),Ye=r.n(He),Ze=r(59),Xe=r.n(Ze),Ve=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Je=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Ve(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"lobby"},a.a.createElement("div",{className:"lobby-title"},a.a.createElement("h2",null,"Welcome to Wow Bridge")),a.a.createElement("div",{className:"table-lists"},a.a.createElement("div",{className:"table-list-wrapper"},a.a.createElement("h3",null,"Open"),a.a.createElement("div",{className:"table-num"},a.a.createElement("span",null,"3")," ",a.a.createElement("b",null,"tables")),a.a.createElement("div",{className:"table-list-inner"},a.a.createElement("img",{src:Ye.a}),a.a.createElement(Ge,{title:!1,isLoad:!0,openBtn:!0,currentUser:this.props.currentUser,open:!0,tableList:this.props.tableList}))),a.a.createElement("div",{className:"table-list-wrapper"},a.a.createElement("h3",null,"Playing"),a.a.createElement("div",{className:"table-num"},a.a.createElement("span",null,"3")," ",a.a.createElement("b",null,"tables")),a.a.createElement("div",{className:"table-list-inner"},a.a.createElement("img",{src:Xe.a}),a.a.createElement(Fe,{title:!1,isLoad:!0,openBtn:!0,open:!1,currentUser:this.props.currentUser,tableList:this.props.tableList})))))}}]),t}(),qe=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Qe=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),qe(t,[{key:"render",value:function(){return a.a.createElement("div",null,"loading...")}}]),t}(),$e=r(68),et=r(67),tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var nt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state=A.getState(),r.handleLogin=r.handleLogin.bind(r),r.update=r.update.bind(r),r.stopLoading=r.stopLoading.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),rt(t,[{key:"update",value:function(){this.setState(A.getState())}},{key:"componentDidUnMount",value:function(){this.unSubscribe()}},{key:"componentDidMount",value:function(){this.unSubscribe=A.subscribe(this.update.bind(this)),this.stopLoading()}},{key:"handleLogin",value:function(e){P("HANDLE_LOGIN",{name:e})}},{key:"stopLoading",value:function(){P("STOP_LOADING",{isLoad:!0})}},{key:"render",value:function(){var e=this,t=window.location.pathname;return console.log(this.state),this.state.isLoad?a.a.createElement("div",null,a.a.createElement($e.a,null,a.a.createElement("div",null,a.a.createElement(Ie,{path:t,user:this.state.currentUser}),!this.state.currentUser&&a.a.createElement(et.a,{path:"/",render:function(t){return a.a.createElement(pe,{login:e.handleLogin})}}),this.state.currentUser&&a.a.createElement("div",null,a.a.createElement(et.a,{path:"/table/:id",render:function(t){return a.a.createElement(Ue,tt({chatroom:e.state.chatroom,tables:e.state.tables,tableList:e.state.tableList,currentUser:e.state.currentUser},t))}}),a.a.createElement(et.a,{exact:!0,path:"/lobby",render:function(){return a.a.createElement(Je,{tables:e.state.tables||null,currentUser:e.state.currentUser,tableList:e.state.tableList})}}),a.a.createElement(et.a,{exact:!0,path:"/createTable",render:function(){return a.a.createElement(me,null)}}))))):a.a.createElement(Qe,null)}}]),t}();i.a.render(a.a.createElement(nt,null),document.getElementById("main"))},16:function(e,t,r){},18:function(e,t,r){},22:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAnCAYAAACWn7G7AAAABGdBTUEAALGPC/xhBQAABsRJREFUWAm1WHtsU1UY/+69bWXt1hbceEi3jnUdr2yACIgwI0aMUUyEGBMgopKg8Q/QP4xEHglIRkLEPxSfMRohRqKJj4gmGEJAdMA6QUjUoGRj7Ub3gLF17R7t1tbf6bg393G69o55k5vzne/7fd/5nXO/e853r0ATdKXTaXskEvkO7QpBEP5G2yCKYgByoKio6F+06TsdSrjTALI/iG5KpVKH5b66BdFe9BtxBzCBzCQKCws71Zh8ZAPZ1tbW6hSlvk1TehoCXMPdTAI1iSQ2kUhNQlJo9ng8QRAYVg/Q29v7MVbzRbUuhxxCjAAwDZIkBUD+Avr9Y/kYyAZDwcMgumlMJ0FIUppCwDRhIs0Y5EqRo+h59GvG8hvLhhhJTPav2xMIWCyWBofDwfpJ2Y9HthFk75MB+bQIeMlV5KrBYGI+eBMYttIXEf+szWZ7z6J3BNFKvS5X3yJZWkB0YS7cOOwO+NQidm08Hn9csxLhcLgYRrfZoJJFSpj1MYvH6no0ZPE2m15VNqhVst5tdvBx4P/QkE2mk6bJYsbdeJurxzG4WZdzGrLwNk0WPpeRU1PNjmwWj/35/LjIDgwM0meffkF79x4gm9V20+zA48HjCTZY1I757AQnT/5Cnx8+Sj09vVRaNpPwclnVMZgcvRigrq+O0EDTPyTaJpF71WqasWEziY5CPTSvPog24ci+oSErkFAJwtwAbDXfefcjqq9vUOxVfl/aZrGVIQ0UXaT+NLXs36X0U4ODdPP7ryly9gz5D35IFqeb+n4/T8M3OkmcNIlcyx8kqcip4HkC4p9neoVsT0+POxKNcN/qULCN3qx7izratcd5WVlpO2Iop1a8LUihg/t449FwVwc17XiVktEIjURYqTB6hT85ROW79lPhgsWyytCyfGVKJWej0ajfgIKiubmFtr+xx0CUYf1+31XMWkmD7uM/UCoR54XJ6Nhk1ESZMjnQT9fqdlK8LZTVT15ZhSyQhp0gHO6gHTv3UTQaMwTC2U2Laqq71Ab2qMdzpfpjdPPHb7K5DrpcrsvMqJBFpaUhm0gkqK7ubYrF+IXQrFlesjvsmmRLj4xkGzCnvq/xXDYMq8YyFZ5Clr1cavSpU79RMNSqVmnkyspZcVEQ56uVYoFd3TUls3TgXSCayVdmU8ii1NOQPXHiFM9X0ZV6ZrJa16MoIDgXL1N3TckWpysb3khWv8d2dmrS0RBozmx/UK9k++l4L+eSB7iuKA21ZLu7u53YXvM+MgsKCmhBTbXhrbP751LhQlOlcIagaLuLStat55Fts9vt12VDJg2i8agmBZix0l8hYwwt8jVttVo1KSCDpm/cLIv5tZJEZdv3knWKcYtX5ysLliErpLQvFzM8vOpB1nAvr7fsFgIph4Ea5JhXQ1MeXaNWZZXZinpf30Ou+1dyMfL+KhtHyep2AmasrV1Oqx95SMZpWq/X0wJFgUap6tyzZStZi8fOKlvJNKrE8eteuUrlqRVReir5yiwZsvo9VnbZtu0l2rDhaSopKSZ8fbITi16Bbu1Ta67KGF4r2R3kfW03CZLFaBYEKl6zjqo+OEIFviqj/baG7a0oXi6oAZkPRnzRnsFuUKs2jCXjS/YnnNdPjIVhtlvHj1HroQMKrLDmXprxwstkr5qr6LIJINvodruXqu3y1A0vmBqklhGkH49nDvJJrebKUx57kobaWigRvk5Tn3mW7HM0ZwjXR1bq85XphY6ODsdQYsiwDclO+lYQhXqnw7lCr5/oPp7cRtQEX6rjisPDwz61IpcsiVI4F2Yi7LyVFZOU5JaG2Qa0WpSKMBvkjvVItS7ka7M+kKgvYPQAfR/fXNP1uonuY1UbeDHZ1pX3ywVsC2b9v392YwzN/ioTF/UFjGzgtgIlMOvsdSPXybwSY3CLW3NpkKaqvljfafwMeR8UfsXNL0LN81M8sKop5GujolAJbJ+drOrnFDHrrbFYjBC0DU/lZ/yUC+H3URKlXDGcF0E/HxgpZ6AsAPj+iRjcrZSRPQjjboAyR2+WGAY18Kzq8ozgU4bd2KtTKDOvoIg/ih2jE99oEl7GUuCWAFdmCJBFAS7cfGXw0eO2NzhZikmzR9IjPuwOPgxaARvbf31ATMeAGRxzMHkNwf9c8eTi9fjptww3Oz7ZvQQxuX8rcRg8h8PgCG+cnCTw274gZUlVoIz0YYAKIS34UPiMTiRN5Qhq4wVWdAJdKi8tX6T0IbDJ49O/Cu1SNgGs5jLI89DWg+hatANqvCznJCsDeS0GENvb2z0Y0IenkpkIcGwimSeDnE4IkrDFO9N7jOdvVvcftb81livLa7EAAAAASUVORK5CYII="},23:function(e,t,r){e.exports=r.p+"c0d3da8d159baa9ecdc0413d36fd5888.svg"},25:function(e,t,r){},50:function(e,t,r){},52:function(e,t,r){},53:function(e,t,r){e.exports=r.p+"fdb4e8debbfd9c2e44a38f528e320ee4.svg"},54:function(e,t,r){},57:function(e,t,r){},59:function(e,t,r){e.exports=r.p+"7df62acafa694b8c1a4a0528fb6546cc.svg"},60:function(e,t,r){},61:function(e,t,r){},74:function(e,t,r){},85:function(e,t,r){},88:function(e,t,r){},90:function(e,t,r){},92:function(e,t,r){},94:function(e,t,r){},96:function(e,t,r){},98:function(e,t,r){}},[[103,2,1]]]);
//# sourceMappingURL=main.1485.js.map
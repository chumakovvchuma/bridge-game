{"version":3,"sources":["webpack:///./src/helper/helper.js","webpack:///./src/firebase/firebase.js","webpack:///./src/firebase/config.js","webpack:///./src/components/shape/shape.js","webpack:///./src/components/constant.js","webpack:///./src/reducer/reducer.js","webpack:///./src/components/card.js","webpack:///./src/components/getCurrentMaxTrick.js","webpack:///./src/components/trick.js","webpack:///./src/components/socre.js","webpack:///./src/components/trickScore.js","webpack:///./src/components/scoreBoard.js","webpack:///./src/components/auctionList.js","webpack:///./src/components/auction.js","webpack:///./src/components/thumbnail.js","webpack:///./src/components/player.js","webpack:///./src/components/auctionResult.js","webpack:///./src/components/examineCards.js","webpack:///./src/components/getWinnerCard.js","webpack:///./src/components/playerReadyList.js","webpack:///./src/components/timer.js","webpack:///./src/components/game.js","webpack:///./src/components/login.js","webpack:///./src/components/createTable.js","webpack:///./src/components/sidebar/recordItem.js","webpack:///./src/components/dotIndicator/dot.js","webpack:///./src/components/sidebar/gameRecord.js","webpack:///./src/components/sidebar/hand.js","webpack:///./src/components/sidebar/rewindAuction.js","webpack:///./src/components/sidebar/rewindResult.js","webpack:///./src/components/sidebar/gameRewind.js","webpack:///./src/components/chatroom.js","webpack:///./src/components/sidebar/sidebar.js","webpack:///./src/components/table.js","webpack:///./src/components/header.js","webpack:///./src/components/openTables.js","webpack:///./src/components/playingTables.js","webpack:///./src/components/lobby.js","webpack:///./src/components/loading.js","webpack:///./src/index.js","webpack:///./src/images/logo.png","webpack:///./src/images/message.svg","webpack:///./src/images/open.svg","webpack:///./src/images/play.svg"],"names":["getRandomKey","n","arguments","length","undefined","letter","Array","from","fill","map","w","Math","floor","random","join","getRandomInt","min","max","firebaseApp","a","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","app","db","database","auth","getNodeByPathOnce","path","action","ref","on","getNodeByPath","pushDataByPath","data","push","cancelListenDataChange","off","listenPathChildren","setNodeByPath","set","getNewChildKey","node","child","key","updateTableDataByID","id","updateTableGameDataByPath","game","setTableListData","shape_Heart","_ref","scale","react_default","createElement","shape_SvgContainer","ratio","d","shape_Spade","_ref2","shape_Diamond","_ref3","points","shape_Club","_ref4","_ref5","children","width","height","viewBox","transform","CARD_NUM","SUIT_SHAPE","0","1","2","3","4","CARD_RANK","DEFAULT_GAME","deal","bid","isDb","isRdb","trick","trump","order","isGameOver","PLAYERS","GAME_STATE","TAB_OPTION","DIRECTION","dispatch","type","store","Object","assign","redux","state","currentUser","name","isLoad","tables","chatroom","table","updatedTables","tableList","es","reducer_dispatchToDatabase","timeStamp","Date","getTime","players","slice","tableKey","linkId","tableRef","newTable","gameState","ready","tableData","record","playerIndex","cards","newGame","console","log","targetCardIndex","findIndex","card","value","winnerCard","winner","isWin","player","targetCardInex","currentCard","maxTrick","emptySeatIndex","updatePlayers","message","time","newMessage","content","user","val","card_TrickCard","className","card_Card","flipUp","_ref2$evt","evt","_ref2$name","kind","wrapperName","onClick","getCurrentMaxTrick","apply","_toConsumableArray","components_trick","Trick","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","call","fadeOutCards","Component","prevProps","_this2","setTimeout","setState","direction","_props","cardsByPlayer","isTrickFinish","currentTrick","hand","index","trickCards","sort","cardA","cardB","userHand","filter","teamScore","teamA","teamB","winningScore","trickScore","TrickScore","trickScore_classCallCheck","trickScore_possibleConstructorReturn","windowWidth","windowHeight","score","_players","_slicedToArray","player1","player2","player3","player4","innerStyle","resizeRatio","thumbnailStyle","thumbnailSize","style","minWidth","scoreBoard","ScoreBoard","scoreBoard_classCallCheck","scoreBoard_possibleConstructorReturn","recordGame","bind","_props$table","scoreTeamOne","scoreTeamTwo","result","resultWords","indexOf","_game$bid","declarer","targetTrick","widnowHeight","auctionList_AuctionList","resultsNum","ceil","res","re","j","resultItem","opt","components_auction","Auction","auction_classCallCheck","auction_possibleConstructorReturn","visibility","current","updateBid","validateUserTurnAndsetTrump","newBid","isFinishAuction","isAllPass","every","hasValidTrump","some","_this3","_props2","isCurrentUser","trickOpt","trumpOpt","allTrickOpt","selectedTrump","DoubleBtn","ReDoubleBtn","playerThumbnails","thumbnail_Thumbnail","_ref$name","_ref$size","size","_ref$src","src","img","borderRadius","thumbnail_ThumbailGroup","teamOrder","members","player_Player","_ref$current","auctionResult_AuctionResult","_React$Component","AuctionResult","auctionResult_classCallCheck","auctionResult_possibleConstructorReturn","auctionResult_inherits","auctionResult_createClass","top","right","mapToFourHands","userIndex","i","examineCards_getRandomCards","randomIndex","validateShuffle","examineCards_fourHands","reduce","sum","getWinnerCard_findMaxValueByTrump","arr","list","item","getWinnerCard_getWinnerCard","cardValue","cardsMatchCurrentTrick","noTrumpCards","first","getWinnerCard_toConsumableArray","_cardsMatchCurrentTri","firstHand","getWinnerCard_slicedToArray","tmp","trumpRef","playerReadyList","PlayerReadyList","playerReadyList_classCallCheck","playerReadyList_possibleConstructorReturn","setReadyState","isEmptySeat","seat","isAllPlayerReady","playBtns","thumbnails","currentUserCanPlay","includes","timer","Timer","timer_classCallCheck","timer_possibleConstructorReturn","components_game","Game","game_classCallCheck","game_possibleConstructorReturn","endAuction","window","innerWidth","innerHeight","getNextMaxTrick","shuffle","suffleCardsWhenReady","handleResize","getAuctionStatus","addEventListener","removeEventListener","oldTable","game_toConsumableArray","maxTrickNum","shuffleCards","isEndOfCurrentTrick","isDummyMode","hands","offsetIndex","examineCards_toConsumableArray","offsetPlayers","getOffsetDatabyCurrentUser","flipIndex","currentTurnPlayer","isCurrentUserPlayer","playerHand","playerHandIndex","b","display","mapResult","dislayList","flat","len","mid","threeRow","mapFlipDownCards","firstCard","PLAYER_NUM","examineCards_getFirstCard","hasFollowSameSuit","examineCards_hasSameSuitWithFirstCard","cardsInHand","each","declarerIndex","dummyPlayer","declarerPlayer","isValidCard","canBeClick","allowClickEvt","totalCardsInHand","suit","totalSuitType","sidebarWidth","horCardStyle","left","verCardStyle","suitNum","getHandHeight","isAllReady","startGame","bottom","login","Login","login_classCallCheck","login_possibleConstructorReturn","handleName","e","target","onChange","Link","to","components_createTable","CreateTable","createTable_classCallCheck","createTable_possibleConstructorReturn","sidebar_recordItem","RecordItem","recordItem_classCallCheck","recordItem_possibleConstructorReturn","changeRecord","dot_Dot","page","changePage","GameRecord","gameRecord_classCallCheck","gameRecord_possibleConstructorReturn","recordList","dots","dotsNum","concat","resultNum","_record$slice","start","end","recordItem","currentRecord","dotItem","hand_Hand","displaySuit","rewindAuction_RewindAuction","rewindResult_RewindResult","GameRewind","gameRewind_classCallCheck","gameRewind_possibleConstructorReturn","_props$record","fourHands","components_chatroom","Chatroom","chatroom_classCallCheck","chatroom_possibleConstructorReturn","sendMessage","handleChange","handleKeyPress","currentTarget","keys","chatStart","messageList","onKeyPress","sidebar","Sidebar","sidebar_classCallCheck","sidebar_possibleConstructorReturn","tab","options","components_table","Table","table_classCallCheck","table_possibleConstructorReturn","match","params","addPlayerToTable","hasJoin","targetTable","Redirect","components_header","Header","header_classCallCheck","header_possibleConstructorReturn","logo_default","message_default","openTables","OpenTables","openTables_classCallCheck","openTables_possibleConstructorReturn","createTable","tableLinks","emptySeats","owner","openBtn","title","components_playingTables","playingTables_classCallCheck","playingTables_possibleConstructorReturn","playingTables_slicedToArray","south","west","north","east","components_lobby","Lobby","lobby_classCallCheck","lobby_possibleConstructorReturn","open_default","open","play_default","loading","Loading","loading_classCallCheck","loading_possibleConstructorReturn","src_App","App","src_classCallCheck","src_possibleConstructorReturn","getState","handleLogin","update","stopLoading","unSubscribe","subscribe","pathName","location","pathname","BrowserRouter","Route","render","_extends","exact","react_dom_default","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"sLAiBaA,oBAAe,WAAW,IAAVC,EAAUC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,EAC3BG,EAAS,qDACb,OAAOC,MAAMC,MAAMJ,OAAQF,IACxBO,KAAK,GACLC,IAAI,SAAAC,GAAA,OAAKL,EAAOM,KAAKC,MAAMD,KAAKE,UAAYR,EAAOF,OAAS,OAC5DW,KAAK,MASGC,EAAe,SAACC,EAAKC,GAChC,OAAON,KAAKC,MAAMD,KAAKE,UAAYI,EAAMD,EAAM,IAAMA,2BC7BnDE,SAAcC,EAASC,eCFzBC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,iBDDRC,GACXC,GAAIV,EAAYW,WAChBC,KAAMZ,EAAYY,OAClBC,kBAAmB,SAACC,EAAMC,GACxB,OAAOf,EACJW,WACAK,IAAIF,GACJG,GAAG,QAASF,IAEjBG,cAAe,SAACJ,EAAMC,GACpB,OAAOf,EACJW,WACAK,IAAIF,GACJG,GAAG,QAASF,IAEjBI,eAAgB,SAACL,EAAMM,GACrB,OAAOpB,EACJW,WACAK,IAAIF,GACJO,KAAKD,IAEVE,uBAAwB,SAACR,EAAMC,GAC7B,OAAOf,EACJW,WACAK,IAAIF,GACJS,IAAI,QAASR,IAElBS,mBAAoB,SAACV,EAAMC,GACzB,OAAOf,EACJW,WACAK,IAAIF,GACJS,IAAI,UAETE,cAAe,SAACX,EAAMM,GACpB,OAAOpB,EACJW,WACAK,IAAIF,GACJY,IAAIN,IAETO,eAAgB,SAAAC,GACd,OAAO5B,EACJW,WACAK,MACAa,MAAMD,GACNP,OAAOS,KAEZC,oBAAqB,SAACC,EAAIZ,GACxBpB,EACGW,WACAK,IAFH,UAEiBgB,EAFjB,KAGGN,IAAIN,IAETa,0BAA2B,SAACnB,EAAMoB,GAChClC,EACGW,WACAK,IAAI,UAAYF,GAChBY,IAAIQ,IAETC,iBAAkB,SAACH,EAAIZ,GACrBpB,EACGW,WACAK,IAFH,aAEoBgB,EAFpB,KAGGN,IAAIN,KE7DEgB,EAAQ,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACrB,OACEC,EAAAtC,EAAAuC,cAACC,GAAaH,MAAOA,EAAOI,MAAO,IAAMpD,KAL9B,WAMTiD,EAAAtC,EAAAuC,cAAA,QAAMG,EAAE,gxBAKDC,EAAQ,SAAAC,GAAa,IAAXP,EAAWO,EAAXP,MACrB,OACEC,EAAAtC,EAAAuC,cAACC,GAAaH,MAAOA,EAAOI,MAAO,EAAGpD,KAb3B,WAcTiD,EAAAtC,EAAAuC,cAAA,QACEG,EAAE,6wBACFrD,KAfS,cAqBJwD,EAAU,SAAAC,GAAa,IAAXT,EAAWS,EAAXT,MAGvB,OACEC,EAAAtC,EAAAuC,cAACC,GAAaH,MAAOA,EAAOI,MAAO,EAAGpD,KA1B3B,WA2BTiD,EAAAtC,EAAAuC,cAAA,WACEQ,OAAWxD,iCAMNyD,EAAO,SAAAC,GAAa,IAAXZ,EAAWY,EAAXZ,MACpB,OACEC,EAAAtC,EAAAuC,cAACC,GAAaH,MAAOA,EAAOI,MAAO,IAAMpD,KAnC5B,WAoCXiD,EAAAtC,EAAAuC,cAAA,QACEG,EAAE,qpBACFrD,KAtCS,cA4CXmD,EAAe,SAAAU,GAAoC,IAAlCC,EAAkCD,EAAlCC,SAAUV,EAAwBS,EAAxBT,MAAOJ,EAAiBa,EAAjBb,MAAOhD,EAAU6D,EAAV7D,KACzC+D,EAAgB,IAARf,EACVgB,EAAS7D,KAAKC,MAAM2D,EAAQX,GAC9B,OACEH,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAAA,OACEa,MAAUA,EAAV,KACAC,OAAWA,EAAX,KACAC,QAAA,OAAgBF,EAAhB,IAAyBC,GACzBf,EAAAtC,EAAAuC,cAAA,KAAGlD,KAAMA,EAAMkE,UAAA,SAAoBlB,EAApB,KACZc,MCxDEK,EACJ,GADIA,EAGL,GAQKC,GACXC,EAAG,SAAArB,GAAA,OAASC,EAAAtC,EAAAuC,cAACS,GAAKX,MAAOA,KACzBsB,EAAG,SAAAtB,GAAA,OAASC,EAAAtC,EAAAuC,cAACM,GAAQR,MAAOA,KAC5BuB,EAAG,SAAAvB,GAAA,OAASC,EAAAtC,EAAAuC,cAACJ,GAAME,MAAOA,KAC1BwB,EAAG,SAAAxB,GAAA,OAASC,EAAAtC,EAAAuC,cAACI,GAAMN,MAAOA,KAC1ByB,EAAG,SAAAzB,GAAA,OAASC,EAAAtC,EAAAuC,cAAA,mBAGDwB,GAAa,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,IAAK,IAAK,IAAK,KAExDC,GACXC,KAAM,EACNC,KACEC,MAAM,EACNC,OAAO,EACPC,MAAO,EACPC,OAAQ,GAEVC,OAAQ,EACRC,YAAY,GAGDC,IA1Ba,YA2BbC,EACL,OAMKC,GAAc,OAAQ,UAEtBC,GAAa,QAAS,OAAQ,QAAS,QClCvCC,EAAW,SAACC,EAAMhE,GAAP,OACtBiE,EAAMF,SAASG,OAAOC,WAAYH,KAAMA,GAAOhE,KAiCpCiE,EAAQC,OAAAE,EAAA,EAAAF,CA/BK,SAACG,EAAOrE,GAChC,OAAQA,EAAOgE,MACb,IAAK,eACH,OAAOE,OAAOC,UAAWE,GAAQC,YAAatE,EAAOuE,OAEvD,IAAK,eACH,OAAOL,OAAOC,UAAWE,GAAQG,OAAQxE,EAAOwE,SAElD,IAAK,mBAEH,OAAON,OAAOC,UAAWE,GAAQI,OAAQzE,EAAOyE,SAElD,IAAK,mBACH,OAAOP,OAAOC,UAAWE,GAAQK,SAAU1E,EAAO0E,WAEpD,IAAK,oBAAqB,IACnBzD,EAAajB,EAAbiB,GAAI0D,EAAS3E,EAAT2E,MACLF,EAASJ,EAAMI,OACfG,EAAgBV,OAAOC,UAAWM,GAEtC,OADAG,EAAc3D,GAAM0D,EACbT,OAAOC,UAAWE,GAAQI,OAAQG,IAE3C,IAAK,mBAEH,OAAOV,OAAOC,UAAWE,GAAQQ,UAAW7E,EAAO6E,YAErD,QACE,OAAOR,KAOTC,YAAa,KACbE,QAAQ,EACRC,WAEFP,OAAAE,EAAA,EAAAF,CAAgBY,EAAA,IAGLC,EAAqB,SAACf,EAAMhE,GACvC,OAAQgE,GACN,IAAK,eACH,IAAIgB,GAAY,IAAIC,MAAOC,UACvBC,EAAUxB,EAAQyB,MAAM,GAC5BD,EAAQ,GAAKnF,EAAOsE,YACpB,IAAIe,EAAW3F,EAAIkB,eAAe,UAC9B0E,EAAStF,EAAOuF,UAAYP,EAC5BQ,GACFR,UAAWM,EACXG,UAAW7B,EACX3C,GAAIoE,EACJC,OAAQA,EACRnE,KAAM+B,EACNiC,QAASA,EACTO,QAAQ,GAAO,GAAO,GAAO,IAE/BhG,EAAIgB,cAAJ,UAA4B2E,EAAYG,GACxC9F,EAAI0B,iBAAiBkE,GACnBrE,GAAIoE,IAEN,MAGF,IAAK,kBAAmB,IACjBV,EAAS3E,EAAT2E,MACDgB,EAAYzB,OAAOC,UAAWQ,GAC7BiB,EAAgBD,EAAhBC,OAAQzE,EAAQwE,EAARxE,KACTyE,EACFA,EAAOtF,KAAKa,GAEZyE,GAAUzE,GAGZwE,EAAUC,OAASA,EACnBD,EAAUxE,KAAO+C,OAAOC,UAAWjB,GACnCyC,EAAUD,QAAS,GAAO,GAAO,GAAO,GACxCC,EAAUX,WAAY,IAAIC,MAAOC,UACjCS,EAAUF,UAAY7B,EACtBlE,EAAIsB,oBAAoB2E,EAAU1E,GAAI0E,GACtC,MAEF,IAAK,iBAAkB,IAChBhB,EAAsB3E,EAAtB2E,MAAOkB,EAAe7F,EAAf6F,YACR9F,YAAiB4E,EAAM1D,GAAvB,UAAmC4E,EACvCnG,EAAIgB,cAAcX,GAAM,GAExBL,EAAIwB,0BACCyD,EAAM1D,GADX,eAEE,IAAIgE,MAAOC,WAEb,MAEF,IAAK,wBAAyB,IAGvBY,EAAgB9F,EAAhB8F,MAAOnB,EAAS3E,EAAT2E,MACRoB,EAAU7B,OAAOC,UAAWQ,EAAMxD,MACpC2E,MAAOA,IAGTE,QAAQC,IAAI,QAASH,GACrBpG,EAAIsB,oBAAuB2D,EAAM1D,GAAjC,SAA6C8E,GAC7CC,QAAQC,IAAI,uBACZ,MAEF,IAAK,qBAAsB,IAEpBtB,EAAS3E,EAAT2E,MACDxD,EAAO+C,OAAOC,UAAWQ,EAAMxD,MAE/B2E,EAAQ3E,EAAK2E,MACjB3E,EAAKsC,MAAQzD,EAAOyD,MAGpB,IAAIyC,EAAkBJ,EAAMK,UAC1B,SAAAC,GAAA,OAAQA,EAAKC,QAAUrG,EAAOsG,WAAWD,QAEvCE,EAASvG,EAAOsG,WACpBC,EAAOC,OAAQ,EACfrF,EAAKgC,KAAOoD,EAAOE,OACnBX,EAAMI,GAAmBK,EAEJ,KAAjBvG,EAAOyD,QACTtC,EAAKuC,YAAa,GAEpBhE,EAAIsB,oBAAuB2D,EAAM1D,GAAjC,SAA6CE,GAC7C,MAEF,IAAK,uBAAwB,IAGtBwD,EAAsB3E,EAAtB2E,MAAOlB,EAAezD,EAAfyD,MAAON,EAAQnD,EAARmD,KACdhC,EAAQwD,EAARxD,KACLzB,EAAIwB,0BAA6ByD,EAAM1D,GAAvC,eAAyDwC,GAEzD,IAAIqC,EAAQ3E,EAAK2E,MAEbY,EAAiBZ,EAAMK,UACzB,SAAAC,GAAA,OAAQA,EAAKC,QAAUrG,EAAOqG,QAG5BM,EAAcb,EAAMY,GACxBC,EAAYlD,MAAQA,EAGpB/D,EAAIwB,0BAA6ByD,EAAM1D,GAAvC,cAAwDkC,GACxDzD,EAAIwB,0BACCyD,EAAM1D,GADX,eAEE,IAAIgE,MAAOC,WAKa,IAAtByB,EAAYpD,QAGdoD,EAAYpD,MAAQvD,EAAO4G,SAE3BD,EAAYF,QAAUtD,EAAO,EAAI,GAAK,EAEtCzD,EAAIwB,0BACCyD,EAAM1D,GADX,eAC4ByF,EAC1BC,IAGJ,MAEF,IAAK,sBACHX,QAAQC,IAAI,kCADc,IAErB3B,EAAsCtE,EAAtCsE,YAAaK,EAAyB3E,EAAzB2E,MAAOkC,EAAkB7G,EAAlB6G,eACpBvB,EAAuBX,EAAvBW,OAAQrE,EAAe0D,EAAf1D,GAAIkE,EAAWR,EAAXQ,QACjBa,QAAQC,IAAI,oBAAqBX,EAAQrE,EAAIkE,GAE7CzF,EAAIgB,cAAJ,UACYO,EADZ,YAC0B4F,EACxBvC,GAEF5E,EAAIwB,0BACCD,EADL,eAEE,IAAIgE,MAAOC,WAIb,IAAI4B,EAAgB3B,EAAQC,MAAM,GAClC0B,EAAcD,GAAkBvC,EAChC5E,EAAIgB,cAAJ,aAA+B4E,EAA/B,WAAiDwB,GACjD,MAEF,IAAK,iBAGHpH,EAAIwB,0BACClB,EAAO2E,MAAM1D,GADlB,SAEEjB,EAAOmB,MAETzB,EAAIwB,0BACClB,EAAO2E,MAAM1D,GADlB,eAEE,IAAIgE,MAAOC,WAEb,MAEF,IAAK,2BACiClF,EAA/B+G,QAD0B,IACjBzC,EAAsBtE,EAAtBsE,YAAaK,EAAS3E,EAAT2E,MACvBqC,GAAO,IAAI/B,MAAOC,UAClB+B,KACJA,EAAWC,QAAUlH,EAAO+G,QAC5BE,EAAWE,KAAO7C,EAClB5E,EAAIgB,cAAJ,YACciE,EAAM1D,GADpB,YACkC+F,EADlC,IAEEC,GAGJ,QACE,OAAO,OAQbvH,EAAIS,cAAc,YAAa,SAAAkG,GAC7B,OAAOtC,EAAS,oBAAqBc,UAAWwB,EAAMe,oBCvO3CC,EAAY,SAAA/F,GAAa,IAAX+E,EAAW/E,EAAX+E,MACzB,OACE7E,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,kBACb9F,EAAAtC,EAAAuC,cAAC8F,GAAKC,QAAQ,EAAMnB,MAAOA,MAKpBkB,EAAO,SAAAzF,GAA8C,IAA5CuE,EAA4CvE,EAA5CuE,MAA4CoB,EAAA3F,EAArC4F,WAAqCvJ,IAAAsJ,EAA/B,KAA+BA,EAAzBD,EAAyB1F,EAAzB0F,OAAyBG,EAAA7F,EAAjByC,YAAiBpG,IAAAwJ,EAAV,KAAUA,EAC5DC,EAAOlJ,KAAKC,MAAM0H,EAAQ3D,GAC1BmF,EAActD,kBAAuBA,EAAS,eAClD,OAAIiD,EAEAhG,EAAAtC,EAAAuC,cAAA,OACE6F,UAAWO,EACXC,QAAS,WACHJ,GACFA,EAAIrB,KAGR7E,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,gBACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,cACb9F,EAAAtC,EAAAuC,cAAA,OACE6F,UACW,IAATM,GAAuB,IAATA,EACV,YACA,eAEL3E,EAAUoD,EAAQ3D,IAEpBC,EAAWiF,GAAM,MAClBpG,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,eACZ3E,EAAWiF,GAAM,QAQ1BpG,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAWO,GACdrG,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,kBACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,kBCjDlB,IAAMS,EAAqB,SAAAjC,GAChC,OAAKA,EACEpH,KAAKM,IAALgJ,MAAAtJ,2HAAAuJ,CAAYnC,EAAMtH,IAAI,SAAA4H,GAAA,OAAQA,EAAK7C,UADvB,+PCMA2E,cACnB,SAAAC,EAAYC,gGAAOC,CAAAC,KAAAH,GAAA,IAAAI,mKAAAC,CAAAF,MAAAH,EAAAM,WAAAvE,OAAAwE,eAAAP,IAAAQ,KAAAL,KACXF,IADW,OAEjBG,EAAKlE,OACHuE,cAAc,GAHCL,qUADc/G,EAAAtC,EAAM2J,yDAOpBC,GAAW,IAAAC,EAAAT,KACxBA,KAAKF,MAAM3E,QAAUqF,EAAUrF,QAC7B6E,KAAKF,MAAM3E,MAAQ,GAAM,EAC3BuF,WAAW,kBAAMD,EAAKE,UAAUL,cAAc,KAAQ,KAEtDN,KAAKW,UAAUL,cAAc,sCAKjC,IAAIM,GAAa,aAAc,YAAa,aAAc,aADnDC,EAE4Cb,KAAKF,MAA5CtC,GAFLqD,EAEF1F,MAFE0F,EAEKrD,OAAOsD,EAFZD,EAEYC,cAFZD,EAE2BE,cAClC,IAAKvD,EACH,OAAO,KAGT,IAAIwD,EAAe,KACjB1C,EAAWmB,EAAmBjC,GA+ChC,OA5CiB,IAAbc,IACFA,EAAW,GAITwC,IAAkBd,KAAKjE,MAAMuE,eAE/BU,EAAeF,EAAc5K,IAAI,SAAC+K,EAAMC,GAEtC,IAAIC,GADJF,EAAOA,EAAKG,KAAK,SAACC,EAAOC,GAAR,OAAkBD,EAAMtD,MAAQuD,EAAMvD,SACjC7H,IAAI,SAAAqL,GACxB,GAAIA,EAAStG,QAAUqD,EACrB,OACEpF,EAAAtC,EAAAuC,cAAC4F,GACCtG,IAAKhD,IACLsI,MAAOwD,EAASxD,UAUxB,OAHYoD,EAAWK,OACT,SAAA1D,GAAA,OAAiB,OAATA,QAA0BjI,IAATiI,IACzBlI,OAAS,EAGnBsD,EAAAtC,EAAAuC,cAAA,OACE6F,UAAA,sBAAiC4B,EAAUM,GAC3CzI,IAAA,cAAmByI,GAClBC,GAIE,QAKTH,IACFA,EAAeA,EAAaQ,OAC1B,SAAA1D,GAAA,OAAiB,OAATA,QAA0BjI,IAATiI,KAK3B5E,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAW,cACd9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,oBAAoBgC,aChF9BS,SAAY,SAAAjE,GACvB,IAAIkE,EAAQ,EACVC,EAAQ,EASV,OARAnE,EAAMtH,IAAI,SAAC4H,EAAMoD,GACf,IAAIU,EAAe9D,EAAKI,MAAQ,EAAI,EAC/BgD,EAAQ,EAAK,GAAM,EACtBQ,GAASE,EAETD,GAASC,KAGLF,MAAOA,EAAOC,MAAOA,iqBCLVE,cACnB,SAAAC,EAAYhC,GAAO,mGAAAiC,CAAA/B,KAAA8B,oKAAAE,CAAAhC,MAAA8B,EAAA3B,WAAAvE,OAAAwE,eAAA0B,IAAAzB,KAAAL,KACXF,uUAF8B5G,EAAAtC,EAAM2J,+CAInC,IAAAM,EACkCb,KAAKF,MAAzCzD,EADEwE,EACFxE,MAAO4F,EADLpB,EACKoB,YACPpJ,GAFEgI,EACkBqB,aACH7F,EAAjBxD,MAAMgE,EAAWR,EAAXQ,QACX,IAAKR,IAAUA,EAAMxD,KAAK2E,MACxB,OAAO,KAET,IAAI2E,EAAQV,EAAU5I,EAAK2E,OANpB4E,EAAAC,EAOoCxF,EAPpC,GAOFyF,EAPEF,EAAA,GAOOG,EAPPH,EAAA,GAOgBI,EAPhBJ,EAAA,GAOyBK,EAPzBL,EAAA,GAQHM,EAAa1C,KAAKF,MAAM4C,WACxBC,EAAc3C,KAAKF,MAAMzG,OAAS,IAClCuJ,GACF5I,MAAOgG,KAAKF,MAAM+C,cAClB5I,OAAQ+F,KAAKF,MAAM+C,eAGrB,OACE3J,EAAAtC,EAAAuC,cAAA,OACE6F,UACEgB,KAAKF,MAAM7D,KAAX,eACmB+D,KAAKF,MAAM7D,KAC1B,cAEN6G,MAAOJ,GACPxJ,EAAAtC,EAAAuC,cAAA,OACE6F,UAAU,oBACV8D,OACE9I,MAAOiI,EAAcU,IAEvBzJ,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,iBACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,SACb9F,EAAAtC,EAAAuC,cAAA,OACE6F,UAAU,kBACV8D,OACEC,SAAqC,EAA3B/C,KAAKF,MAAM+C,gBAEvB3J,EAAAtC,EAAAuC,cAAA,OACE6F,UAAU,YACV8D,MAAOF,GACP1J,EAAAtC,EAAAuC,cAAA,YAAOmJ,EAAQ,KAEjBpJ,EAAAtC,EAAAuC,cAAA,OACE6F,UAAU,YACV8D,MAAOF,GACP1J,EAAAtC,EAAAuC,cAAA,YAAOqJ,EAAQ,MAGnBtJ,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,SAASmD,EAAMT,QAEhCxI,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,SACb9F,EAAAtC,EAAAuC,cAAA,OACE6F,UAAU,kBACV8D,OACEC,SAAqC,EAA3B/C,KAAKF,MAAM+C,gBAEvB3J,EAAAtC,EAAAuC,cAAA,OACE6F,UAAU,YACV8D,MAAOF,GACP1J,EAAAtC,EAAAuC,cAAA,YAAOoJ,EAAQ,KAEjBrJ,EAAAtC,EAAAuC,cAAA,OACE6F,UAAU,YACV8D,MAAOF,GACP1J,EAAAtC,EAAAuC,cAAA,YAAOsJ,EAAQ,MAGnBvJ,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,SAASmD,EAAMR,SAGjC3B,KAAKF,MAAM/F,qRCvEDiJ,cACnB,SAAAC,EAAYnD,gGAAOoD,CAAAlD,KAAAiD,GAAA,IAAAhD,mKAAAkD,CAAAnD,MAAAiD,EAAA9C,WAAAvE,OAAAwE,eAAA6C,IAAA5C,KAAAL,KACXF,IADW,OAEjBG,EAAKmD,WAAanD,EAAKmD,WAAWC,KAAhBpD,GAFDA,qUADmB/G,EAAAtC,EAAM2J,mDAK/B,IACNlE,EAAS2D,KAAKF,MAAdzD,MACAxD,EAAQwD,EAARxD,KACAwD,GAAwB,KAAfxD,EAAKsC,OAGnBsB,EAAmB,mBACjBJ,MAAOA,qCAGF,IAAAwE,EAC+Cb,KAAKF,MAApB9D,GADhC6E,EACFoB,YADEpB,EACWxE,MADXwE,EACkBqB,aADlBrB,EACgC7E,aADhCsH,EAEetD,KAAKF,MAAMzD,MAA5BxD,EAFEyK,EAEFzK,KAAMgE,EAFJyG,EAEIzG,QACX,IAAKhE,IAASA,EAAK2E,MACjB,OAAO,KAET,IAAI+F,EAAe,EACjBC,EAAe,EAGjB3K,EAAK2E,MAAMtH,IAAI,SAAC4H,EAAMoD,GACpB,IAAIU,EAAe9D,EAAKI,MAAQ,EAAI,EAC/BgD,EAAQ,EAAK,GAAM,EACtBqC,GAAgB3B,EAEhB4B,GAAgB5B,IAIpB,IAAI6B,EACG,mBADHA,EAEI,mBAEJC,EAAc,KACdnG,EAAcV,EAAQ8G,QAAQ3H,GAxB3B4H,EA0BiB/K,EAAKiC,IAAxB+I,EA1BED,EA0BFC,SACDC,EAAc,EA3BXF,EA0BQ3I,MAsBf,OAjBIsC,GAAe,IAIbmG,EAPoBG,EAAW,GAAM,EAMnCtG,EAAc,GAAM,GAAKgG,GAAgBO,EAC7BL,EAEAA,EAGZlG,EAAc,GAAM,GAAKiG,GAAgBM,EAC7BL,EAEAA,GAMlBvK,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,mBACb9F,EAAAtC,EAAAuC,cAAC0I,GACC7F,YAAagE,KAAKF,MAAM9D,YACxB3C,MAAO,GACPwJ,cAAe,GACfZ,YAAajC,KAAKF,MAAMmC,YACxB8B,aAAc/D,KAAKF,MAAMoC,aACzB7F,MAAO2D,KAAKF,MAAMzD,OAClBnD,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,UACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,SAAS0E,IAE1BxK,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,eACb9F,EAAAtC,EAAAuC,cAAA,UAAQqG,QAASQ,KAAKoD,WAAYpE,UAAU,OAA5C,iCC9EDgF,EAAc,SAAAhL,GAAqB,IAAnByK,EAAmBzK,EAAnByK,OAAQxK,EAAWD,EAAXC,MACnC,IAAKwK,EACH,OAAO,KAET,IAAIQ,EAAaR,EAAO7N,OAExB,OACEsD,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,UACZjJ,MAAMC,MAAMJ,OAAQQ,KAAK8N,KAAKD,EAAa,KACzChO,KAAK,GACLC,IAAI,SAACiO,EAAKjD,GAAN,OACHhI,EAAAtC,EAAAuC,cAAA,OAAKV,IAAKhD,IAAgBuJ,UAAU,OACjCjJ,MAAMC,MAAMJ,OAAQ,IAClBK,KAAK,GACLC,IAAI,SAACkO,EAAIC,GACR,IAAIC,EAAab,EAAe,EAARvC,EAAYmD,GACpC,OAAIC,GAAcA,EAAWC,IAEzBrL,EAAAtC,EAAAuC,cAAA,OACEV,IAAKhD,IACLuJ,UAAU,cACTsF,EAAWC,KAIhBD,GACkBA,EAAWrJ,OAAS,EAGpC/B,EAAAtC,EAAAuC,cAAA,OACEV,IAAKhD,IACLuJ,UAAU,cACV9F,EAAAtC,EAAAuC,cAAA,WAAMmL,EAAWrJ,MAAQ,GACxBZ,EAAWiK,EAAWpJ,OACrBjC,IAMJC,EAAAtC,EAAAuC,cAAA,OACEV,IAAKhD,IACLuJ,UAAU,cACT,8QCzCFwF,cACnB,SAAAC,EAAY3E,gGAAO4E,CAAA1E,KAAAyE,GAAA,IAAAxE,mKAAA0E,CAAA3E,MAAAyE,EAAAtE,WAAAvE,OAAAwE,eAAAqE,IAAApE,KAAAL,KACXF,IACDjH,EAAQoH,EAAKH,MAAbjH,KAFY,OAGjBoH,EAAKlE,OACHiF,aAAcnI,EAAKiC,IAAIG,MACvB2J,YAAY,EACZC,QAAS,MAEX5E,EAAK6E,UAAY7E,EAAK6E,UAAUzB,KAAfpD,GACjBA,EAAK8E,4BAA8B9E,EAAK8E,4BAA4B1B,KAAjCpD,GATlBA,qUADgB/G,EAAAtC,EAAM2J,kEAcbW,GAAO,IAAAT,EAAAT,KAAAa,EAEEb,KAAKF,MAAnCjH,EAF4BgI,EAE5BhI,KAAMmD,EAFsB6E,EAEtB7E,YAAaa,EAFSgE,EAEThE,QACnBb,GAAgBnD,IACjBgE,GAAWb,GAGUa,EAAQgB,UAC7B,SAAAM,GAAA,OAAUA,IAAWsC,EAAKX,MAAM9D,gBAETnD,EAAKgC,MAC5BmF,KAAKW,UACHK,aAAcE,EACd2D,QAAS3D,EACT0D,YAAY,uCAKV1J,GAAmB,IAAZqJ,EAAY5O,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,KACjBqP,SACFC,GAAkB,EAClBpB,EAAW7D,KAAKF,MAAMjH,KAAKiC,IAAI+I,SAEjC,GAAI3I,GAAS,GAAe,OAAVA,EAAgB,CAChC,IAAIJ,GACFG,MAAO+E,KAAKjE,MAAMiF,aAClB9F,MAAOA,GAGLuI,EAASzD,KAAKF,MAAMjH,KAAKiC,IAAI2I,WACjCA,EAAOzL,KAAK4D,OAAOC,UAAWf,IAI9B+I,EAAW7D,KAAKF,MAAMjH,KAAKgC,KAE3BmK,EAASpJ,OAAOC,UAEdmE,KAAKF,MAAMjH,KAAKiC,IAChBA,GACC+I,SAAUA,IACVJ,OAAQA,QAEN,CACL,IAAIA,EAASzD,KAAKF,MAAMjH,KAAKiC,IAAI2I,WAKjC,GAJAA,EAAOzL,MAAMuM,IAAKA,IAIdd,EAAO7N,OAAS,EAAG,CACrB,IAAIsP,EAAYzB,EACb3G,MAAM2G,EAAO7N,OAAS,EAAG6N,EAAO7N,QAChCuP,MAAM,SAAAhB,GAAA,MAAmB,SAAZA,EAAII,MAChBa,EAAgB3B,EAAO4B,KAAK,SAAAvK,GAAA,OAAOA,EAAIG,OAAS,IACpDgK,EAAkBC,GAAaE,EAIjCJ,EAASpJ,OAAOC,UAAWmE,KAAKF,MAAMjH,KAAKiC,KACzC2I,OAAQA,IAIZ,IAAI5I,EAAOmF,KAAKF,MAAMjH,KAAKgC,KAGzBA,EADEoK,GACMpB,EAAW,GAAK,GAEhBhJ,EAAO,GAAK,EAGtB,IAAI4C,EAAU7B,OAAOC,UAEnBmE,KAAKF,MAAMjH,MACViC,IAAKkK,IACLnK,KAAMA,IAGT4B,EAAmB,kBACjBJ,MAAO2D,KAAKF,MAAMzD,MAClBxD,KAAM4E,IAERuC,KAAKW,UAAUiE,YAAY,EAAOC,QAAS,wCAEpC,IAAAS,EAAAtF,KAAAuF,EACevF,KAAKF,MAAtBjH,EADE0M,EACF1M,KAAMgE,EADJ0I,EACI1I,QACP2I,EACI3I,GAAWA,EAAQhE,EAAKgC,QAAUmF,KAAKF,MAAM9D,YAEjD+B,EAAyB,EAAjBlF,EAAKiC,IAAIG,MAAYpC,EAAKiC,IAAII,MAGtCuK,SAAUC,SACV3H,EAAQ,GACV0H,EAAW1P,MAAMC,MAAMJ,OAAQ,IAC5BK,KAAK,GACLC,IAAI,SAACqO,EAAKrD,GAAN,OAAgBA,IACvBwE,EAAW3P,MAAMC,MAAMJ,OAAQ,IAC5BK,KAAK,GACLC,IAAI,SAACqO,EAAKrD,GAAN,OAAgBA,KACJ,KAAVnD,GACT0H,KACAC,MACS3H,EAAQ,GAAM,GAAe,IAAVA,GAC5B0H,EAAW1P,MAAMC,MAAMJ,OAAQ,IAC5BK,KAAK,GACLC,IAAI,SAACqO,EAAKrD,GAAN,OAAgBA,IACpBM,OAAO,SAAA+C,GAAA,OAAOA,EAAM1L,EAAKiC,IAAIG,QAChCyK,EAAW3P,MAAMC,MAAMJ,OAAQ,IAC5BK,KAAK,GACLC,IAAI,SAACqO,EAAKrD,GAAN,OAAgBA,MAEvBuE,EAAW1P,MAAMC,MAAMJ,OAAQ,IAC5BK,KAAK,GACLC,IAAI,SAACqO,EAAKrD,GAAN,OAAgBA,IACpBM,OAAO,SAAA+C,GAAA,OAAOA,GAAO1L,EAAKiC,IAAIG,QACjCyK,EAAW3P,MAAMC,MAAMJ,OAAQ,IAC5BK,KAAK,GACLC,IAAI,SAACqO,EAAKrD,GAAN,OAAgBA,IACpBM,OAAO,SAAA+C,GAAA,OAAOA,EAAM1L,EAAKiC,IAAII,SAGlC,IAAIyK,EAAcF,EAASvP,IAAI,SAACqO,EAAKrD,GAAN,OAC7BhI,EAAAtC,EAAAuC,cAAA,UACE6F,UAAWuF,IAAQe,EAAKvJ,MAAM8I,QAAU,UAAY,KACpDrF,QAAS,WACP8F,EAAKP,4BAA4BR,IAEnC9L,IAAKhD,KACJ8O,EAAM,KAIPqB,EACI5F,KAAKjE,MAAMiF,eAAiByE,EAAS,GACjCC,GACC,EAAG,EAAG,EAAG,EAAG,GAEX,KAAV3H,IACF6H,MAEFA,EAAgBA,EAAc1P,IAAI,SAAAqO,GAAA,OAChCrL,EAAAtC,EAAAuC,cAAA,OAAKqG,QAAS,kBAAM8F,EAAKR,UAAUP,EAAK,OAAO9L,IAAKhD,KACjD4E,EAAWkK,GAAK,QAIrB,IAAId,EAAS5K,EAAKiC,IAAI2I,OAElBoC,EAAYpC,IACPA,EAAOA,EAAO7N,OAAS,GAAG2O,KACjCrL,EAAAtC,EAAAuC,cAAA,UACE6F,UAAU,QACVQ,QAAS,kBAAM8F,EAAKR,WAAW,EAAG,YAFpC,UAOEgB,EAAcrC,GACwB,WAAlCA,EAAOA,EAAO7N,OAAS,GAAG2O,KAChCrL,EAAAtC,EAAAuC,cAAA,UACE6F,UAAU,QACVQ,QAAS,kBAAM8F,EAAKR,WAAW,EAAG,cAFpC,YAOEiB,EAAmBlJ,EAAQ3G,IAAI,SAACiI,EAAQ+C,GAAT,OACjChI,EAAAtC,EAAAuC,cAAA,OACEV,IAAKhD,IACLuJ,UACEkC,IAAUoE,EAAKxF,MAAMjH,KAAKgC,KACtB,oBACA,aAEN3B,EAAAtC,EAAAuC,cAAA,YAAOgF,EAAO,OAGlB,OAAI6B,KAAKF,MAAMmF,gBAAwB,KAGrC/L,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,iBACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,mBAAmB+G,IAChClN,EAAKiC,IAAI2I,QACTvK,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,SAAf,mBAEF9F,EAAAtC,EAAAuC,cAAC6K,GAAY/K,MAAO,GAAKwK,OAAQ5K,EAAKiC,IAAI2I,SAC1CvK,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,kBACZwG,GACCtM,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,cACb9F,EAAAtC,EAAAuC,cAAA,UACE6F,UAAU,OACVQ,QAAS,kBAAM8F,EAAKR,UAAU,KAAM,UAFtC,QAKCe,EACAC,GAGL5M,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,UAAU2G,GACxB3F,KAAKjE,MAAM6I,YACV1L,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,UAAU4G,cC3NxBI,eAAY,SAAAhN,GAAyC,IAAAiN,EAAAjN,EAAvCiD,YAAuCpG,IAAAoQ,EAAhC,GAAgCA,EAAAC,EAAAlN,EAA5BmN,YAA4BtQ,IAAAqQ,EAArB,GAAqBA,EAAAE,EAAApN,EAAjBqN,WAAiBxQ,IAAAuQ,KAC5DE,EAAMD,EAAMnN,EAAAtC,EAAAuC,cAAA,OAAKkN,IAAKA,IAAUnN,EAAAtC,EAAAuC,cAAA,YAAO8C,EAAK,IAEhD,OACE/C,EAAAtC,EAAAuC,cAAA,OACE6F,UAAU,YACV8D,OACE9I,MAAOmM,EACPlM,OAAQkM,EACRI,aAAcJ,IAEfG,KAKME,EAAgB,SAAAhN,GAAgC,IAA9BqD,EAA8BrD,EAA9BqD,QAASsJ,EAAqB3M,EAArB2M,KAAMM,EAAejN,EAAfiN,UAExCC,EADO7J,EAAQ2E,OAAO,SAACrD,EAAQ+C,GAAT,OAAmBA,EAAQ,IAAMuF,IACxCvQ,IAAI,SAACiI,EAAQ+C,GAAT,OACrBhI,EAAAtC,EAAAuC,cAAC6M,GAAUvN,IAAA,UAAeyI,EAASjF,KAAMkC,EAAQgI,KAAMA,MAEzD,OAAOjN,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,mBAAmB0H,ICpB9BC,EAAS,SAAA3N,GAA4B,IAA1BiD,EAA0BjD,EAA1BiD,KAA0B2K,EAAA5N,EAApB6L,eAAoBhP,IAAA+Q,EAAV,KAAUA,EAChD,OACE1N,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAW6F,EAAU,iBAAmB,UAC3C3L,EAAAtC,EAAAuC,cAAC6M,GAAUG,KAAM,KACjBjN,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,QAAQ/C,0PCHtB,IAAM4K,EAAb,SAAAC,GACE,SAAAC,EAAYjH,GAAO,mGAAAkH,CAAAhH,KAAA+G,oKAAAE,CAAAjH,MAAA+G,EAAA5G,WAAAvE,OAAAwE,eAAA2G,IAAA1G,KAAAL,KACXF,IAFV,gUAAAoH,CAAAH,EAAmC7N,EAAAtC,EAAM2J,WAAzC4G,EAAAJ,IAAAtO,IAAA,SAAAsF,MAAA,WAIW,IAAA8C,EACkCb,KAAKF,MAAzCzD,EADEwE,EACFxE,MAAO4F,EADLpB,EACKoB,YACPpJ,GAFEgI,EACkBqB,aACH7F,EAAjBxD,MAAMgE,EAAWR,EAAXQ,QACX,IAAKhE,IAASA,EAAKiC,IAAI2I,OACrB,OAAO,KAET,IAAIsC,EAAmBlJ,EAAQ3G,IAAI,SAACiI,EAAQ+C,GAAT,OACjChI,EAAAtC,EAAAuC,cAAA,OAAKV,IAAKhD,IAAgBuJ,UAAU,aAClC9F,EAAAtC,EAAAuC,cAAA,YAAOgF,EAAO,OAGlB,OACEjF,EAAAtC,EAAAuC,cAAA,OACE6F,UAAU,iBACV8D,OACEsE,IAAoC,EAA/BhR,KAAK8N,KAAKjC,EAAc,KAC7BoF,MAAsC,EAA/BjR,KAAK8N,KAAKjC,EAAc,OAEjC/I,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,wBACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,mBAAmB+G,GAClC7M,EAAAtC,EAAAuC,cAAC6K,GAAY/K,MAAO,IAAMwK,OAAQ5K,EAAKiC,IAAI2I,eAxBrDsD,EAAA,2HCEO,IA6FMO,EAAiB,SAAA9J,GAC5B,GAAKA,EACL,OAAQ,EAAG,EAAG,EAAG,GACdtH,IAAI,SAACqR,EAAWrG,GACf,OAAO1D,EAAMgE,OAAO,SAAC1D,EAAM0J,GAAP,OAAaA,EAAI,IAAMtG,MAE5CpE,MAAM,IASL2K,EAAiB,WAMrB,IALA,IAAIjK,EAAQzH,MAAMC,MAAMJ,OAAQwE,IAC7BnE,KAAK,GACLC,IAAI,SAAC4H,EAAM0J,GAAP,OAAaA,IAGXA,EAAIhK,EAAM5H,OAAS,EAAG4R,EAAI,EAAGA,IAAK,CACzC,IAAIE,EAAclR,EAAa,EAAG4D,EAAiB,GADVpB,GAEPwE,EAAMkK,GAAclK,EAAMgK,IAA3DhK,EAAMgK,GAFkCxO,EAAA,GAE9BwE,EAAMkK,GAFwB1O,EAAA,GAK3C,OAAOwE,GAGHmK,EAAkB,SAAAnK,GACtB,OArBuB,SAAAA,GACvB,OAAO8J,EAAe9J,GAAOtH,IAAI,SAAA+K,GAAA,OAC/BA,EAAK/K,IAAI,SAAA6H,GAAA,OAAUA,EAAQ,GAAK,EAAKA,EAAQ,GAAM,EAAI,MAmBlD6J,CAAUpK,GAAO2H,MACtB,SAAAlE,GAAA,OAAQA,EAAK4G,OAAO,SAACC,EAAK/J,GAAN,OAAgBA,EAAQ+J,GAAK,IAAM,yaCjI3D,IAAMC,GAAsB,SAACC,EAAK9M,GAChC,GAAK8M,GAAiB,OAAV9M,QAA4BrF,IAAVqF,EAA9B,CAGA,IAAI+M,EAAOD,EACRxG,OAAO,SAAA0G,GAAA,OAAQ9R,KAAKC,MAAM6R,EAAKnK,MAAQ3D,KAAmBc,IAC1DkG,KAAK,SAACC,EAAOC,GAAR,OAAkBA,EAAMvD,MAAQsD,EAAMtD,QAC9C,OAAOkK,EAAKrS,OAASqS,EAAK,GAAK,OAMpBE,GAAgB,SAACtP,EAAMuP,GAClC,GAAKvP,EAAL,CACA,IAAI2E,EAAQ3E,EAAK2E,MACfc,EAAWmB,EAAmBjC,GAE3BtC,EAASrC,EAAKiC,IAAdI,MACDmN,EAAyB7K,EAC1BtH,IAAI,SAAC4H,EAAMoD,GAAP,OAAiBtF,OAAOC,UAAWiC,GAAOoD,MAAOA,MACrDM,OACC,SAAA1D,GAAA,OACGA,EAAK7C,QAAUqD,GAAYR,EAAK7C,MAAQ,GACjC6C,EAAKC,QAAUqK,IAEzBpK,SACFsK,GAAe,EAEjB,GAAsC,IAAlCD,EAAuBzS,OAAc,CAEvC,IAAI2S,EAAQnS,KAAKK,IAALiJ,MAAAtJ,2HAAAoS,CAAYH,EAAuBnS,IAAI,SAAA4H,GAAA,OAAQA,EAAK3C,UAFzBsN,EAGrBJ,EAAuB7G,OACvC,SAAA1D,GAAA,OAAQA,EAAK3C,QAAUoN,IADpBG,EAHkCC,GAAAF,EAAA,MAOvC,Gd9BoB,Ic8BhBvN,EAAoB,CAEtB,IAAI0N,EAAMb,GAAoBM,EAAwBnN,GAE1C,OAAR0N,EACF5K,EAAa4K,EAEbN,GAAe,EAInB,GdzCoB,IcyChBpN,GAAsBoN,EAAc,CAEtC,IAAIO,EAAWzS,KAAKC,MAAMqS,EAAU3K,MAAQ3D,GAC5C4D,EAAa+J,GAAoBM,EAAwBQ,IAI7D,OAAO7K,GAAc,yQCnDF8K,eACnB,SAAAC,EAAYjJ,gGAAOkJ,CAAAhJ,KAAA+I,GAAA,IAAA9I,mKAAAgJ,CAAAjJ,MAAA+I,EAAA5I,WAAAvE,OAAAwE,eAAA2I,IAAA1I,KAAAL,KACXF,IADW,OAEjBG,EAAKiJ,cAAgBjJ,EAAKiJ,cAAc7F,KAAnBpD,GAFJA,qUADwB/G,EAAAtC,EAAM2J,qDAKnChD,GAAa,IAAAsD,EACEb,KAAKF,MAAdzD,GADOwE,EACpB7E,YADoB6E,EACPxE,OAClB,GAAKA,EAAL,CACaA,EAARxD,KACSwD,EAAMQ,QAAQC,MAAM,GAClCY,QAAQC,IAAI,mBACZlB,EAAmB,kBACjBc,YAAaA,EACblB,MAAOA,sCAGF,IAAAoE,EAAAT,KAAAuF,EACoBvF,KAAKF,MAA3BzD,EADEkJ,EACFlJ,MAAOL,EADLuJ,EACKvJ,YACPnD,EAAwBwD,EAAxBxD,KAAMuE,EAAkBf,EAAlBe,MAAOP,EAAWR,EAAXQ,QAClB,IAAKhE,EACH,OAAO,KAEiBA,EAArBuC,WANE,IAMUD,EAAStC,EAATsC,MAEbgO,EAActM,EAAQwI,KAAK,SAAA+D,GAAA,OftBT,IesBiBA,IACnCC,EAAmBjM,EAAM+H,MAAM,SAAAhH,GAAA,OAAqB,IAAXA,IAI7C,KAFSgL,GAAehO,EAAQ,IAAOkO,GAGrC,OAAO,KAET,IAAIC,EAAW,KACXC,EAAa1M,EAAQ3G,IAAI,SAACiI,EAAQ+C,GAAT,OAC3BhI,EAAAtC,EAAAuC,cAAA,OACEV,IAAKhD,IACLuJ,WACmB,IAAjB5B,EAAM8D,GAAmB,YAAc,mBAEzChI,EAAAtC,EAAAuC,cAAA,YAAOgF,EAAO,OAIdqL,SAsBJ,OArBI3M,EAAQ4M,SAASzN,KACnBwN,EAAqB3M,EAAQwI,KAC3B,SAAClH,EAAQ+C,GAAT,OAAmB/C,IAAWnC,IAAgBoB,EAAM8D,KAEtDoI,EAAWzM,EAAQ3G,IAAI,SAACiI,EAAQ+C,GAC9B,OAAI/C,IAAWnC,GAAgBoB,EAAM8D,GAY5B,KAVLhI,EAAAtC,EAAAuC,cAAA,OAAKV,IAAKhD,KACRyD,EAAAtC,EAAAuC,cAAA,UACEV,IAAKhD,IACL+J,QAAS,kBAAMiB,EAAKyI,cAAchI,IAClClC,UAAU,OAHZ,YAcR9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,qBACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,2BACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,OAAf,IAAuBuK,GACtBC,GACCtQ,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,eAAesK,GAEhCpQ,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,SAAf,iRC3EW0K,eACnB,SAAAC,EAAY7J,GAAO,mGAAA8J,CAAA5J,KAAA2J,oKAAAE,CAAA7J,MAAA2J,EAAAxJ,WAAAvE,OAAAwE,eAAAuJ,IAAAtJ,KAAAL,KACXF,uUAFyB5G,EAAAtC,EAAM2J,2DAMrC7C,QAAQC,IAAI,8DAEK6C,qCAYjB,OAAKR,KAAKF,MAAMpB,KAITxF,EAAAtC,EAAAuC,cAAA,YAHE,wQCMQ2Q,eACnB,SAAAC,EAAYjK,gGAAOkK,CAAAhK,KAAA+J,GAAA,IAAA9J,mKAAAgK,CAAAjK,MAAA+J,EAAA5J,WAAAvE,OAAAwE,eAAA2J,IAAA1J,KAAAL,KACXF,IACDjH,EAAQoH,EAAKH,MAAMzD,MAAnBxD,KAFY,OAGjBoH,EAAKlE,OACHmO,WAAYrR,EAAKsC,OAAS,EAC1B8G,YAAakI,OAAOC,WACpBlI,aAAciI,OAAOE,aAEvBpK,EAAKpF,KAAOoF,EAAKpF,KAAKwI,KAAVpD,GACZA,EAAKqK,gBAAkBrK,EAAKqK,gBAAgBjH,KAArBpD,GACvBA,EAAKsK,QAAUtK,EAAKsK,QAAQlH,KAAbpD,GACfA,EAAKuK,qBAAuBvK,EAAKuK,qBAAqBnH,KAA1BpD,GAC5BA,EAAKiK,WAAajK,EAAKiK,WAAW7G,KAAhBpD,GAClBA,EAAKwK,aAAexK,EAAKwK,aAAapH,KAAlBpD,GACpBA,EAAKyK,iBAAmBzK,EAAKyK,iBAAiBrH,KAAtBpD,GAdPA,qUADa/G,EAAAtC,EAAM2J,sDAkBpCP,KAAKW,UACHsB,YAAakI,OAAOC,WACpBnQ,OAAQkQ,OAAOE,0DAIjBrK,KAAKyK,eACLN,OAAOQ,iBAAiB,SAAU3K,KAAKyK,6DAGvCN,OAAOS,oBAAoB,SAAU5K,KAAKyK,yDAEzBjK,GACjB9C,QAAQC,IAAI,yBACZ,IAAIT,EAAW8C,KAAKF,MAAMzD,MAC1BqB,QAAQC,IAAI,WAAYT,GACxBQ,QAAQC,IAAI,WAAYkN,GACxB,IAAIA,EAAWrK,EAAUnE,MAGtBa,EAASE,MAAM+H,MACd,SAAChH,EAAQ+C,GAAT,OAAmB/C,IAAW0M,EAASzN,MAAM8D,MAG3ChE,EAASE,MAAM+H,MAAM,SAAAhH,GAAA,OAAqB,IAAXA,MACjCT,QAAQC,IAAI,kBACZqC,KAAKwK,uEAIY,IAAAlH,EAECtD,KAAKF,MAAMzD,MAA5BQ,EAFgByG,EAEhBzG,QAAShE,EAFOyK,EAEPzK,KACVgE,IACoBA,EAAQsI,MAAM,SAAAiE,GAAA,OjB1EhB,IiB0EwBA,MACpBvQ,EAAK2E,QAC3BE,QAAQC,IAAI,4CACZqC,KAAKuK,sDAKO,IACX1R,EAAQmH,KAAKF,MAAMzD,MAAnBxD,KACL,GAAKA,EAAL,CAGA,IAAI2E,EAAQ3E,EAAK2E,MACfc,EAAWlI,KAAKM,IAALgJ,MAAAtJ,2HAAA0U,CAAYtN,EAAMtH,IAAI,SAAA4H,GAAA,OAAQA,EAAK7C,UAC9C8P,EAAcvN,EAAMgE,OAAO,SAAA1D,GAAA,OAAQA,EAAK7C,QAAUqD,IAAU1I,OAC9D,OAAiB,IAAb0I,GAAkByM,GAAe,EAC5BzM,EAAW,EAEbA,wCAGP0B,KAAKW,UAAUuJ,YAAY,iCAGxBnM,GAAO,IACL1B,EAAS2D,KAAKF,MAAdzD,MACAxD,EAAQmH,KAAKF,MAAMzD,MAAnBxD,KACL,GAAKA,EAAL,CAGoBA,EAAKgC,KAAzB,IACIM,EAAQtC,EAAKsC,MAAQ,EAEzBsB,EACE,uBACAb,OAAOC,WAGHQ,MAAOA,EACP0B,MAAOA,EACPW,MAAM,IAAI/B,MAAOC,UACjB0B,SAAU0B,KAAKsK,kBACfnP,MAAOA,EACPN,MAAOhC,EAAKgC,KAAO,GAAK,KAK9B,IAAImD,EAAamK,GAActP,EAAMkF,GAGrC,GAAIC,EAAY,CAEd,IAAIF,EAAOlC,OAAOC,UAAWmC,UACtBF,EAAKoD,MAEZzE,EACE,qBACAb,OAAOC,UAAWmE,KAAKF,OACrBzD,MAAOA,EACP2B,WAAYF,EACZ3C,MAAOA,EACPN,KAAMiD,EAAKK,8CAMjB,IAAIX,EJ3DoB,WAE1B,IADA,IAAIA,EAAQiK,KACJE,EAAgBnK,IACtBA,EAAQiK,IACR/J,QAAQC,IAAI,iBAEd,OAAOH,EIqDOwN,GAEZxN,EAAQA,EAAMtH,IAAI,SAAA4H,GAAA,OAChBC,MAAOD,EACP7C,MAAO,KAGTwB,EAAmB,yBACjBJ,MAAO2D,KAAKF,MAAMzD,MAClBmB,MAAOA,6CAGM3E,GAEf,IAAI4K,EAAS5K,EAAKiC,IAAI2I,OAEtB,SAAK5K,IAAS4K,KAIZA,EAAO7N,QAAU,GACX6N,EAAO4B,KAAK,SAAAvK,GAAA,OAAOA,EAAIG,OAAS,KAChCwI,EAAO3G,MAAM2G,EAAO7N,OAAS,GAAGuP,MAAM,SAAAhB,GAAA,MAAmB,SAAZA,EAAII,wCAGlD,IAAA9D,EAAAT,KAAAa,EACoBb,KAAKF,MAA3BzD,EADEwE,EACFxE,MAAOL,EADL6E,EACK7E,YACPnD,EAAwBwD,EAAxBxD,KAAMgE,EAAkBR,EAAlBQ,QACNW,GADwBnB,EAATe,MACMvE,EAArB2E,OAAOpC,EAAcvC,EAAduC,WAER6P,EAAsBpS,EAAKsC,MAAQ,GAAM,EACzC8J,EAAkBjF,KAAK0K,iBAAiB7R,GAExCqS,EAAcjG,IAAmB,EAGjCkG,SAXGnS,EJzJ+B,SAAC6D,EAAShE,EAAMmD,GACxD,GAAKnD,GAASA,EAAK2E,MAAnB,CADwE,IAGnEA,EAAS3E,EAAT2E,MAEDsD,EAAgBjE,EACjB3G,IAAI,SAACqR,EAAWrG,GACf,OAAO1D,EAAMgE,OAAO,SAAC1D,EAAM0J,GAAP,OAAaA,EAAI3K,EAAQjH,SAAWsL,MAEzDpE,MAAM,GAELsO,EAAcvO,EAAQgB,UAAU,SAAAgB,GAAA,OAAQA,IAAS7C,IAKrD,OAH4C,IAAjBoP,GAKvBtK,wBAAAuK,EACKvK,EAAchE,MAAMsO,IADzBC,EAEKvK,EAAchE,MAAM,EAAGsO,KAE5BE,wBAAAD,EACKxO,EAAQC,MAAMsO,IADnBC,EAEKxO,EAAQC,MAAM,EAAGsO,KAEtBA,YAAaA,IAKftK,cAAeA,EACfwK,cAAezO,EAAQC,MAAM,GAC7BsO,YAAaA,IIqILG,CAA2B1O,EAAShE,EAAMmD,OAD7C8E,EAZE9H,EAYF8H,cAAewK,EAZbtS,EAYasS,cAZbtS,EAY4BoS,YAInC,GAAI5N,GAASA,EAAM5H,SAAWwE,EAAgB,CACrByC,EAAQgB,UAC7B,SAAAgB,GAAA,OAAQA,IAAS7C,IADnB,IAKIwP,EAAYN,GAAerS,EAAKiC,IAAI+I,SAAW,GAAK,EAAI,EAExD2H,EAAY,IACdA,EAAYF,EAAczN,UACxB,SAAAM,GAAA,OAAUA,IAAWtB,EAAQ2O,MAIjC,IAAIC,EAAoB5O,EAAQhE,EAAKgC,MACjC6Q,EAAsB7O,EAAQ4M,SAASzN,GAE3CmP,EAAQrK,EAAc5K,IAAI,SAAC+K,EAAMC,GAC/B,IAAIyK,EAAaL,EAAcpK,GAE3B0K,EAAkB1K,EAGJ,IAAdsK,IACFA,EAAY,GAGdvK,EAAOA,EACJG,KAAK,SAACxK,EAAGiV,GAAJ,OAAUjV,EAAEmH,MAAQ8N,EAAE9N,QAC3ByD,OAAO,SAAA1D,GAAA,OAAuB,IAAfA,EAAK7C,QAET,IAAViG,IACFD,EAAOA,EAAKG,KAAK,SAACxK,EAAGiV,GAAJ,OAAUA,EAAE9N,MAAQnH,EAAEmH,SAGzC,IAOI+N,gBAWJ,GAfe7K,EAAK/K,IAAI,SAAAqL,GAAA,OACtB3F,OAAOC,UAAW0F,KAIXrL,IAAI,SAAA4H,GAAA,OACXgO,EAAQ1V,KAAKC,MAAMyH,EAAKC,MAAQ3D,IAAgBpC,KAAK8F,KAKvDgO,EAAUA,EAAQtK,OAAO,SAAA0G,GAAA,OAAwB,IAAhBA,EAAKtS,SAdf,IAmBrBgW,GACUA,IAAoBJ,EAC9B,CACA,IAAIO,EJ7LkB,SAAAC,GAC9B,GAAKA,EAAL,CACA,IAAIC,EAAOD,EAAWC,OAClBC,EAAMD,EAAKrW,OACf,GAAIQ,KAAKC,MAAM6V,EAAM,GAAK,GAAKA,EAAM,EAAG,CACtC,IAAIC,EAAM/V,KAAKC,MAAM6V,EAAM,GAC3B,OAAQD,EAAKnP,MAAM,EAAGqP,GAAMF,EAAKnP,MAAMqP,EAAKD,IACvC,GAAI9V,KAAKC,MAAM6V,EAAM,GAAK,EAAG,CAClC,IAAIE,aAEJ,OADAH,EAAK/V,IAAI,SAAC4H,EAAMoD,GAAP,OAAiBkL,EAASlL,EAAQ,GAAGlJ,KAAK8F,KAC5CsO,IImLeC,CAAiBP,GAC7BC,IACFD,EAAUC,GAOd,IAAIO,EJxLgB,SAAAzT,GAC1B,OAAKA,GAMHA,EAAK2E,OACD3E,EAAK2E,MAAM5H,Qb3EO,Ga4ElBiD,EAAKsC,Mb5Ea,Ga4EUoR,EAEzB1T,EAAK2E,MACTgE,OAAO,SAAA1D,GAAA,OAAQA,EAAK3C,Mb/ED,Ga+EwB,IAC3CiG,KAAK,SAACC,EAAOC,GAAR,OAAkBA,EAAMnG,MAAQkG,EAAMlG,QAAO,GAX9C,KIsLaqR,CAAa3T,GAEzB4T,EJ5P4B,SAACH,EAAW9O,GAClD,QAAKA,GAIH8O,GACI9O,EAAMgE,OAAO,SAAA1D,GACX,OACE1H,KAAKC,MAAMyH,EAAKC,MAAQ3D,KACpBhE,KAAKC,MAAMiW,EAAUvO,MAAQ3D,KAElCxE,OAAS,EIiPY8W,CACtBJ,EACAR,EAAQG,QAGNU,EAAcb,EAAQ5V,IAAI,SAAC0W,EAAM1L,GAGnC,IAAI2L,EAAgBhU,EAAKiC,IAAI+I,SAGzBiJ,EAAcjQ,GADMgQ,EAAgB,GAAK,GAGzCE,EAAiBlQ,EAAQgQ,GAGzBG,EAAc/H,GAAmByG,EACjCuB,EACUD,GAEAvB,IAAsBE,GArDf,IAsDPC,EAKZV,GACY8B,GACAF,IAAgBrB,IAG1BzP,IAAgB+Q,GACkB,IAApBnB,IAEdqB,GAAa,GAGbjR,IAAgB8Q,GAtEC,IAuEHlB,IAEdqB,GAAa,IAIjB,IAAI/N,GACWwM,GA9EM,IA+EPE,GACAA,IAAoBJ,EAK9B0B,EAAgB,SAAApP,GAClB,OACgB,OAAdwO,IACeG,GACDrW,KAAKC,MAAMyH,EAAKC,MAAQ3D,KACpBhE,KAAKC,MAAMiW,EAAUvO,MAAQ3D,IAInD,OAAOwS,EAAK1W,IAAI,SAAC4H,EAAM0J,GAAP,OACdtO,EAAAtC,EAAAuC,cAAC8F,GACChD,KACEgR,GAAcC,EAAcpP,GAA5B,eACmBoD,EADnB,SACiCsG,EADjC,IAEQtG,EAFR,SAEsBsG,EAExBtI,OAAQA,EACRE,IACE6N,GAAcC,EAAcpP,GACxB2C,EAAK5F,KACL,KAENpC,IAAKhD,IACLsI,MAAOD,EAAKC,YAMdoP,EAAmBR,EACpBzW,IAAI,SAAAkX,GAAA,OAAQA,EAAKxX,SACjBiS,OAAO,SAACC,EAAKoE,GAAN,OAAcpE,EAAMoE,GAAK,GAC/BmB,EAAgBV,EAAYnL,OAC9B,SAAA4L,GAAA,OAAwB,IAAhBA,EAAKxX,SACbA,OAGE0X,EAAe7M,EAAK1E,MAAMkG,aAAe,KAAO,IAAM,IAEtDsL,EAC6B,UAArB/R,EAAU0F,IAA2C,UAArB1F,EAAU0F,IAEtCsM,MACW/M,EAAK1E,MAAMkG,YACRqL,GANV,GAO2BH,EAP3B,KASM,GAEV,KAUZM,EAC6B,SAArBjS,EAAU0F,IAA0C,SAArB1F,EAAU0F,IAErCkG,KACW3G,EAAK1E,MAAMmG,aAZhB,SAAAwL,GAGpB,OAFY,IAGVA,EAAkB,IAAmBA,EAAU,GAAK,GAS1BC,CAAcN,IAClB,GAEV,KAEhB,OACEnU,EAAAtC,EAAAuC,cAAA,OACE6F,UAAWxD,EAAU0F,GACrB4B,MAAOyK,GAAgBE,EACvBhV,IAAKhD,KACLyD,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,cACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,aAAa2N,GAC5BzT,EAAAtC,EAAAuC,cAACwN,GACC9B,QACE4G,IAAsBE,GACJ1G,EAEpBhJ,KAAM0P,QAQlB,IAAIiC,EAAavR,EAAMe,MAAM+H,MAAM,SAAAhH,GAAA,OAAqB,IAAXA,IAG7C,OAAI/C,EAEAlC,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,QACb9F,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAAC6J,GACC6K,UAAW7N,KAAKwK,qBAChBxO,YAAaA,EACbiG,YAAajC,KAAKjE,MAAMkG,YACxB8B,aAAc/D,KAAKjE,MAAMmG,aACzB7F,MAAOA,MAQfnD,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,QACb9F,EAAAtC,EAAAuC,cAACuQ,IAAMhL,KAAM7F,EAAK6F,QAChBkP,GACA1U,EAAAtC,EAAAuC,cAAC2P,IACC0B,qBAAsBxK,KAAKwK,qBAC3BxO,YAAaA,EACbK,MAAO2D,KAAKF,MAAMzD,QAGrB4I,GACC/L,EAAAtC,EAAAuC,cAAC0N,GACC5E,YAAajC,KAAKjE,MAAMkG,YACxBC,aAAclC,KAAKjE,MAAMmG,aACzB7F,MAAOA,IAGXnD,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,WACZnG,EAAKiC,KACQjC,EAAK2E,OACjBtE,EAAAtC,EAAAuC,cAACqL,GACCS,gBAAiBA,EACjBiF,WAAYlK,KAAKkK,WACjBrR,KAAMA,EACNwD,MAAOA,EACPL,YAAaA,EACba,QAASA,KAIf3D,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,SACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,SAASmM,GACxBjS,EAAAtC,EAAAuC,cAACyG,GACCpC,MAAOA,EACPsD,cAAeA,EACf3F,MAAOtC,EAAKsC,MACZ4F,cAAekK,IAEjB/R,EAAAtC,EAAAuC,cAAC0I,GACCc,YAAa,IACbD,YACEoL,OAAkD,EAA1C1X,KAAK8N,KAAKlE,KAAKjE,MAAMkG,YAAc,KAC3CoF,MAAiD,EAA1CjR,KAAK8N,KAAKlE,KAAKjE,MAAMkG,YAAc,MAE5CY,cAAe,GACf5G,KAAK,mBACLgG,YAAajC,KAAKjE,MAAMkG,YACxB8B,aAAc/D,KAAKjE,MAAMmG,aACzB7F,MAAO2D,KAAKF,MAAMzD,sRChdT0R,eACnB,SAAAC,EAAYlO,gGAAOmO,CAAAjO,KAAAgO,GAAA,IAAA/N,mKAAAiO,CAAAlO,MAAAgO,EAAA7N,WAAAvE,OAAAwE,eAAA4N,IAAA3N,KAAAL,KACXF,IADW,OAEjBG,EAAKlE,OACHE,KAAM,IAERgE,EAAKkO,WAAalO,EAAKkO,WAAW9K,KAAhBpD,GALDA,qUADc/G,EAAAtC,EAAM2J,kDAQ5B6N,GACTpO,KAAKW,UAAU1E,KAAMmS,EAAEC,OAAOtQ,yCAEvB,IAAA0C,EAAAT,KACP,OACE9G,EAAAtC,EAAAuC,cAAA,6BAEED,EAAAtC,EAAAuC,cAAA,SACEmV,SAAUtO,KAAKmO,WACfzS,KAAK,OACLqC,MAAOiC,KAAKjE,MAAME,OAEpB/C,EAAAtC,EAAAuC,cAACoV,GAAA,GACC/O,QAAS,kBAAMiB,EAAKX,MAAMiO,MAAMtN,EAAK1E,MAAME,OAC3CuS,GAAG,UAFL,SAKAtV,EAAAtC,EAAAuC,cAAA,WACAD,EAAAtC,EAAAuC,cAACoV,GAAA,GAAK/O,QAAS,kBAAMiB,EAAKX,MAAMiO,MAAM,MAAMS,GAAG,UAA/C,YAGAtV,EAAAtC,EAAAuC,cAAA,WACAD,EAAAtC,EAAAuC,cAACoV,GAAA,GAAK/O,QAAS,kBAAMiB,EAAKX,MAAMiO,MAAM,QAAQS,GAAG,UAAjD,cAGAtV,EAAAtC,EAAAuC,cAAA,WACAD,EAAAtC,EAAAuC,cAACoV,GAAA,GAAK/O,QAAS,kBAAMiB,EAAKX,MAAMiO,MAAM,QAAQS,GAAG,UAAjD,cAGAtV,EAAAtC,EAAAuC,cAAA,WACAD,EAAAtC,EAAAuC,cAACoV,GAAA,GAAK/O,QAAS,kBAAMiB,EAAKX,MAAMiO,MAAM,QAAQS,GAAG,UAAjD,kRCxCaC,eACnB,SAAAC,EAAY5O,GAAO,mGAAA6O,CAAA3O,KAAA0O,oKAAAE,CAAA5O,MAAA0O,EAAAvO,WAAAvE,OAAAwE,eAAAsO,IAAArO,KAAAL,KACXF,uUAF+B5G,EAAAtC,EAAM2J,gDAK3C,OAAOrH,EAAAtC,EAAAuC,cAAA,yTCHU0V,eACnB,SAAAC,EAAYhP,GAAO,mGAAAiP,CAAA/O,KAAA8O,oKAAAE,CAAAhP,MAAA8O,EAAA3O,WAAAvE,OAAAwE,eAAA0O,IAAAzO,KAAAL,KACXF,uUAF8B5G,EAAAtC,EAAM2J,gDAInC,IAAAE,EAAAT,KAAAa,EACwBb,KAAKF,MAA/BoB,EADEL,EACFK,MAAO5D,EADLuD,EACKvD,OAAQuH,EADbhE,EACagE,QACpB,IAAKvH,EACH,OACEpE,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,eACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,WAIrB,IAAImD,EAAQV,EAAUnE,EAAOE,OAC7B,OACEtE,EAAAtC,EAAAuC,cAAA,OACEqG,QAAS,kBAAMiB,EAAKX,MAAMmP,aAAa/N,IACvClC,UACE6F,EACI,6BACA,sBAEN3L,EAAAtC,EAAAuC,cAAA,WAAM+H,EAAQ,GACdhI,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,OACb9F,EAAAtC,EAAAuC,cAAA,YAAOmE,EAAOxC,IAAIG,MAAQ,GACzBZ,EAAWiD,EAAOxC,IAAII,OAAO,MAEhChC,EAAAtC,EAAAuC,cAAA,WAAMgJ,EAAMT,OACZxI,EAAAtC,EAAAuC,cAAA,WAAMgJ,EAAMR,iBC9BPuN,GAAM,SAAAlW,GAAiC,IAA/B6L,EAA+B7L,EAA/B6L,QAASsK,EAAsBnW,EAAtBmW,KAAMC,EAAgBpW,EAAhBoW,WAClC,OACElW,EAAAtC,EAAAuC,cAAA,OACEqG,QAAS,kBAAM4P,EAAWD,IAC1BnQ,UAAW6F,EAAU,cAAgB,4QCCzC,SAAAwK,EAAYvP,gGAAOwP,CAAAtP,KAAAqP,GAAA,IAAApP,mKAAAsP,CAAAvP,MAAAqP,EAAAlP,WAAAvE,OAAAwE,eAAAiP,IAAAhP,KAAAL,KACXF,IADW,OAEjBG,EAAKlE,OACHoT,KAAM,GAERlP,EAAKmP,WAAanP,EAAKmP,WAAW/L,KAAhBpD,GALDA,gUADmB/G,EAAAtC,EAAM2J,kDAQjC4O,GACTnP,KAAKW,UAAUwO,KAAMA,qCAEd,IAAA1O,EAAAT,KAEF1C,EAAU0C,KAAKF,MAAfxC,OACL,IAAKA,EACH,OACEpE,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,gBAAf,6BAGJ,IAAIwQ,SAAYC,SAAMC,SACtB,GAAIpS,EAAQ,CACV,GAAIA,EAAO1H,OATG,EAUZ0H,EAASA,EACNqS,QAAQ,KAAM,KAAM,KAAM,OAC1B7S,MAAM,EAAG8S,OACP,KAAAC,EACDC,EAA0B,EAAlB9P,KAAKjE,MAAMoT,KACnBY,EAAMD,EAAQ,EAAIxS,EAAO1H,OAAS0H,EAAO1H,OAASka,EAAQ,EAC9DxS,EACYyS,IAAQD,EAAQ,EACZxS,EAAOR,MAAMgT,EAAOC,IACpBF,EAAAvS,EACCR,MAAMgT,EAAOC,IACbJ,OAFDjQ,MAAAmQ,GAEY,KAAM,KAAM,KAAM,OAEhDL,EAAalS,EAAOpH,IAAI,SAAC8Z,EAAY9O,GAAb,OACtBhI,EAAAtC,EAAAuC,cAAC0V,IACCpW,IAAA,eAAoByI,EACpBA,MAAOA,EACP+N,aAAcxO,EAAKX,MAAMmP,aACzBpK,QAASpE,EAAKX,MAAMmQ,gBAAkB/O,EACtC5D,OAAQ0S,MAKZP,GADAC,EAAUtZ,KAAK8N,KAAK5G,EAAO1H,OAAS,KAEf,EACP,KACC6Z,EAAO1Z,MAAMC,MAAMJ,OAAQ8Z,IAC3BzZ,KAAK,GACLC,IAAI,SAACga,EAAShP,GAAV,OACHhI,EAAAtC,EAAAuC,cAAC+V,IACCzW,IAAA,OAAYyI,EACZkO,WAAY3O,EAAK2O,WACjBD,KAAMjO,EACN2D,QAAS3D,IAAUT,EAAK1E,MAAMoT,SAKlD,OACEjW,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,eACZgB,KAAKF,MAAMxC,QACVpE,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,iBACb9F,EAAAtC,EAAAuC,cAAA,YACAD,EAAAtC,EAAAuC,cAAA,YACAD,EAAAtC,EAAAuC,cAACqN,GACCC,UAAW,EACX5J,QAASmD,KAAKF,MAAMjD,QACpBsJ,KAAM,KAERjN,EAAAtC,EAAAuC,cAACqN,GACCC,UAAW,EACX5J,QAASmD,KAAKF,MAAMjD,QACpBsJ,KAAM,MAIXqJ,EACDtW,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,eACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,qBAAqByQ,gBClFjCU,GAAO,SAAAnX,GAAgC,IAA9BmF,EAA8BnF,EAA9BmF,OAAQX,EAAsBxE,EAAtBwE,MAAOoD,EAAe5H,EAAf4H,UAC/BkL,gBACJtO,EAAMtH,IAAI,SAAA4H,GAAA,OAAQgO,EAAQ1V,KAAKC,MAAMyH,EAAKC,MAAQ,KAAK/F,KAAK8F,KAC5D,IAAIsS,EAActE,EAAQ5V,IAAI,SAACkX,EAAMlM,GAAP,OAC5BhI,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,OAAOvG,IAAA,QAAayI,GACjChI,EAAAtC,EAAAuC,cAAA,WAAMkB,EAAW6G,GAAO,MACxBhI,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,cACZoO,EAAKlX,IAAI,SAAC4H,EAAMoD,GAAP,OACRhI,EAAAtC,EAAAuC,cAAA,OAAKV,IAAA,QAAayI,GACfvG,EAAUmD,EAAKC,MAAQ3D,UAMlC,OACElB,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAA,iBAA4B4B,GAC/B1H,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAAC6M,GAAU/J,KAAMkC,EAAQgI,KAAM,MAEjCjN,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,gBAAgBoR,KCpBxBC,GAAgB,SAAArX,GAAoB,IAAlB6D,EAAkB7D,EAAlB6D,QAAS/B,EAAS9B,EAAT8B,IACjC+I,EAA0B/I,EAA1B+I,SAAU3I,EAAgBJ,EAAhBI,MAAOD,EAASH,EAATG,MACtB,OACE/B,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,kBACb9F,EAAAtC,EAAAuC,cAAA,qBACAD,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAAC6M,GAAU/J,KAAMY,EAAQgH,GAAWsC,KAAM,MAE5CjN,EAAAtC,EAAAuC,cAAA,WACG8B,EAAQ,EADX,IACeZ,EAAWa,GAAO,QCV1BoV,GAAe,SAAAtX,GAAsB,IAApB6D,EAAoB7D,EAApB6D,QAASW,EAAWxE,EAAXwE,MACjC2E,EAAQV,EAAUjE,GACtB,OACEtE,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,iBACb9F,EAAAtC,EAAAuC,cAAA,oBACAD,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAACqN,GAAcC,UAAW,EAAG5J,QAASA,EAASsJ,KAAM,KACrDjN,EAAAtC,EAAAuC,cAAA,WAAMgJ,EAAMT,QAEdxI,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAACqN,GAAcC,UAAW,EAAG5J,QAASA,EAASsJ,KAAM,KACrDjN,EAAAtC,EAAAuC,cAAA,WAAMgJ,EAAMR,6QCPlB,SAAA4O,EAAYzQ,GAAO,mGAAA0Q,CAAAxQ,KAAAuQ,oKAAAE,CAAAzQ,MAAAuQ,EAAApQ,WAAAvE,OAAAwE,eAAAmQ,IAAAlQ,KAAAL,KACXF,kUAF8B5G,EAAAtC,EAAM2J,gDAInC,IAAAE,EAAAT,KACP,IAAKA,KAAKF,MAAMxC,OACd,OAAO,KAFF,IAAAoT,EAIY1Q,KAAKF,MAAMxC,OAAzBE,EAJEkT,EAIFlT,MAAO1C,EAJL4V,EAIK5V,IAER6V,EADgBrJ,EAAe9J,GACLtH,IAAI,SAACsH,EAAO0D,GAAR,OAChChI,EAAAtC,EAAAuC,cAACgX,IACCvP,UAAWpF,EAAU0F,GACrBzI,IAAA,QAAayI,EACb1D,MAAOA,EACPW,OAAQsC,EAAKX,MAAMjD,QAAQqE,OAG/B,OACEhI,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,UACZ2R,EACDzX,EAAAtC,EAAAuC,cAACkX,IAAcxT,QAASmD,KAAKF,MAAMjD,QAAS/B,IAAKA,IACjD5B,EAAAtC,EAAAuC,cAACmX,IAAazT,QAASmD,KAAKF,MAAMjD,QAASW,MAAOA,IAClDtE,EAAAtC,EAAAuC,cAAA,kRCzBayX,eACnB,SAAAC,EAAY/Q,gGAAOgR,CAAA9Q,KAAA6Q,GAAA,IAAA5Q,mKAAA8Q,CAAA/Q,MAAA6Q,EAAA1Q,WAAAvE,OAAAwE,eAAAyQ,IAAAxQ,KAAAL,KACXF,IADW,OAEjBG,EAAKlE,OACH0C,QAAS,IAEXwB,EAAK+Q,YAAc/Q,EAAK+Q,YAAY3N,KAAjBpD,GACnBA,EAAKgR,aAAehR,EAAKgR,aAAa5N,KAAlBpD,GACpBA,EAAKiR,eAAiBjR,EAAKiR,eAAe7N,KAApBpD,GAPLA,qUADiB/G,EAAAtC,EAAM2J,sDAU3B6N,GACC,UAAVA,EAAE3V,KAAmBuH,KAAKjE,MAAM0C,QAAQ7I,QAC1CoK,KAAKgR,kDAGG5C,GACV3R,EAAmB,4BACjBgC,QAASuB,KAAKjE,MAAM0C,QACpBzC,YAAagE,KAAKF,MAAM9D,YACxBK,MAAO2D,KAAKF,MAAMzD,QAEpB2D,KAAKW,UAAUlC,QAAS,0CAEb2P,GACXpO,KAAKW,UAAUlC,QAAS2P,EAAE+C,cAAcpT,yCAGxC,IAAK3B,EACH,OAAO,KAETsB,QAAQC,IAAIvB,GAJL,IAAAyE,EAK8Bb,KAAKF,MAAjB1D,GALlByE,EAKF7E,YALE6E,EAKWxE,MALXwE,EAKkBzE,UAErB2T,EAAMnU,OAAOwV,KAAKhV,EAASqC,SAAS7I,OACpCyb,EAAYtB,EAFF,IAEmB,EAAIA,EAFvB,GAEuC,EACjDuB,SAcJ,OAbIlV,GAAYA,EAASqC,UACvB6S,EAAc1V,OAAOwV,KAAKhV,EAASqC,SAChC2C,KAAK,SAACxK,EAAGiV,GAAJ,OAAWjV,GAAKiV,IACrB/O,MAAMuU,EAAWtB,GACjB7Z,IAAI,SAACyC,EAAIuI,GAAL,OACHhI,EAAAtC,EAAAuC,cAAA,OAAKV,IAAA,WAAgByI,GAClB9E,EAASqC,QAAQ9F,GAAIkG,KACrBzC,EAASqC,QAAQ9F,GAAIiG,YAK9BlB,QAAQC,IAAI,WAAYvB,GAEtBlD,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAAA,WAAMmY,GAENpY,EAAAtC,EAAAuC,cAAA,SACEuC,KAAK,WACLqC,MAAOiC,KAAKjE,MAAM0C,QAClB6P,SAAUtO,KAAKiR,aACfM,WAAYvR,KAAKkR,iBAEnBhY,EAAAtC,EAAAuC,cAAA,UAAQqG,QAASQ,KAAKgR,aAAtB,4QCzDaQ,eACnB,SAAAC,EAAY3R,gGAAO4R,CAAA1R,KAAAyR,GAAA,IAAAxR,mKAAA0R,CAAA3R,MAAAyR,EAAAtR,WAAAvE,OAAAwE,eAAAqR,IAAApR,KAAAL,KACXF,IACDxC,EAAU2C,EAAKH,MAAMzD,MAArBiB,OAFY,OAGjB2C,EAAKlE,OACH6V,IAAK,EACL3B,cAAe3S,EAASA,EAAO1H,OAAS,EAAI,MAE9CqK,EAAKgP,aAAehP,EAAKgP,aAAa5L,KAAlBpD,GAPHA,qUADgB/G,EAAAtC,EAAM2J,oDAU5BW,GACXlB,KAAKW,UAAUsP,cAAe/O,qCAEvB,IAAAT,EAAAT,KACP,IAAKA,KAAKF,MAAMzD,MAAO,OAAO,KAC9B,IAAIwV,EAAUtW,EAAWrF,IAAI,SAACqO,EAAKiD,GAAN,OAC3BtO,EAAAtC,EAAAuC,cAAA,OACE6F,UAAWyB,EAAK1E,MAAM6V,MAAQpK,EAAI,UAAY,GAC9C/O,IAAA,OAAY+O,GACXjD,KASL,OALIvE,KAAKF,MAAMzD,MAAMiB,SAET0C,KAAKjE,MAAMkU,eAAiB,GAC5BjQ,KAAKF,MAAMzD,MAAMiB,OAAO0C,KAAKjE,MAAMkU,gBAG7C/W,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,WACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,QAAQ6S,GACvB3Y,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAACyX,IACC5U,YAAagE,KAAKF,MAAM9D,YACxBI,SAAU4D,KAAKF,MAAM1D,SACrBC,MAAO2D,KAAKF,MAAMzD,UAGrB,4SC/BYyV,eACnB,SAAAC,EAAYjS,gGAAOkS,CAAAhS,KAAA+R,GAAA,IAAA9R,mKAAAgS,CAAAjS,MAAA+R,EAAA5R,WAAAvE,OAAAwE,eAAA2R,IAAA1R,KAAAL,KACXF,IACNG,EAAKjD,OAASiD,EAAKH,MAAMoS,MAAMC,OAAOxZ,GACtC,IAAIoE,EAAWkD,EAAKH,MAAMvD,UAAU0D,EAAKjD,QAAQrE,GAHhC,OAKjBvB,EAAIS,cAAJ,UAA4BkF,EAAY,SAAAgB,GACtC,OAAOtC,EAAS,qBACdY,MAAO0B,EAAMe,MACbnG,GAAIoE,MAGR3F,EAAIS,cAAJ,YAA8BkF,EAAY,SAAAgB,GACxC,OAAOtC,EAAS,oBACdW,SAAU2B,EAAMe,UAGpBmB,EAAKmS,iBAAmBnS,EAAKmS,iBAAiB/O,KAAtBpD,GAhBPA,qUADc/G,EAAAtC,EAAM2J,2DAoBrCP,KAAKhD,OAASgD,KAAKF,MAAMoS,MAAMC,OAAOxZ,GACtC,IAAIoE,EAAWiD,KAAKF,MAAMvD,UAAUyD,KAAKhD,QAAQrE,GAEjD+E,QAAQC,IAAI,yBAEZvG,EAAIS,cAAJ,UAA4BkF,EAAY,SAAAgB,GACtC,OAAOtC,EAAS,qBACdY,MAAO0B,EAAMe,MACbnG,GAAIoE,MAGR3F,EAAIS,cAAJ,YAA8BkF,EAAY,SAAAgB,GACxC,OAAOtC,EAAS,oBACdW,SAAU2B,EAAMe,yDAKpBpB,QAAQC,IAAI,gBACZ,IAAIZ,EAAWiD,KAAKF,MAAMvD,UAAUyD,KAAKhD,QAAQrE,GACjDvB,EAAIa,uBAAJ,UAAqC8E,4CAEtBV,GAAO,IAAAoE,EAAAT,KACtB,GAAK3D,EAAL,CACAqB,QAAQC,IAAI,mCAAoCtB,GAF1B,IAGjBQ,EAAWR,EAAXQ,QACD0B,EAAiB1B,EAAQgB,UAAU,SAAAuL,GAAA,O7BpDjB,I6BoDyBA,IAC3CiJ,EAAUxV,EAAQwI,KAAK,SAAA+D,GAAA,OAAQA,IAAS3I,EAAKX,MAAM9D,cACnDuC,GAAkB,IAAM8T,IAC1B3U,QAAQC,IAAI,eACZlB,EAAmB,uBACjBT,YAAagE,KAAKF,MAAM9D,YACxBK,MAAOA,EACPkC,eAAgBA,iDAIHiC,GACjB9C,QAAQC,IAAI,sCACZ,IAAIX,EAASgD,KAAKF,MAAMoS,MAAMC,OAAOxZ,GACjCoE,EAAWiD,KAAKF,MAAMvD,UAAUS,GAAQrE,GACxCqH,KAAKF,MAAM3D,OAAOY,KAAcyD,EAAUrE,OAAOY,KACnDW,QAAQC,IAAI,4BACZqC,KAAKoS,iBAAiBpS,KAAKF,MAAM3D,OAAOY,sCAI1C,IAAKnB,OAAOwV,KAAKpR,KAAKF,MAAM3D,QAAQvG,OAClC,OAAOsD,EAAAtC,EAAAuC,cAAA,sBAFF,IAAA0H,EAIqBb,KAAKF,MAA5B3D,EAJE0E,EAIF1E,OAAQH,EAJN6E,EAIM7E,YACTgB,EAASgD,KAAKF,MAAMoS,MAAMC,OAAOxZ,GACjCoE,EAAWiD,KAAKF,MAAMvD,UAAUS,GAAQrE,GAG5C,GAFA+E,QAAQC,IAAI,SAAUxB,GACtBuB,QAAQC,IAAI,eAAgBxB,EAAOY,KAC9BZ,IAAWA,EAAOY,GACrB,OAAO,KAETW,QAAQC,IAAI,SAAUX,GACtBU,QAAQC,IAAI,WAAYZ,GACxB,IAAIuV,EAAcnW,EAAOY,GAEzB,OADAW,QAAQC,IAAI,cAAe2U,GACvBA,EAAYnV,WAAuC,UAA1BmV,EAAYnV,UAChCjE,EAAAtC,EAAAuC,cAACoZ,GAAA,GAAS/D,GAAG,WAGpBtV,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,SACb9F,EAAAtC,EAAAuC,cAAC2Q,IAAK9N,YAAaA,EAAaK,MAAOiW,IACvCpZ,EAAAtC,EAAAuC,cAACqY,IACCxV,YAAaA,EACbI,SAAU4D,KAAKF,MAAM1D,SACrBC,MAAOiW,wTCjGIE,eACnB,SAAAC,EAAY3S,GAAO,mGAAA4S,CAAA1S,KAAAyS,oKAAAE,CAAA3S,MAAAyS,EAAAtS,WAAAvE,OAAAwE,eAAAqS,IAAApS,KAAAL,KACXF,uUAF0B5G,EAAAtC,EAAM2J,gDAKtC,OACErH,EAAAtC,EAAAuC,cAAA,UAAQ6F,UAAWgB,KAAKF,MAAMrI,KAAKgS,SAAS,SAC1C,eAAiB,IACjBvQ,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAACoV,GAAA,GAAKC,GAAG,UACPtV,EAAAtC,EAAAuC,cAAA,OAAKkN,IAAKuM,GAAAhc,IACVsC,EAAAtC,EAAAuC,cAAA,+BAGJD,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAAA,OAAKkN,IAAKwM,GAAAjc,IACVsC,EAAAtC,EAAAuC,cAAA,WAAM6G,KAAKF,MAAMjB,MAAQ,kSCbdiU,eACnB,SAAAC,EAAYjT,gGAAOkT,CAAAhT,KAAA+S,GAAA,IAAA9S,mKAAAgT,CAAAjT,MAAA+S,EAAA5S,WAAAvE,OAAAwE,eAAA2S,IAAA1S,KAAAL,KACXF,IADW,OAEjBG,EAAKiT,YAAcjT,EAAKiT,YAAY7P,KAAjBpD,GAFFA,qUADmB/G,EAAAtC,EAAM2J,mDAKhCtD,GACVS,QAAQC,IAAI,aACZlB,EAAmB,gBACjBQ,SAAUA,EACVjB,YAAagE,KAAKF,MAAM9D,+CAGnB,IAAAyE,EAAAT,KACHzD,EAAYyD,KAAKF,MAAMvD,UAC3B,IAAKA,EACH,OACErD,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAAA,wBACAD,EAAAtC,EAAAuC,cAAA,2BACAD,EAAAtC,EAAAuC,cAAA,UAAQqG,QAAS,WAAMiB,EAAKyS,aAAY,IAAIvW,MAAOC,aAAnD,qBAIN,IAOIuW,EAPevX,OAAOwV,KAAK7U,GACCiF,OAC9B,SAAA/I,GAAA,OACE8D,EAAU9D,GAAKoE,QACXN,EAAU9D,GAAKoE,QAAQwI,KAAK,SAAA+D,GAAA,O/B9Bd,I+B8BsBA,KACnC7M,EAAU9D,GAAKoE,UAEM3G,IAAI,SAACuC,EAAKyI,GACtC,IAAIrE,EAAU4D,EAAKX,MAAMvD,UAAU9D,GAAKoE,QACpCuW,EAAavW,EACbA,EAAQ2E,OAAO,SAAArD,GAAA,O/BpCC,I+BoCSA,IAAuBvI,OAChD,EACAyd,EAAQxW,EAAUA,EAAQ,GAAK,GACnC,OACE3D,EAAAtC,EAAAuC,cAAA,OACE6F,UAAU,kBACVvG,IAAA,kBAAuByI,EAAvB,KACAhI,EAAAtC,EAAAuC,cAAA,WAAM+H,EAAQ,GACdhI,EAAAtC,EAAAuC,cAAA,WAAMka,GACNna,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,eAAeoU,EAA9B,KACAla,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAACoV,GAAA,GACCvP,UAAU,mBACVvG,IAAKA,EACL+V,GAAA,UAAc/V,GAHhB,YAWJwE,GAAW,IAAIN,MAAOC,UACtB0W,EAAUtT,KAAKF,MAAMwT,SACvBpa,EAAAtC,EAAAuC,cAACoV,GAAA,GACCvP,UAAU,mBACVQ,QAAS,kBAAMiB,EAAKyS,YAAYjW,IAChCuR,GAAA,UAAcvR,GAHhB,cAQF,OACE/D,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,cACZgB,KAAKF,MAAMyT,OAASra,EAAAtC,EAAAuC,cAAA,UAAK6G,KAAKF,MAAMyT,QACnCvT,KAAKF,MAAM5D,QACXhD,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,yBAAf,gBAGJ9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,aACb9F,EAAAtC,EAAAuC,cAAA,UAAQ6F,UAAU,aAAlB,aAEF9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,qBACb9F,EAAAtC,EAAAuC,cAAA,kBACAD,EAAAtC,EAAAuC,cAAA,oBACAD,EAAAtC,EAAAuC,cAAA,6BACAD,EAAAtC,EAAAuC,cAAA,WAAMma,IAERpa,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,yBAAyBmU,2qBClF3BK,eACnB,SAAAT,EAAYjT,gGAAO2T,CAAAzT,KAAA+S,GAAA,IAAA9S,mKAAAyT,CAAA1T,MAAA+S,EAAA5S,WAAAvE,OAAAwE,eAAA2S,IAAA1S,KAAAL,KACXF,IADW,OAEjBG,EAAKiT,YAAcjT,EAAKiT,YAAY7P,KAAjBpD,GAFFA,qUADmB/G,EAAAtC,EAAM2J,mDAKhCtD,GACVR,EAAmB,gBACjBQ,SAAUA,EACVjB,YAAagE,KAAKF,MAAM9D,+CAGnB,IAAAyE,EAAAT,KACFzD,EAAayD,KAAKF,MAAlBvD,UACL,IAAKA,EACH,OACErD,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAAA,wBACAD,EAAAtC,EAAAuC,cAAA,2BACAD,EAAAtC,EAAAuC,cAAA,mCAIN,IAMIga,EANevX,OAAOwV,KAAK7U,GACEiF,OAC/B,SAAA/I,GAAA,OACE8D,EAAU9D,GAAKoE,UACNN,EAAU9D,GAAKoE,QAAQwI,KAAK,SAAAlH,GAAA,OhC7BnB,IgC6B6BA,MAEpBjI,IAAI,SAACuC,EAAKyI,GACvC,IAAIrE,EAAU4D,EAAKX,MAAMvD,UAAU9D,GAAKoE,QADSuF,EAAAuR,GAEhB9W,EAFgB,GAE5C+W,EAF4CxR,EAAA,GAErCyR,EAFqCzR,EAAA,GAE/B0R,EAF+B1R,EAAA,GAExB2R,EAFwB3R,EAAA,GAGjD,OACElJ,EAAAtC,EAAAuC,cAAA,OACE6F,UAAU,gBACVvG,IAAA,sBAA2ByI,EAA3B,KACAhI,EAAAtC,EAAAuC,cAAA,WAAM+H,EAAQ,GACdhI,EAAAtC,EAAAuC,cAAA,WAAMya,GACN1a,EAAAtC,EAAAuC,cAAA,WAAM0a,GACN3a,EAAAtC,EAAAuC,cAAA,WAAM2a,GACN5a,EAAAtC,EAAAuC,cAAA,WAAM4a,GACN7a,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAACoV,GAAA,GAAKvP,UAAU,mBAAmBwP,GAAA,UAAc/V,GAAjD,YAQR,OACES,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,cACb9F,EAAAtC,EAAAuC,cAAA,mBACE6G,KAAKF,MAAM5D,QACXhD,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,yBAAf,gBAGJ9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,0CACb9F,EAAAtC,EAAAuC,cAAA,kBACAD,EAAAtC,EAAAuC,cAAA,oBACAD,EAAAtC,EAAAuC,cAAA,mBACAD,EAAAtC,EAAAuC,cAAA,oBACAD,EAAAtC,EAAAuC,cAAA,mBACAD,EAAAtC,EAAAuC,cAAA,aAEFD,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,yBAAyBmU,wTC5D3Ba,eACnB,SAAAC,EAAYnU,GAAO,mGAAAoU,CAAAlU,KAAAiU,oKAAAE,CAAAnU,MAAAiU,EAAA9T,WAAAvE,OAAAwE,eAAA6T,IAAA5T,KAAAL,KACXF,uUAFyB5G,EAAAtC,EAAM2J,gDAKrC,OACErH,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,SACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,eACb9F,EAAAtC,EAAAuC,cAAA,oCAEFD,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,eACb9F,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,sBACb9F,EAAAtC,EAAAuC,cAAA,kBACAD,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,aACb9F,EAAAtC,EAAAuC,cAAA,iBADF,IACiBD,EAAAtC,EAAAuC,cAAA,oBAEjBD,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,oBACb9F,EAAAtC,EAAAuC,cAAA,OAAKkN,IAAK+N,GAAAxd,IACVsC,EAAAtC,EAAAuC,cAAC2Z,IACCS,OAAO,EACPrX,QAAQ,EACRoX,SAAS,EACTtX,YAAagE,KAAKF,MAAM9D,YACxBqY,MAAM,EACN9X,UAAWyD,KAAKF,MAAMvD,cAI5BrD,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,sBACb9F,EAAAtC,EAAAuC,cAAA,qBACAD,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,aACb9F,EAAAtC,EAAAuC,cAAA,iBADF,IACiBD,EAAAtC,EAAAuC,cAAA,oBAEjBD,EAAAtC,EAAAuC,cAAA,OAAK6F,UAAU,oBACb9F,EAAAtC,EAAAuC,cAAA,OAAKkN,IAAKiO,GAAA1d,IACVsC,EAAAtC,EAAAuC,cAACqa,IACCD,OAAO,EACPrX,QAAQ,EACRoX,SAAS,EACTe,MAAM,EACNrY,YAAagE,KAAKF,MAAM9D,YACxBO,UAAWyD,KAAKF,MAAMvD,mRCtDjBgY,eACnB,SAAAC,EAAY1U,GAAO,mGAAA2U,CAAAzU,KAAAwU,oKAAAE,CAAA1U,MAAAwU,EAAArU,WAAAvE,OAAAwE,eAAAoU,IAAAnU,KAAAL,KACXF,uUAF2B5G,EAAAtC,EAAM2J,gDAKvC,OAAOrH,EAAAtC,EAAAuC,cAAA,mdCYLwb,eACJ,SAAAC,EAAY9U,gGAAO+U,CAAA7U,KAAA4U,GAAA,IAAA3U,mKAAA6U,CAAA9U,MAAA4U,EAAAzU,WAAAvE,OAAAwE,eAAAwU,IAAAvU,KAAAL,KACXF,IADW,OAEjBG,EAAKlE,MAAQJ,EAAMoZ,WACnB9U,EAAK+U,YAAc/U,EAAK+U,YAAY3R,KAAjBpD,GACnBA,EAAKgV,OAAShV,EAAKgV,OAAO5R,KAAZpD,GACdA,EAAKiV,YAAcjV,EAAKiV,YAAY7R,KAAjBpD,GALFA,qUADH/G,EAAAtC,EAAM2J,gDASpBP,KAAKW,SAAShF,EAAMoZ,0DAGpB/U,KAAKmV,0DAGLnV,KAAKmV,YAAcxZ,EAAMyZ,UAAUpV,KAAKiV,OAAO5R,KAAKrD,OACpDA,KAAKkV,kDAGKjZ,GACVR,EAAS,gBAAiBQ,KAAMA,0CAGhCR,EAAS,gBAAiBS,QAAQ,qCAE3B,IAAAuE,EAAAT,KACHqV,EAAWlL,OAAOmL,SAASC,SAE/B,OADA7X,QAAQC,IAAIqC,KAAKjE,OACZiE,KAAKjE,MAAMG,OAIdhD,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAACqc,GAAA,EAAD,KACEtc,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAACqZ,IAAO/a,KAAM4d,EAAWxW,KAAMmB,KAAKjE,MAAMC,eACxCgE,KAAKjE,MAAMC,aACX9C,EAAAtC,EAAAuC,cAACsc,GAAA,GACChe,KAAK,IACLie,OAAQ,SAAA5V,GAAA,OACN5G,EAAAtC,EAAAuC,cAAC4U,IAAMA,MAAOtN,EAAKuU,iBAIxBhV,KAAKjE,MAAMC,aACV9C,EAAAtC,EAAAuC,cAAA,WACED,EAAAtC,EAAAuC,cAACsc,GAAA,GACChe,KAAK,aACLie,OAAQ,SAAA5V,GAAA,OACN5G,EAAAtC,EAAAuC,cAAC2Y,GAAD6D,IACEvZ,SAAUqE,EAAK1E,MAAMK,SACrBD,OAAQsE,EAAK1E,MAAMI,OACnBI,UAAWkE,EAAK1E,MAAMQ,UACtBP,YAAayE,EAAK1E,MAAMC,aACpB8D,OAIV5G,EAAAtC,EAAAuC,cAACsc,GAAA,GACCG,OAAA,EACAne,KAAK,SACLie,OAAQ,kBACNxc,EAAAtC,EAAAuC,cAAC6a,IACC7X,OAAQsE,EAAK1E,MAAMI,QAAU,KAC7BH,YAAayE,EAAK1E,MAAMC,YACxBO,UAAWkE,EAAK1E,MAAMQ,eAI5BrD,EAAAtC,EAAAuC,cAACsc,GAAA,GACCG,OAAA,EACAne,KAAK,eACLie,OAAQ,kBAAMxc,EAAAtC,EAAAuC,cAACsV,GAAD,aA3CnBvV,EAAAtC,EAAAuC,cAACob,GAAD,eAsDbsB,EAAAjf,EAAS8e,OAAOxc,EAAAtC,EAAAuC,cAACwb,GAAD,MAASmB,SAASC,eAAe,qECxGjDC,EAAAC,QAAA,q5ECAAD,EAAAC,QAAiBC,EAAAC,EAAuB,0HCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qGCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB","file":"main.3ff7.js","sourcesContent":["export const getKeywordFromURL = () => {\n  let urlLocation = window.location.search,\n    index = urlLocation.search(/=/g);\n  if (!urlLocation) return \"\";\n  return urlLocation.slice(index + 1, urlLocation.length);\n};\n\nexport const getKeywordObjFromURL = () => {\n  let keyword = getKeywordFromURL();\n  let urlLocation = window.location.search,\n    index = urlLocation.search(/=/g);\n  return {\n    key: urlLocation.slice(1, index),\n    value: getKeywordFromURL()\n  };\n};\n\nexport const getRandomKey = (n = 8) => {\n  let letter = \"abcdefghijklmnopqrstuvxyzABCDEFGHIJKLMNOPQRSTUVXYZ\";\n  return Array.from({length: n})\n    .fill(0)\n    .map(w => letter[Math.floor(Math.random() * (letter.length - 1))])\n    .join(\"\");\n};\n\nexport const getObj = (key, value) => {\n  let newObj = {};\n  newObj[key] = value;\n  return Object.assign({}, newObj);\n};\n\nexport const getRandomInt = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nexport const getObjSortKey = obj => {\n  if (!obj) {\n    return null;\n  }\n  return Object.keys(obj).sort((a, b) => a < b);\n};\n","import firebase from \"firebase\";\nimport {config} from \"./config.js\";\n\nlet firebaseApp = firebase.initializeApp(config);\n\nexport const app = {\n  db: firebaseApp.database(),\n  auth: firebaseApp.auth(),\n  getNodeByPathOnce: (path, action) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .on(\"value\", action);\n  },\n  getNodeByPath: (path, action) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .on(\"value\", action);\n  },\n  pushDataByPath: (path, data) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .push(data);\n  },\n  cancelListenDataChange: (path, action) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .off(\"value\", action);\n  },\n  listenPathChildren: (path, action) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .off(\"value\");\n  },\n  setNodeByPath: (path, data) => {\n    return firebaseApp\n      .database()\n      .ref(path)\n      .set(data);\n  },\n  getNewChildKey: node => {\n    return firebaseApp\n      .database()\n      .ref()\n      .child(node)\n      .push().key;\n  },\n  updateTableDataByID: (id, data) => {\n    firebaseApp\n      .database()\n      .ref(`tables/${id}/`)\n      .set(data);\n  },\n  updateTableGameDataByPath: (path, game) => {\n    firebaseApp\n      .database()\n      .ref(\"tables/\" + path)\n      .set(game);\n  },\n  setTableListData: (id, data) => {\n    firebaseApp\n      .database()\n      .ref(`tableList/${id}/`)\n      .set(data);\n  }\n};\n","export const config = {\n  apiKey: \"AIzaSyDsmWxFexrd890dUvpA313qvxvcjDRp1Ok\",\n  authDomain: \"wowbridge88.firebaseapp.com\",\n  databaseURL: \"https://wowbridge88.firebaseio.com\",\n  projectId: \"wowbridge88\",\n  storageBucket: \"wowbridge88.appspot.com\",\n  messagingSenderId: \"862342003288\"\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nlet redColor = \"#FF525D\";\nlet blackColor = \"#222222\";\n\nexport const Heart = ({scale}) => {\n  return (\n    <SvgContainer scale={scale} ratio={0.89} fill={redColor}>\n      <path d=\"M70.9643211,0 C59.2565148,0 53.056072,5.64335169 49.9709368,10.1546618 C46.889795,5.64335169 40.6986702,0 29.0152682,0 C15.0405332,0 0,9.29808951 0,29.7129874 C0,37.7588224 1.74734105,44.1438566 5.84192287,51.0638602 C9.82779506,57.7993304 18.2685439,66.1002296 30.9298889,75.7372219 C35.8715185,79.4984213 40.4235682,82.6625486 43.3724836,84.6547112 C49.0391399,88.4833363 49.2609963,88.5228158 49.9456452,88.5232594 C49.9802548,88.5241466 50.0135332,88.5245902 50.0468117,88.5245902 C50.6941887,88.5245902 51.1401201,88.3183208 56.5574098,84.6764471 C59.5081,82.6922691 64.0641431,79.5401188 69.0102098,75.7873476 C81.6870849,66.1698733 90.1513504,57.851674 94.1682825,51.0643038 C98.2557649,44.1571643 100,37.7712429 100,29.713431 C100,9.29808951 84.9488177,0 70.9643211,0 Z\" />\n    </SvgContainer>\n  );\n};\n\nexport const Spade = ({scale}) => {\n  return (\n    <SvgContainer scale={scale} ratio={1} fill={redColor}>\n      <path\n        d=\"M88.5085925,35.4545714 C84.7618726,29.0791639 76.8279859,21.2225289 64.9275728,12.1017285 C60.2811897,8.54098888 56.0030971,5.54662558 53.2315338,3.66150342 C47.8489868,0 47.6921609,0 47.0310732,0 C46.3716539,0 46.2152451,0 40.8347835,3.64219036 C38.0615518,5.52017509 33.7788713,8.50362231 29.1295686,12.0555451 C17.2145573,21.1574523 9.25814768,29.0300415 5.48264861,35.4541516 C1.63958096,41.9928804 0,48.0361874 0,55.6623252 C0,74.9846174 14.1481113,83.785073 27.2935382,83.785073 C33.059808,83.785073 37.4025496,82.3177007 40.6500126,80.3074635 L37.0551136,94 L56.8014075,94 L53.1693874,80.1668141 C56.4343682,82.2488454 60.8367536,83.785073 66.7252308,83.785073 C79.8614817,83.785073 94,74.9846174 94,55.6623252 C94,48.0475233 92.3579165,42.0042164 88.5085925,35.4545714 Z\"\n        fill={blackColor}\n      />\n    </SvgContainer>\n  );\n};\n\nexport const Diamond = ({scale}) => {\n  let w = 93,\n    h = 100;\n  return (\n    <SvgContainer scale={scale} ratio={1} fill={redColor}>\n      <polygon\n        points={`${w / 2} 0 0 ${h / 2} ${w / 2} ${h} ${w} ${h / 2}`}\n      />\n    </SvgContainer>\n  );\n};\n\nexport const Club = ({scale}) => {\n  return (\n    <SvgContainer scale={scale} ratio={0.98} fill={blackColor}>\n      <path\n        d=\"M70.3555185,31.9345189 C71.174537,29.4903991 71.587963,26.9404062 71.587963,24.3163882 C71.587963,10.9083748 60.5577593,0 47,0 C33.4422407,0 22.412037,10.9083748 22.412037,24.3163882 C22.412037,26.9404062 22.825463,29.4903991 23.6444815,31.9345189 C10.5223426,32.426872 0,43.137703 0,56.2332616 C0,69.641275 11.0302037,80.5496498 24.587963,80.5496498 C30.872037,80.5496498 36.6116944,78.2040867 40.9631111,74.3539201 L35.6686481,92.1010101 L58.1820833,92.1010101 L52.8323519,74.1692877 C57.2077037,78.12834 63.0287407,80.5496498 69.412037,80.5496498 C82.9697963,80.5496498 94,69.641275 94,56.2332616 C94,43.137703 83.4776574,32.426872 70.3555185,31.9345189 Z\"\n        fill={blackColor}\n      />\n    </SvgContainer>\n  );\n};\n\nconst SvgContainer = ({children, ratio, scale, fill}) => {\n  let width = scale * 100,\n    height = Math.floor(width * ratio);\n  return (\n    <div>\n      <svg\n        width={`${width}px`}\n        height={`${height}px`}\n        viewBox={`0 0 ${width} ${height}`}>\n        <g fill={fill} transform={`scale(${scale})`}>\n          {children}\n        </g>\n      </svg>\n    </div>\n  );\n};\n","import React from \"react\";\nimport {Heart, Spade, Diamond, Club} from \"./shape/shape.js\";\nexport const CARD_NUM = {\n  TOTAL: 52,\n  SUITS: 4,\n  HAND: 13\n};\n\nexport const PLAYER_NUM = 4;\nexport const EMPTY_SEAT = -1;\nexport const NO_TRUMP = 4;\nexport const BID_NUM = [1, 2, 3, 4, 5, 6, 7];\n\nexport const SUIT_SHAPE = {\n  0: scale => <Club scale={scale} />,\n  1: scale => <Diamond scale={scale} />,\n  2: scale => <Heart scale={scale} />,\n  3: scale => <Spade scale={scale} />,\n  4: scale => <div>NT</div>\n};\n\nexport const CARD_RANK = [2, 3, 4, 5, 6, 7, 8, 9, 10, \"J\", \"Q\", \"K\", \"A\"];\n\nexport const DEFAULT_GAME = {\n  deal: 0,\n  bid: {\n    isDb: false,\n    isRdb: false,\n    trick: 0,\n    trump: -1\n  },\n  order: -1,\n  isGameOver: false\n};\n\nexport const PLAYERS = [EMPTY_SEAT, EMPTY_SEAT, EMPTY_SEAT, EMPTY_SEAT];\nexport const GAME_STATE = {\n  join: \"join\",\n  auction: \"auction\",\n  playing: \"playing\",\n  gameover: \"gameover\"\n};\n\nexport const TAB_OPTION = [\"Chat\", \"Result\"];\n\nexport const DIRECTION = [\"south\", \"west\", \"north\", \"east\"];\n","import {createStore, applyMiddleware} from \"redux\";\nimport thunk from \"redux-thunk\";\nimport {app} from \"../firebase/firebase.js\";\nimport {getObj} from \"../helper/helper.js\";\nimport {\n  GAME_STATE,\n  EMPTY_SEAT,\n  DEFAULT_GAME,\n  PLAYERS\n} from \"../components/constant.js\";\n\nexport const dispatch = (type, action) =>\n  store.dispatch(Object.assign({}, {type: type}, action));\n\nexport const appReducer = (state, action) => {\n  switch (action.type) {\n    case \"HANDLE_LOGIN\": {\n      return Object.assign({}, state, {currentUser: action.name});\n    }\n    case \"STOP_LOADING\": {\n      return Object.assign({}, state, {isLoad: action.isLoad});\n    }\n    case \"FETCH_TABLE_DATA\": {\n      // tables is an array, query table by index\n      return Object.assign({}, state, {tables: action.tables});\n    }\n    case \"UPDATE_CHAT_ROOM\": {\n      return Object.assign({}, state, {chatroom: action.chatroom});\n    }\n    case \"UPDATE_TABLE_DATA\": {\n      let {id, table} = action;\n      let tables = state.tables;\n      let updatedTables = Object.assign({}, tables);\n      updatedTables[id] = table;\n      return Object.assign({}, state, {tables: updatedTables});\n    }\n    case \"FETCH_TABLE_LIST\": {\n      // tables is an array, query table by index\n      return Object.assign({}, state, {tableList: action.tableList});\n    }\n    default:\n      return state;\n  }\n};\n\nexport const store = createStore(\n  appReducer,\n  {\n    currentUser: null,\n    isLoad: false,\n    tables: {}\n  },\n  applyMiddleware(thunk)\n);\n\nexport const dispatchToDatabase = (type, action) => {\n  switch (type) {\n    case \"CREATE_TABLE\": {\n      let timeStamp = new Date().getTime();\n      let players = PLAYERS.slice(0);\n      players[0] = action.currentUser;\n      let tableKey = app.getNewChildKey(\"tables\");\n      let linkId = action.tableRef || timeStamp;\n      let newTable = {\n        timeStamp: linkId,\n        gameState: GAME_STATE.join,\n        id: tableKey,\n        linkId: linkId,\n        game: DEFAULT_GAME,\n        players: players,\n        ready: [false, false, false, false]\n      };\n      app.setNodeByPath(`tables/${tableKey}`, newTable);\n      app.setTableListData(linkId, {\n        id: tableKey\n      });\n      break;\n    }\n\n    case \"CREATE_NEW_GAME\": {\n      let {table} = action;\n      let tableData = Object.assign({}, table);\n      let {record, game} = tableData;\n      if (record) {\n        record.push(game);\n      } else {\n        record = [game];\n      }\n      // reset table\n      tableData.record = record;\n      tableData.game = Object.assign({}, DEFAULT_GAME);\n      tableData.ready = [false, false, false, false];\n      tableData.timeStamp = new Date().getTime();\n      tableData.gameState = GAME_STATE.join;\n      app.updateTableDataByID(tableData.id, tableData);\n      break;\n    }\n    case \"READY_A_PLAYER\": {\n      let {table, playerIndex} = action;\n      let path = `tables/${table.id}/ready/${playerIndex}`;\n      app.setNodeByPath(path, true);\n      // updateTimer\n      app.updateTableGameDataByPath(\n        `${table.id}/timeStamp/`,\n        new Date().getTime()\n      );\n      break;\n    }\n    case \"ADD_NEW_DECK_TO_TABLE\": {\n      // todo, use high order function to wrap this\n      // create a game\n      let {cards, table} = action;\n      let newGame = Object.assign({}, table.game, {\n        cards: cards\n      });\n\n      console.log(\"cards\", cards);\n      app.updateTableDataByID(`${table.id}/game/`, newGame);\n      console.log(\"should update cards\");\n      break;\n    }\n    case \"UPDATE_WINNER_CARD\": {\n      // todo, use high order function to wrap this\n      let {table} = action;\n      let game = Object.assign({}, table.game);\n\n      let cards = game.cards;\n      game.order = action.order;\n\n      // update which player will draw first\n      let targetCardIndex = cards.findIndex(\n        card => card.value === action.winnerCard.value\n      );\n      let winner = action.winnerCard;\n      winner.isWin = true;\n      game.deal = winner.player;\n      cards[targetCardIndex] = winner;\n      // 51 means the index in the card array , the n-52 cards is given\n      if (action.order === 51) {\n        game.isGameOver = true;\n      }\n      app.updateTableDataByID(`${table.id}/game/`, game);\n      break;\n    }\n    case \"UPDATE_CURRENT_TRICK\": {\n      // update this is how many trick players have been draw\n\n      let {table, order, deal} = action;\n      let {game} = table;\n      app.updateTableGameDataByPath(`${table.id}/game/order/`, order);\n\n      let cards = game.cards;\n\n      let targetCardInex = cards.findIndex(\n        card => card.value === action.value\n      );\n\n      let currentCard = cards[targetCardInex];\n      currentCard.order = order;\n\n      // update deal order, who can draw card next\n      app.updateTableGameDataByPath(`${table.id}/game/deal/`, deal);\n      app.updateTableGameDataByPath(\n        `${table.id}/timeStamp/`,\n        new Date().getTime()\n      );\n\n      // this card has been draw in nth trick\n      // set current trick number to this card\n      if (currentCard.trick === 0) {\n        // update trick to current nth trick, e.g. players have play 4 tricks\n        // so far, the maxTrick will be 5\n        currentCard.trick = action.maxTrick;\n        // record who has this card\n        currentCard.player = (deal + 4 - 1) % 4;\n\n        app.updateTableGameDataByPath(\n          `${table.id}/game/cards/${targetCardInex}`,\n          currentCard\n        );\n      }\n      break;\n    }\n    case \"ADD_PLAYER_TO_TABLE\": {\n      console.log(\"in add_player to table reducer\");\n      let {currentUser, table, emptySeatIndex} = action;\n      let {linkId, id, players} = table;\n      console.log(\"shouldn't be null\", linkId, id, players);\n\n      app.setNodeByPath(\n        `tables/${id}/players/${emptySeatIndex}`,\n        currentUser\n      );\n      app.updateTableGameDataByPath(\n        `${id}/timeStamp/`,\n        new Date().getTime()\n      );\n\n      // if anyone join this table, update data to table list\n      let updatePlayers = players.slice(0);\n      updatePlayers[emptySeatIndex] = currentUser;\n      app.setNodeByPath(`tableList/${linkId}/players`, updatePlayers);\n      break;\n    }\n    case \"UPDATE_AUCTION\": {\n      // in order to detect if some user isn't online anymore\n      // record current to database when a current user is deal\n      app.updateTableGameDataByPath(\n        `${action.table.id}/game/`,\n        action.game\n      );\n      app.updateTableGameDataByPath(\n        `${action.table.id}/timeStamp/`,\n        new Date().getTime()\n      );\n      break;\n    }\n    case \"SEND_MESSAGE_TO_CHATROOM\": {\n      let {message, currentUser, table} = action;\n      let time = new Date().getTime();\n      let newMessage = {};\n      newMessage.content = action.message;\n      newMessage.user = currentUser;\n      app.setNodeByPath(\n        `chatroom/${table.id}/message/${time}/`,\n        newMessage\n      );\n    }\n    default:\n      return null;\n  }\n};\n\n// app.getNodeByPathOnce(\"tables\", value => {\n//   return dispatch(\"FETCH_TABLE_DATA\", {tables: value.val()});\n// });\n\napp.getNodeByPath(\"tableList\", value => {\n  return dispatch(\"FETCH_TABLE_LIST\", {tableList: value.val()});\n});\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Heart, Spade, Diamond, Club} from \"./shape/shape.js\";\nimport {CARD_NUM, CARD_RANK, SUIT_SHAPE} from \"./constant.js\";\nimport \"../style/reset.scss\";\nimport \"../style/card.scss\";\n\nexport const TrickCard = ({value}) => {\n  return (\n    <div className=\"abbbbbbbbbbbbb\">\n      <Card flipUp={true} value={value} />\n    </div>\n  );\n};\n\nexport const Card = ({value, evt = null, flipUp, name = null}) => {\n  let kind = Math.floor(value / CARD_NUM.HAND);\n  let wrapperName = name ? `card-wrapper ${name}` : \"card-wrapper\";\n  if (flipUp) {\n    return (\n      <div\n        className={wrapperName}\n        onClick={() => {\n          if (evt) {\n            evt(value);\n          }\n        }}>\n        <div className=\"card flip-up\">\n          <div className=\"card-inner\">\n            <div\n              className={\n                kind === 1 || kind === 2\n                  ? \"red value\"\n                  : \"black value\"\n              }>\n              {CARD_RANK[value % CARD_NUM.HAND]}\n            </div>\n            {SUIT_SHAPE[kind](0.235)}\n            <div className=\"large-shape\">\n              {SUIT_SHAPE[kind](0.5)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  } else {\n    return (\n      <div className={wrapperName}>\n        <div className=\"card flip-down\">\n          <div className=\"card-inner\" />\n        </div>\n      </div>\n    );\n  }\n};\n","export const getCurrentMaxTrick = cards => {\n  if (!cards) return null;\n  return Math.max(...cards.map(card => card.trick));\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {getRandomKey} from \"../helper/helper.js\";\nimport {Card, TrickCard} from \"./card.js\";\nimport {getCurrentMaxTrick} from \"./getCurrentMaxTrick.js\";\nimport \"../style/game.scss\";\n\nexport default class Trick extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fadeOutCards: false\n    };\n  }\n  componentDidUpdate(prevProps) {\n    if (this.props.order !== prevProps.order) {\n      if (this.props.order % 4 === 3) {\n        setTimeout(() => this.setState({fadeOutCards: true}), 2000);\n      } else {\n        this.setState({fadeOutCards: false});\n      }\n    }\n  }\n  render() {\n    let direction = [\"south-card\", \"west-card\", \"north-card\", \"east-card\"];\n    let {order, cards, cardsByPlayer, isTrickFinish} = this.props;\n    if (!cards) {\n      return null;\n    }\n\n    let currentTrick = null,\n      maxTrick = getCurrentMaxTrick(cards);\n\n    // cause maxTrick will increase if there are already four cards\n    if (maxTrick === 0) {\n      maxTrick = 1;\n    }\n\n    // show cards sequence by player order\n    if (cardsByPlayer && !this.state.fadeOutCards) {\n      // sorting tricks by player index, and filter cards by max trick\n      currentTrick = cardsByPlayer.map((hand, index) => {\n        hand = hand.sort((cardA, cardB) => cardA.value - cardB.value);\n        let trickCards = hand.map(userHand => {\n          if (userHand.trick === maxTrick) {\n            return (\n              <TrickCard\n                key={getRandomKey()}\n                value={userHand.value}\n              />\n            );\n          }\n        });\n\n        let hasTrickCards =\n                    trickCards.filter(\n                      card => card !== null && card !== undefined,\n                    ).length > 0;\n        if (hasTrickCards) {\n          return (\n            <div\n              className={`trick-card-wrapper ${direction[index]}`}\n              key={`trick-card-${index}`}>\n              {trickCards}\n            </div>\n          );\n        } else {\n          return null;\n        }\n      });\n    }\n\n    if (currentTrick) {\n      currentTrick = currentTrick.filter(\n        card => card !== null && card !== undefined,\n      );\n    }\n\n    return (\n      <div className={\"trick-area\"}>\n        <div className=\"trick-area-inner\">{currentTrick}</div>\n      </div>\n    );\n  }\n}\n","export const teamScore = cards => {\n  let teamA = 0,\n    teamB = 0;\n  cards.map((card, index) => {\n    let winningScore = card.isWin ? 1 : 0;\n    if ((index % 4) % 2 === 0) {\n      teamA += winningScore;\n    } else {\n      teamB += winningScore;\n    }\n  });\n  return {teamA: teamA, teamB: teamB};\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport \"../style/trick-score.scss\";\nimport {teamScore} from \"./socre.js\";\n\nexport default class TrickScore extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    let {table, windowWidth, windowHeight} = this.props;\n    let {game, players} = table;\n    if (!table || !table.game.cards) {\n      return null;\n    }\n    let score = teamScore(game.cards);\n    let [player1, player2, player3, player4] = players;\n    let innerStyle = this.props.innerStyle;\n    let resizeRatio = this.props.ratio || 0.15;\n    let thumbnailStyle = {\n      width: this.props.thumbnailSize,\n      height: this.props.thumbnailSize\n    };\n\n    return (\n      <div\n        className={\n          this.props.name\n            ? `trick-score ${this.props.name}`\n            : \"trick-score\"\n        }\n        style={innerStyle}>\n        <div\n          className=\"trick-score-inner\"\n          style={{\n            width: windowWidth * resizeRatio\n          }}>\n          <div className=\"group-wrapper\">\n            <div className=\"group\">\n              <div\n                className=\"thumbnail-group\"\n                style={{\n                  minWidth: this.props.thumbnailSize * 2\n                }}>\n                <div\n                  className=\"thumbnail\"\n                  style={thumbnailStyle}>\n                  <span>{player1[0]}</span>\n                </div>\n                <div\n                  className=\"thumbnail\"\n                  style={thumbnailStyle}>\n                  <span>{player3[0]}</span>\n                </div>\n              </div>\n              <div className=\"score\">{score.teamA}</div>\n            </div>\n            <div className=\"group\">\n              <div\n                className=\"thumbnail-group\"\n                style={{\n                  minWidth: this.props.thumbnailSize * 2\n                }}>\n                <div\n                  className=\"thumbnail\"\n                  style={thumbnailStyle}>\n                  <span>{player2[0]}</span>\n                </div>\n                <div\n                  className=\"thumbnail\"\n                  style={thumbnailStyle}>\n                  <span>{player4[0]}</span>\n                </div>\n              </div>\n              <div className=\"score\">{score.teamB}</div>\n            </div>\n          </div>\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport TrickScore from \"./trickScore.js\";\nimport {dispatchToDatabase} from \"../reducer/reducer.js\";\nimport \"../style/btn.scss\";\n\nexport default class ScoreBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.recordGame = this.recordGame.bind(this);\n  }\n  recordGame() {\n    let {table} = this.props;\n    let {game} = table;\n    if (!table || game.order !== 51) {\n      return;\n    }\n    dispatchToDatabase(\"CREATE_NEW_GAME\", {\n      table: table\n    });\n  }\n  render() {\n    let {windowWidth, table, windowHeight, currentUser} = this.props;\n    let {game, players} = this.props.table;\n    if (!game || !game.cards) {\n      return null;\n    }\n    let scoreTeamOne = 0,\n      scoreTeamTwo = 0;\n\n    // which team players belong: [ one, two, one ,two]\n    game.cards.map((card, index) => {\n      let winningScore = card.isWin ? 1 : 0;\n      if ((index % 4) % 2 === 0) {\n        scoreTeamOne += winningScore;\n      } else {\n        scoreTeamTwo += winningScore;\n      }\n    });\n\n    let result = {\n      win: \"當溫拿的感覺原來如此, 94 送\",\n      lose: \"魯蛇的世界有點複雜，魯魯如我輸惹\"\n    };\n    let resultWords = null;\n    let playerIndex = players.indexOf(currentUser);\n\n    let {declarer, trick} = game.bid;\n    let targetTrick = 6 + trick;\n    let isDeclarerInTeamOne = declarer % 2 === 0;\n\n    // if user is curretn user\n    if (playerIndex >= 0) {\n      // if user is declearer\n      if (isDeclarerInTeamOne) {\n        if (playerIndex % 2 === 0 && scoreTeamOne >= targetTrick) {\n          resultWords = result.win;\n        } else {\n          resultWords = result.lose;\n        }\n      } else {\n        if (playerIndex % 2 !== 0 && scoreTeamTwo >= targetTrick) {\n          resultWords = result.win;\n        } else {\n          resultWords = result.lose;\n        }\n      }\n    }\n\n    return (\n      <div className=\"game-over-board\">\n        <TrickScore\n          currentUser={this.props.currentUser}\n          ratio={0.5}\n          thumbnailSize={46}\n          windowWidth={this.props.windowWidth}\n          widnowHeight={this.props.windowHeight}\n          table={this.props.table}>\n          <div>\n            <div className=\"result\">\n              <div className=\"words\">{resultWords}</div>\n            </div>\n            <div className=\"btn-wrapper\">\n              <button onClick={this.recordGame} className=\"btn\">\n                                Start a new Game\n              </button>\n            </div>\n          </div>\n        </TrickScore>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {SUIT_SHAPE} from \"./constant.js\";\nimport {getRandomKey} from \"../helper/helper.js\";\n\nexport const AuctionList = ({result, scale}) => {\n  if (!result) {\n    return null;\n  }\n  let resultsNum = result.length;\n\n  return (\n    <div className=\"record\">\n      {Array.from({length: Math.ceil(resultsNum / 4)})\n        .fill(0)\n        .map((res, index) => (\n          <div key={getRandomKey()} className=\"row\">\n            {Array.from({length: 4})\n              .fill(0)\n              .map((re, j) => {\n                let resultItem = result[index * 4 + j];\n                if (resultItem && resultItem.opt) {\n                  return (\n                    <div\n                      key={getRandomKey()}\n                      className=\"bid-result\">\n                      {resultItem.opt}\n                    </div>\n                  );\n                } else if (\n                  resultItem &&\n                                    resultItem.trick >= 0\n                ) {\n                  return (\n                    <div\n                      key={getRandomKey()}\n                      className=\"bid-result\">\n                      <div>{resultItem.trick + 1}</div>\n                      {SUIT_SHAPE[resultItem.trump](\n                        scale,\n                      )}\n                    </div>\n                  );\n                } else {\n                  return (\n                    <div\n                      key={getRandomKey()}\n                      className=\"bid-result\">\n                      {null}\n                    </div>\n                  );\n                }\n              })}\n          </div>\n        ))}\n    </div>\n  );\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {SUIT_SHAPE, BID_NUM} from \"./constant.js\";\nimport {getRandomKey} from \"../helper/helper.js\";\nimport {dispatchToDatabase} from \"../reducer/reducer.js\";\nimport {AuctionList} from \"./auctionList.js\";\nimport \"../style/auction.scss\";\n\nexport default class Auction extends React.Component {\n  constructor(props) {\n    super(props);\n    let {game} = this.props;\n    this.state = {\n      currentTrick: game.bid.trick,\n      visibility: false,\n      current: null\n    };\n    this.updateBid = this.updateBid.bind(this);\n    this.validateUserTurnAndsetTrump = this.validateUserTurnAndsetTrump.bind(\n      this,\n    );\n  }\n  validateUserTurnAndsetTrump(index) {\n    // check if already current user's turn to give his bid\n    let {game, currentUser, players} = this.props;\n    if (!currentUser || !game) return;\n    if (players && currentUser) {\n      // if currentUser's Index is same as game deal, let him give bid\n\n      let currentUserIndex = players.findIndex(\n        player => player === this.props.currentUser,\n      );\n      if (currentUserIndex === game.deal) {\n        this.setState({\n          currentTrick: index,\n          current: index,\n          visibility: true\n        });\n      }\n    }\n  }\n  updateBid(trump, opt = null) {\n    let newBid,\n      isFinishAuction = false,\n      declarer = this.props.game.bid.declarer;\n\n    if (trump > -1 && trump !== null) {\n      let bid = {\n        trick: this.state.currentTrick,\n        trump: trump\n      };\n      // udpate result\n      let result = this.props.game.bid.result || [];\n      result.push(Object.assign({}, bid));\n\n      // update bid taker, when give a trump bid,\n      // record who is the last bid giver;\n      declarer = this.props.game.deal;\n\n      newBid = Object.assign(\n        {},\n        this.props.game.bid,\n        bid,\n        {declarer: declarer},\n        {result: result},\n      );\n    } else {\n      let result = this.props.game.bid.result || [];\n      result.push({opt: opt});\n\n      // is game start\n\n      if (result.length > 3) {\n        let isAllPass = result\n          .slice(result.length - 3, result.length)\n          .every(res => res.opt === \"Pass\");\n        let hasValidTrump = result.some(bid => bid.trick >= 0);\n        isFinishAuction = isAllPass && hasValidTrump;\n      }\n\n      // update bid\n      newBid = Object.assign({}, this.props.game.bid, {\n        result: result\n      });\n    }\n\n    let deal = this.props.game.deal;\n\n    if (isFinishAuction) {\n      deal = (declarer + 1) % 4;\n    } else {\n      deal = (deal + 1) % 4;\n    }\n\n    let newGame = Object.assign(\n      {},\n      this.props.game,\n      {bid: newBid},\n      {deal: deal},\n    );\n\n    dispatchToDatabase(\"UPDATE_AUCTION\", {\n      table: this.props.table,\n      game: newGame\n    });\n    this.setState({visibility: false, current: null});\n  }\n  render() {\n    let {game, players} = this.props;\n    let isCurrentUser =\n            players && players[game.deal] === this.props.currentUser;\n\n    let value = game.bid.trick * 5 + game.bid.trump;\n\n    // todo: refactor\n    let trickOpt, trumpOpt;\n    if (value < 0) {\n      trickOpt = Array.from({length: 7})\n        .fill(0)\n        .map((opt, index) => index);\n      trumpOpt = Array.from({length: 5})\n        .fill(0)\n        .map((opt, index) => index);\n    } else if (value === 34) {\n      trickOpt = [];\n      trumpOpt = [];\n    } else if (value % 5 === 4 && value !== 0) {\n      trickOpt = Array.from({length: 7})\n        .fill(0)\n        .map((opt, index) => index)\n        .filter(opt => opt > game.bid.trick);\n      trumpOpt = Array.from({length: 5})\n        .fill(0)\n        .map((opt, index) => index);\n    } else {\n      trickOpt = Array.from({length: 7})\n        .fill(0)\n        .map((opt, index) => index)\n        .filter(opt => opt >= game.bid.trick);\n      trumpOpt = Array.from({length: 5})\n        .fill(0)\n        .map((opt, index) => index)\n        .filter(opt => opt > game.bid.trump);\n    }\n\n    let allTrickOpt = trickOpt.map((opt, index) => (\n      <button\n        className={opt === this.state.current ? \"current\" : null}\n        onClick={() => {\n          this.validateUserTurnAndsetTrump(opt);\n        }}\n        key={getRandomKey()}>\n        {opt + 1}\n      </button>\n    ));\n\n    let selectedTrump =\n            this.state.currentTrick === trickOpt[0]\n              ? trumpOpt\n              : [0, 1, 2, 3, 4];\n\n    if (value === 34) {\n      selectedTrump = [];\n    }\n    selectedTrump = selectedTrump.map(opt => (\n      <div onClick={() => this.updateBid(opt, null)} key={getRandomKey()}>\n        {SUIT_SHAPE[opt](0.25)}\n      </div>\n    ));\n\n    let result = game.bid.result;\n\n    let DoubleBtn = result &&\n            !result[result.length - 1].opt && (\n      <button\n        className=\"d-btn\"\n        onClick={() => this.updateBid(-1, \"Double\")}>\n                    Dboule\n      </button>\n    );\n\n    let ReDoubleBtn = result &&\n            result[result.length - 1].opt === \"Double\" && (\n      <button\n        className=\"d-btn\"\n        onClick={() => this.updateBid(-1, \"ReDouble\")}>\n                    ReDouble\n      </button>\n    );\n\n    let playerThumbnails = players.map((player, index) => (\n      <div\n        key={getRandomKey()}\n        className={\n          index === this.props.game.deal\n            ? \"thumbnail current\"\n            : \"thumbnail\"\n        }>\n        <span>{player[0]}</span>\n      </div>\n    ));\n    if (this.props.isFinishAuction) return null;\n\n    return (\n      <div className=\"auction-inner\">\n        <div className=\"thumbnail-group\">{playerThumbnails}</div>\n        {!game.bid.result && (\n          <div className=\"notes\"> Start Auction </div>\n        )}\n        <AuctionList scale={0.2} result={game.bid.result} />\n        <div className=\"option-wrapper\">\n          {isCurrentUser && (\n            <div className=\"other-btns\">\n              <button\n                className=\"pass\"\n                onClick={() => this.updateBid(null, \"Pass\")}>\n                                Pass\n              </button>\n              {DoubleBtn}\n              {ReDoubleBtn}\n            </div>\n          )}\n          <div className=\"tricks\">{allTrickOpt}</div>\n          {this.state.visibility && (\n            <div className=\"trumps\">{selectedTrump}</div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport \"../style/thumbnail.scss\";\n\nexport const Thumbnail = ({name = \"\", size = 30, src = false}) => {\n  let img = src ? <img src={src} /> : <span>{name[0]}</span>;\n  \n  return (\n    <div\n      className=\"thumbnail\"\n      style={{\n        width: size,\n        height: size,\n        borderRadius: size\n      }}>\n      {img}\n    </div>\n  );\n};\n\nexport const ThumbailGroup = ({players, size, teamOrder}) => {\n  let team = players.filter((player, index) => index % 2 === teamOrder);\n  let members = team.map((player, index) => (\n    <Thumbnail key={`member-${index}`} name={player} size={size} />\n  ));\n  return <div className=\"thumbnail-group\">{members}</div>;\n};\n","import \"../style/reset.scss\";\nimport \"../style/player.scss\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {Thumbnail} from \"./thumbnail.js\";\nexport const Player = ({name, current = null}) => {\n  return (\n    <div className={current ? \"player current\" : \"player\"}>\n      <Thumbnail size={38} />\n      <div className=\"name\">{name}</div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {getRandomKey} from \"../helper/helper.js\";\nimport {AuctionList} from \"./auctionList.js\";\nimport \"../style/auction.scss\";\n\nexport class AuctionResult extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    let {table, windowWidth, windowHeight} = this.props;\n    let {game, players} = table;\n    if (!game || !game.bid.result) {\n      return null;\n    }\n    let playerThumbnails = players.map((player, index) => (\n      <div key={getRandomKey()} className=\"thumbnail\">\n        <span>{player[0]}</span>\n      </div>\n    ));\n    return (\n      <div\n        className=\"auction-result\"\n        style={{\n          top: Math.ceil(windowWidth / 500) * 5,\n          right: Math.ceil(windowWidth / 500) * 5\n        }}>\n        <div className=\"auction-result-inner\">\n          <div className=\"thumbnail-group\">{playerThumbnails}</div>\n          <AuctionList scale={0.15} result={game.bid.result} />\n        </div>\n      </div>\n    );\n  }\n}\n","import {\n  PLAYER_NUM,\n  CARD_NUM,\n  EMPTY_SEAT,\n  NO_TRUMP,\n  DEFAULT_GAME\n} from \"./constant.js\";\nimport {getRandomInt} from \"../helper/helper.js\";\n\nexport const hasSameSuitWithFirstCard = (firstCard, cards) => {\n  if (!cards) {\n    return false;\n  }\n  return (\n    firstCard &&\n        cards.filter(card => {\n          return (\n            Math.floor(card.value / CARD_NUM.HAND) ===\n                Math.floor(firstCard.value / CARD_NUM.HAND)\n          );\n        }).length > 0\n  );\n};\n\nexport const getOffsetDatabyCurrentUser = (players, game, currentUser) => {\n  if (!game || !game.cards) return;\n\n  let {cards} = game;\n\n  let cardsByPlayer = players\n    .map((userIndex, index) => {\n      return cards.filter((card, i) => i % players.length === index);\n    })\n    .slice(0);\n\n  let offsetIndex = players.findIndex(user => user === currentUser);\n\n  let isCurrentUserAPlayer = offsetIndex !== -1;\n\n  // user is curretn user\n  if (isCurrentUserAPlayer) {\n    return {\n      cardsByPlayer: [\n        ...cardsByPlayer.slice(offsetIndex),\n        ...cardsByPlayer.slice(0, offsetIndex)\n      ],\n      offsetPlayers: [\n        ...players.slice(offsetIndex),\n        ...players.slice(0, offsetIndex)\n      ],\n      offsetIndex: offsetIndex\n    };\n  }\n\n  return {\n    cardsByPlayer: cardsByPlayer,\n    offsetPlayers: players.slice(0),\n    offsetIndex: offsetIndex\n  };\n};\n\nexport const mapFlipDownCards = dislayList => {\n  if (!dislayList) return;\n  let flat = dislayList.flat();\n  let len = flat.length;\n  if (Math.floor(len / 3) < 1 && len > 1) {\n    let mid = Math.floor(len / 2);\n    return [flat.slice(0, mid), flat.slice(mid, len)];\n  } else if (Math.floor(len / 3) > 1) {\n    let threeRow = [[], [], []];\n    flat.map((card, index) => threeRow[index % 3].push(card));\n    return threeRow;\n  }\n};\n\nexport const getFirstCard = game => {\n  if (!game) {\n    return null;\n  }\n  // what is the first card of current trick\n  // in order to let players only can draw card as the same suit\n  if (\n    game.cards &&\n        game.cards.length >= PLAYER_NUM &&\n        game.order % PLAYER_NUM !== PLAYER_NUM - 1\n  ) {\n    return game.cards\n      .filter(card => card.order % PLAYER_NUM === 0)\n      .sort((cardA, cardB) => cardB.order - cardA.order)[0];\n  }\n  return null;\n};\n\nexport const shuffleCards = () => {\n  let cards = getRandomCards();\n  while (!validateShuffle(cards)) {\n    cards = getRandomCards();\n    console.log(\"shuffle cards\");\n  }\n  return cards;\n};\n\nexport const mapToFourHands = cards => {\n  if (!cards) return;\n  return [0, 0, 0, 0]\n    .map((userIndex, index) => {\n      return cards.filter((card, i) => i % 4 === index);\n    })\n    .slice(0);\n};\n\nexport const fourHands = cards => {\n  return mapToFourHands(cards).map(hand =>\n    hand.map(value => (value % 13 > 8 ? (value % 13) - 8 : 0)),\n  );\n};\n\nconst getRandomCards = () => {\n  let cards = Array.from({length: CARD_NUM.TOTAL})\n    .fill(0)\n    .map((card, i) => i);\n\n  // shuffle array algorithm\n  for (let i = cards.length - 1; i > 0; i--) {\n    let randomIndex = getRandomInt(0, CARD_NUM.TOTAL - 1);\n    [cards[i], cards[randomIndex]] = [cards[randomIndex], cards[i]];\n  }\n\n  return cards;\n};\n\nconst validateShuffle = cards => {\n  return fourHands(cards).every(\n    hand => hand.reduce((sum, value) => value + sum, 0) >= 7,\n  );\n};\n","import {CARD_NUM, NO_TRUMP} from \"./constant.js\";\nimport {getCurrentMaxTrick} from \"./getCurrentMaxTrick.js\";\n\n// which card has max value by the bid trump\nconst findMaxValueByTrump = (arr, trump) => {\n  if (!arr || trump === null || trump === undefined) {\n    return;\n  }\n  let list = arr\n    .filter(item => Math.floor(item.value / CARD_NUM.HAND) === trump)\n    .sort((cardA, cardB) => cardB.value - cardA.value);\n  return list.length ? list[0] : null;\n};\n\n// handle winner card logic\n// if there are any cards with same rank as trump, compare their face value\n// else follow first card's rank to compare value;\nexport const getWinnerCard = (game, cardValue) => {\n  if (!game) return;\n  let cards = game.cards,\n    maxTrick = getCurrentMaxTrick(cards);\n\n  let {trump} = game.bid;\n  let cardsMatchCurrentTrick = cards\n    .map((card, index) => Object.assign({}, card, {index: index}))\n    .filter(\n      card =>\n        (card.trick === maxTrick && card.trick > 0) ||\n                card.value === cardValue,\n    );\n  let winnerCard,\n    noTrumpCards = false;\n\n  if (cardsMatchCurrentTrick.length === 4) {\n    // which card is first been played\n    let first = Math.min(...cardsMatchCurrentTrick.map(card => card.order));\n    let [firstHand] = cardsMatchCurrentTrick.filter(\n      card => card.order === first,\n    );\n    // trump matters most, else, decide by what first hand has draw\n    if (trump !== NO_TRUMP) {\n      // filter trump cards, and compare their face value\n      let tmp = findMaxValueByTrump(cardsMatchCurrentTrick, trump);\n\n      if (tmp !== null) {\n        winnerCard = tmp;\n      } else {\n        noTrumpCards = true;\n      }\n    }\n\n    if (trump === NO_TRUMP || noTrumpCards) {\n      // if their quotient are the same, compare their value, else, let first win\n      let trumpRef = Math.floor(firstHand.value / CARD_NUM.HAND);\n      winnerCard = findMaxValueByTrump(cardsMatchCurrentTrick, trumpRef);\n    } // end of no trump\n  }\n\n  return winnerCard || null;\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {EMPTY_SEAT} from \"./constant.js\";\nimport {getRandomKey} from \"../helper/helper.js\";\nimport {dispatchToDatabase} from \"../reducer/reducer.js\";\nimport \"../style/ready-list.scss\";\nexport default class PlayerReadyList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.setReadyState = this.setReadyState.bind(this);\n  }\n  setReadyState(playerIndex) {\n    let {currentUser, table} = this.props;\n    if (!table) return;\n    let {game} = table;\n    let players = table.players.slice(0);\n    console.log(\"set ready state\");\n    dispatchToDatabase(\"READY_A_PLAYER\", {\n      playerIndex: playerIndex,\n      table: table\n    });\n  }\n  render() {\n    let {table, currentUser} = this.props;\n    let {game, ready, players} = table;\n    if (!game) {\n      return null;\n    }\n    let {isGameOver, order} = game;\n\n    let isEmptySeat = players.some(seat => seat === EMPTY_SEAT);\n    let isAllPlayerReady = ready.every(player => player === true);\n    let showPlayerReadyList =\n            (isEmptySeat && order < 0) || !isAllPlayerReady;\n\n    if (!showPlayerReadyList) {\n      return null;\n    }\n    let playBtns = null;\n    let thumbnails = players.map((player, index) => (\n      <div\n        key={getRandomKey()}\n        className={\n          ready[index] === false ? \"thumbnail\" : \"thumbnail ready\"\n        }>\n        <span>{player[0]}</span>\n      </div>\n    ));\n\n    let currentUserCanPlay;\n    if (players.includes(currentUser)) {\n      currentUserCanPlay = players.some(\n        (player, index) => player === currentUser && !ready[index],\n      );\n      playBtns = players.map((player, index) => {\n        if (player === currentUser && !ready[index]) {\n          return (\n            <div key={getRandomKey()}>\n              <button\n                key={getRandomKey()}\n                onClick={() => this.setReadyState(index)}\n                className=\"btn\">\n                                加入牌局\n              </button>\n            </div>\n          );\n        } else {\n          return null;\n        }\n      });\n    }\n    return (\n      <div className=\"player-ready-list\">\n        <div className=\"player-ready-list-inner\">\n          <div className=\"row\"> {thumbnails}</div>\n          {currentUserCanPlay && (\n            <div className=\"btn-wrapper\">{playBtns}</div>\n          )}\n          <div className=\"notes\">等待加入中...</div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nexport default class Timer extends React.Component {\n  constructor(props) {\n    super(props);\n    // this.state = {start: this.props.time};\n  }\n  componentDidMount() {\n    console.log(\"timer did mount\");\n  }\n  componentDidUpdate(prevProps) {\n    // if (this.props.time !== prevProps.time) {\n    //   if (new Date().getTime - this.prop.time > 3000) {\n    //     console.log(\"its over\");\n    //   } else {\n    //     this.setState({start: this.props.time});\n    //   }\n    //   // setTimeout( () => )\n    //   //   console.log(\"its different\");\n    // }\n  }\n  render() {\n    if (!this.props.time) {\n      return null;\n    }\n    // console.log(this.props.time, this.state.start);\n    return <div />;\n  }\n}\n","import \"../style/reset.scss\";\nimport \"../style/game.scss\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {getRandomInt, getRandomKey} from \"../helper/helper.js\";\nimport {dispatch, dispatchToDatabase} from \"../reducer/reducer.js\";\nimport {Card} from \"./card.js\";\nimport Trick from \"./trick.js\";\nimport {\n  CARD_NUM,\n  DIRECTION,\n  EMPTY_SEAT,\n  NO_TRUMP,\n  DEFAULT_GAME\n} from \"./constant.js\";\nimport TrickScore from \"./trickScore.js\";\nimport ScoreBoard from \"./scoreBoard.js\";\nimport Auction from \"./auction.js\";\nimport {Player} from \"./player.js\";\nimport {AuctionResult} from \"./auctionResult.js\";\nimport {\n  hasSameSuitWithFirstCard,\n  getOffsetDatabyCurrentUser,\n  mapFlipDownCards,\n  getFirstCard,\n  shuffleCards\n} from \"./examineCards.js\";\nimport {getWinnerCard} from \"./getWinnerCard.js\";\nimport PlayerReadyList from \"./playerReadyList.js\";\nimport Timer from \"./timer.js\";\n\nexport default class Game extends React.Component {\n  constructor(props) {\n    super(props);\n    let {game} = this.props.table;\n    this.state = {\n      endAuction: game.order >= 0,\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight\n    };\n    this.deal = this.deal.bind(this);\n    this.getNextMaxTrick = this.getNextMaxTrick.bind(this);\n    this.shuffle = this.shuffle.bind(this);\n    this.suffleCardsWhenReady = this.suffleCardsWhenReady.bind(this);\n    this.endAuction = this.endAuction.bind(this);\n    this.handleResize = this.handleResize.bind(this);\n    this.getAuctionStatus = this.getAuctionStatus.bind(this);\n  }\n  handleResize() {\n    this.setState({\n      windowWidth: window.innerWidth,\n      height: window.innerHeight\n    });\n  }\n  componentDidMount() {\n    this.handleResize();\n    window.addEventListener(\"resize\", this.handleResize);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.handleResize);\n  }\n  componentDidUpdate(prevProps) {\n    console.log(\"in componentDidUpdate\");\n    let newTable = this.props.table;\n    console.log(\"newTable\", newTable);\n    console.log(\"oldTable\", oldTable);\n    let oldTable = prevProps.table;\n\n    if (\n      !newTable.ready.every(\n        (player, index) => player === oldTable.ready[index]\n      )\n    ) {\n      if (newTable.ready.every(player => player === true)) {\n        console.log(\"should shuffle\");\n        this.suffleCardsWhenReady();\n      }\n    }\n  }\n  suffleCardsWhenReady() {\n    // when seats is full and has no cards on databse\n    let {players, game} = this.props.table;\n    if (players) {\n      let isFourSeatsFull = players.every(seat => seat !== EMPTY_SEAT);\n      if (isFourSeatsFull && !game.cards) {\n        console.log(\" should shuffle, in suffleCardsWhenReady\" );\n        this.shuffle();\n      }\n    }\n  }\n  // so far, how many tricks have been played ?\n  getNextMaxTrick() {\n    let {game} = this.props.table;\n    if (!game) {\n      return;\n    }\n    let cards = game.cards,\n      maxTrick = Math.max(...cards.map(card => card.trick)),\n      maxTrickNum = cards.filter(card => card.trick === maxTrick).length;\n    if (maxTrick === 0 || maxTrickNum >= 4) {\n      return maxTrick + 1;\n    }\n    return maxTrick;\n  }\n  endAuction() {\n    this.setState({endAuction: true});\n  }\n\n  deal(value) {\n    let {table} = this.props;\n    let {game} = this.props.table;\n    if (!game) {\n      return;\n    }\n    let currentPlayer = game.deal;\n    let order = game.order + 1;\n\n    dispatchToDatabase(\n      \"UPDATE_CURRENT_TRICK\",\n      Object.assign(\n        {},\n        {\n          table: table,\n          value: value,\n          time: new Date().getTime(),\n          maxTrick: this.getNextMaxTrick(),\n          order: order,\n          deal: (game.deal + 1) % 4\n        },\n      ),\n    );\n\n    let winnerCard = getWinnerCard(game, value);\n\n    // make sure winnerCard exists, and write winner to database\n    if (winnerCard) {\n      // remove index data while dispatch to database\n      let card = Object.assign({}, winnerCard);\n      delete card.index;\n\n      dispatchToDatabase(\n        \"UPDATE_WINNER_CARD\",\n        Object.assign({}, this.props, {\n          table: table,\n          winnerCard: card,\n          order: order,\n          deal: card.player\n        }),\n      );\n    }\n  }\n  shuffle() {\n    let cards = shuffleCards();\n    // get new cards\n    cards = cards.map(card => ({\n      value: card,\n      trick: 0\n    }));\n    // todo bid\n    dispatchToDatabase(\"ADD_NEW_DECK_TO_TABLE\", {\n      table: this.props.table,\n      cards: cards\n    });\n  }\n  getAuctionStatus(game) {\n    // check if fishish auction\n    let result = game.bid.result;\n\n    if (!game || !result) {\n      return false;\n    }\n    return (\n      result.length >= 4 &&\n            result.some(bid => bid.trick >= 0) &&\n            result.slice(result.length - 3).every(res => res.opt === \"Pass\")\n    );\n  }\n  render() {\n    let {table, currentUser} = this.props;\n    let {game, players, ready} = table;\n    let {cards, isGameOver} = game;\n\n    let isEndOfCurrentTrick = game.order % 4 === 3;\n    let isFinishAuction = this.getAuctionStatus(game);\n    // set true to give dummy's card to declarer\n    let isDummyMode = isFinishAuction && true;\n\n    // class name for each hand\n    let hands;\n    let {cardsByPlayer, offsetPlayers, offsetIndex} =\n            getOffsetDatabyCurrentUser(players, game, currentUser) || {};\n\n    // turn cards to 4 hands\n    if (cards && cards.length === CARD_NUM.TOTAL) {\n      let currentUserIndex = players.findIndex(\n        user => user === currentUser,\n      );\n\n      // create dom element by cards in user's hand\n      let flipIndex = isDummyMode ? (game.bid.declarer + 2) % 4 : 6;\n\n      if (flipIndex < 4) {\n        flipIndex = offsetPlayers.findIndex(\n          player => player === players[flipIndex],\n        );\n      }\n\n      let currentTurnPlayer = players[game.deal];\n      let isCurrentUserPlayer = players.includes(currentUser);\n\n      hands = cardsByPlayer.map((hand, index) => {\n        let playerHand = offsetPlayers[index];\n        // let playerHand = offsetPlayers[index];\n        let playerHandIndex = index; // zero will alwasy be current login user\n\n        // makesure dummy hand can view declarer's card\n        if (flipIndex === 0) {\n          flipIndex = 2;\n        }\n\n        hand = hand\n          .sort((a, b) => a.value - b.value)\n          .filter(card => card.trick === 0);\n\n        if (index === 1) {\n          hand = hand.sort((a, b) => b.value - a.value);\n        }\n\n        let currentUserIndex = 0;\n\n        // handle display issue for both weat/east players\n        let handCopy = hand.map(userHand =>\n          Object.assign({}, userHand),\n        );\n\n        let display = [[], [], [], []];\n        handCopy.map(card =>\n          display[Math.floor(card.value / CARD_NUM.HAND)].push(card),\n        );\n\n        // handle flip down card, group them into n rows base on\n        // how many cards left\n        display = display.filter(item => item.length !== 0);\n\n        // decide to flip down which players card\n        // use playerHandIndex to decide , playerHandIndex 0 means current user\n        if (\n          playerHandIndex !== currentUserIndex &&\n                    playerHandIndex !== flipIndex\n        ) {\n          let mapResult = mapFlipDownCards(display);\n          if (mapResult) {\n            display = mapResult;\n          }\n        }\n\n        // handle sort isssue of west player, should sort\n        // from big to small\n\n        let firstCard = getFirstCard(game);\n\n        let hasFollowSameSuit = hasSameSuitWithFirstCard(\n          firstCard,\n          display.flat(),\n        );\n\n        let cardsInHand = display.map((each, index) => {\n          // use playerHandIndex to decide flip up whose cards\n          // playerHandIndex === 0 means current user\n          let declarerIndex = game.bid.declarer;\n\n          let dummyPlayerIndex = (declarerIndex + 2) % 4;\n          let dummyPlayer = players[dummyPlayerIndex];\n\n          let declarerPlayer = players[declarerIndex];\n\n          // if player is nither declarer nor dummy plaer\n          let isValidCard = isFinishAuction && isCurrentUserPlayer;\n          let canBeClick =\n                        isValidCard &&\n                        // current player is equal to south;\n                        currentTurnPlayer === playerHand &&\n                        playerHandIndex === currentUserIndex;\n\n          // current turn is dummay hand, and current login user is declare,\n          // let current user can control dummy hand's card\n          if (\n            isDummyMode &&\n                        isValidCard &&\n                        dummyPlayer === currentTurnPlayer\n          ) {\n            if (\n              currentUser === declarerPlayer &&\n                            playerHandIndex === 2\n            ) {\n              canBeClick = true;\n            }\n            if (\n              currentUser === dummyPlayer &&\n                            playerHandIndex === currentUserIndex\n            ) {\n              canBeClick = false;\n            }\n          }\n\n          let flipUp =\n                        !isCurrentUserPlayer ||\n                        playerHandIndex === currentUserIndex ||\n                        playerHandIndex === flipIndex;\n\n          // if those card has same suit with first player,\n          // users need only to draw those cards\n          // if not, they can draw any cards\n          let allowClickEvt = card => {\n            return (\n              firstCard === null ||\n                            !hasFollowSameSuit ||\n                            Math.floor(card.value / CARD_NUM.HAND) ===\n                                Math.floor(firstCard.value / CARD_NUM.HAND)\n            );\n          };\n\n          return each.map((card, i) => (\n            <Card\n              name={\n                canBeClick && allowClickEvt(card)\n                  ? `click-able l${index} item-${i}`\n                  : `l${index} item-${i}`\n              }\n              flipUp={flipUp}\n              evt={\n                canBeClick && allowClickEvt(card)\n                  ? this.deal\n                  : null\n              }\n              key={getRandomKey()}\n              value={card.value}\n            />\n          ));\n        });\n\n        // calculate hand style and card postion\n        let totalCardsInHand = cardsInHand\n          .map(suit => suit.length)\n          .reduce((sum, len) => sum + len, 0);\n        let totalSuitType = cardsInHand.filter(\n          suit => suit.length !== 0,\n        ).length;\n\n        // handle resize\n        let sidebarWidth = this.state.windowWidth >= 1200 ? 480 : 400;\n        let horCardOffset = 40;\n        let horCardStyle =\n                    DIRECTION[index] === \"north\" || DIRECTION[index] === \"south\"\n                      ? {\n                        left:\n                                  (this.state.windowWidth -\n                                      sidebarWidth -\n                                      (horCardOffset * totalCardsInHand +\n                                          horCardOffset)) /\n                                  2\n                      }\n                      : null;\n\n        const getHandHeight = suitNum => {\n          let cardh = 125,\n            shift = 70;\n          return (\n            suitNum * cardh - (cardh - shift) * (suitNum - 1) + 10\n          );\n        };\n\n        let verCardStyle =\n                    DIRECTION[index] === \"west\" || DIRECTION[index] === \"east\"\n                      ? {\n                        top:\n                                  (this.state.windowHeight -\n                                      getHandHeight(totalSuitType)) /\n                                  2\n                      }\n                      : null;\n\n        return (\n          <div\n            className={DIRECTION[index]}\n            style={horCardStyle || verCardStyle}\n            key={getRandomKey()}>\n            <div className=\"hand-inner\">\n              <div className=\"user-hand\">{cardsInHand}</div>\n              <Player\n                current={\n                  currentTurnPlayer === playerHand &&\n                                    isFinishAuction\n                }\n                name={playerHand}\n              />\n            </div>\n          </div>\n        );\n      });\n    } // end of cards\n\n    let isAllReady = table.ready.every(player => player === true);\n\n    // dom elements\n    if (isGameOver) {\n      return (\n        <div className=\"game\">\n          <div>\n            <ScoreBoard\n              startGame={this.suffleCardsWhenReady}\n              currentUser={currentUser}\n              windowWidth={this.state.windowWidth}\n              widnowHeight={this.state.windowHeight}\n              table={table}\n            />\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"game\">\n        <Timer time={game.time} />\n        {!isAllReady && (\n          <PlayerReadyList\n            suffleCardsWhenReady={this.suffleCardsWhenReady}\n            currentUser={currentUser}\n            table={this.props.table}\n          />\n        )}\n        {isFinishAuction && (\n          <AuctionResult\n            windowWidth={this.state.windowWidth}\n            windowHeight={this.state.windowHeight}\n            table={table}\n          />\n        )}\n        <div className=\"auction\">\n          {game.bid &&\n                        game.cards && (\n            <Auction\n              isFinishAuction={isFinishAuction}\n              endAuction={this.endAuction}\n              game={game}\n              table={table}\n              currentUser={currentUser}\n              players={players}\n            />\n          )}\n        </div>\n        <div className=\"arena\">\n          <div className=\"hands\">{hands}</div>\n          <Trick\n            cards={cards}\n            cardsByPlayer={cardsByPlayer}\n            order={game.order}\n            isTrickFinish={isEndOfCurrentTrick}\n          />\n          <TrickScore\n            resizeRatio={0.15}\n            innerStyle={{\n              bottom: Math.ceil(this.state.windowWidth / 500) * 5,\n              right: Math.ceil(this.state.windowWidth / 500) * 5\n            }}\n            thumbnailSize={30}\n            name=\"right-bottom-pos\"\n            windowWidth={this.state.windowWidth}\n            widnowHeight={this.state.windowHeight}\n            table={this.props.table}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Link} from \"react-router-dom\";\nimport {dispatch, store} from \"../reducer/reducer.js\";\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\"\n    };\n    this.handleName = this.handleName.bind(this);\n  }\n  handleName(e) {\n    this.setState({name: e.target.value});\n  }\n  render() {\n    return (\n      <div>\n                login Component\n        <input\n          onChange={this.handleName}\n          type=\"text\"\n          value={this.state.name}\n        />\n        <Link\n          onClick={() => this.props.login(this.state.name)}\n          to=\"/lobby\">\n                    login\n        </Link>\n        <br />\n        <Link onClick={() => this.props.login(\"1\")} to=\"/lobby\">\n                    player 1\n        </Link>\n        <br />\n        <Link onClick={() => this.props.login(\"C-1\")} to=\"/lobby\">\n                    player C-1\n        </Link>\n        <br />\n        <Link onClick={() => this.props.login(\"C-2\")} to=\"/lobby\">\n                    player C-2\n        </Link>\n        <br />\n        <Link onClick={() => this.props.login(\"C-3\")} to=\"/lobby\">\n                    player C-3\n        </Link>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class CreateTable extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return <div>CreateTable Component section</div>;\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {SUIT_SHAPE} from \"../constant.js\";\nimport {teamScore} from \"../socre.js\";\n\nexport default class RecordItem extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    let {index, record, current} = this.props;\n    if (!record) {\n      return (\n        <div className=\"record-item\">\n          <div className=\"empty\" />\n        </div>\n      );\n    }\n    let score = teamScore(record.cards);\n    return (\n      <div\n        onClick={() => this.props.changeRecord(index)}\n        className={\n          current\n            ? \"record-item active current\"\n            : \"record-item active\"\n        }>\n        <div>{index + 1}</div>\n        <div className=\"bid\">\n          <span>{record.bid.trick + 1}</span>\n          {SUIT_SHAPE[record.bid.trump](0.15)}\n        </div>\n        <div>{score.teamA}</div>\n        <div>{score.teamB}</div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport const Dot = ({current, page, changePage}) => {\n  return (\n    <div\n      onClick={() => changePage(page)}\n      className={current ? \"dot current\" : \"dot\"}\n    />\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport RecordItem from \"./recordItem.js\";\nimport {ThumbailGroup} from \"../thumbnail.js\";\nimport {Dot} from \"../dotIndicator/dot.js\";\n\nexport default class GameRecord extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 0\n    };\n    this.changePage = this.changePage.bind(this);\n  }\n  changePage(page) {\n    this.setState({page: page});\n  }\n  render() {\n    let resultNum = 4;\n    let {record} = this.props;\n    if (!record) {\n      return (\n        <div className=\"record-empty\">No available game records</div>\n      );\n    }\n    let recordList, dots, dotsNum;\n    if (record) {\n      if (record.length < resultNum) {\n        record = record\n          .concat([null, null, null, null])\n          .slice(0, resultNum + 1);\n      } else {\n        let start = this.state.page * 5;\n        let end = start + 5 > record.length ? record.length : start + 5;\n        record =\n                    end === start + 5\n                      ? record.slice(start, end)\n                      : record\n                        .slice(start, end)\n                        .concat(...[null, null, null, null]);\n      }\n      recordList = record.map((recordItem, index) => (\n        <RecordItem\n          key={`record-item-${index}`}\n          index={index}\n          changeRecord={this.props.changeRecord}\n          current={this.props.currentRecord === index}\n          record={recordItem}\n        />\n      ));\n\n      dotsNum = Math.ceil(record.length / 4);\n      dots =\n                dotsNum <= 1\n                  ? null\n                  : (dots = Array.from({length: dotsNum})\n                    .fill(0)\n                    .map((dotItem, index) => (\n                      <Dot\n                        key={`dot-${index}`}\n                        changePage={this.changePage}\n                        page={index}\n                        current={index === this.state.page}\n                      />\n                    )));\n    }\n\n    return (\n      <div className=\"record-list\">\n        {this.props.record && (\n          <div className=\"record-header\">\n            <div />\n            <div />\n            <ThumbailGroup\n              teamOrder={0}\n              players={this.props.players}\n              size={32}\n            />\n            <ThumbailGroup\n              teamOrder={1}\n              players={this.props.players}\n              size={32}\n            />\n          </div>\n        )}\n        {recordList}\n        <div className=\"dots-holder\">\n          <div className=\"dots-holder-inner\">{dots}</div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {Thumbnail} from \"../thumbnail.js\";\nimport {CARD_NUM, CARD_RANK, SUIT_SHAPE} from \"../constant.js\";\n\nexport const Hand = ({player, cards, direction}) => {\n  let display = [[], [], [], []];\n  cards.map(card => display[Math.floor(card.value / 13)].push(card));\n  let displaySuit = display.map((suit, index) => (\n    <div className=\"hand\" key={`suit-${index}`}>\n      <div>{SUIT_SHAPE[index](0.15)}</div>\n      <div className=\"card-value\">\n        {suit.map((card, index) => (\n          <div key={`suit-${index}`}>\n            {CARD_RANK[card.value % CARD_NUM.HAND]}\n          </div>\n        ))}\n      </div>\n    </div>\n  ));\n  return (\n    <div className={`rewind-player ${direction}`}>\n      <div>\n        <Thumbnail name={player} size={26} />\n      </div>\n      <div className=\"hand-wrapper\">{displaySuit}</div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {Thumbnail} from \"../thumbnail.js\";\nimport {CARD_NUM, CARD_RANK, SUIT_SHAPE} from \"../constant.js\";\n\nexport const RewindAuction = ({players, bid}) => {\n  let {declarer, trump, trick} = bid;\n  return (\n    <div className=\"rewind-auction\">\n      <h3>Auction</h3>\n      <div>\n        <Thumbnail name={players[declarer]} size={26} />\n      </div>\n      <div>\n        {trick + 1} {SUIT_SHAPE[trump](0.15)}\n      </div>\n    </div>\n  );\n};\n\n\n\n\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {ThumbailGroup} from \"../thumbnail.js\";\nimport {teamScore} from \"../socre.js\";\n\nexport const RewindResult = ({players, cards}) => {\n  let score = teamScore(cards);\n  return (\n    <div className=\"rewind-result\">\n      <h3>Result</h3>\n      <div>\n        <ThumbailGroup teamOrder={0} players={players} size={20} />\n        <div>{score.teamA}</div>\n      </div>\n      <div>\n        <ThumbailGroup teamOrder={1} players={players} size={20} />\n        <div>{score.teamB}</div>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Hand} from \"./hand.js\";\nimport {mapToFourHands} from \"../examineCards.js\";\nimport {DIRECTION} from \"../constant.js\";\nimport {RewindAuction} from \"./rewindAuction.js\";\nimport {RewindResult} from \"./rewindResult.js\";\n\nexport default class GameRewind extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    if (!this.props.record) {\n      return null;\n    }\n    let {cards, bid} = this.props.record;\n    let fourHandCards = mapToFourHands(cards);\n    let fourHands = fourHandCards.map((cards, index) => (\n      <Hand\n        direction={DIRECTION[index]}\n        key={`hand-${index}`}\n        cards={cards}\n        player={this.props.players[index]}\n      />\n    ));\n    return (\n      <div className=\"rewind\">\n        {fourHands}\n        <RewindAuction players={this.props.players} bid={bid} />\n        <RewindResult players={this.props.players} cards={cards} />\n        <div />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport reactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {app} from \"../firebase/firebase.js\";\nimport {dispatch, dispatchToDatabase} from \"../reducer/reducer.js\";\n\nexport default class Chatroom extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: \"\"\n    };\n    this.sendMessage = this.sendMessage.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n  }\n  handleKeyPress(e) {\n    if (e.key === \"Enter\" && this.state.message.length) {\n      this.sendMessage();\n    }\n  }\n  sendMessage(e) {\n    dispatchToDatabase(\"SEND_MESSAGE_TO_CHATROOM\", {\n      message: this.state.message,\n      currentUser: this.props.currentUser,\n      table: this.props.table\n    });\n    this.setState({message: \"\"});\n  }\n  handleChange(e) {\n    this.setState({message: e.currentTarget.value});\n  }\n  render() {\n    if (!chatroom) {\n      return null;\n    }\n    console.log(chatroom);\n    let {currentUser, table, chatroom} = this.props;\n    let chatLen = 30;\n    let end = Object.keys(chatroom.message).length;\n    let chatStart = end - chatLen >= 0 ? end - chatLen : 0;\n    let messageList;\n    if (chatroom && chatroom.message) {\n      messageList = Object.keys(chatroom.message)\n        .sort((a, b) => +a - +b)\n        .slice(chatStart, end)\n        .map((id, index) => (\n          <div key={`message-${index}`}>\n            {chatroom.message[id].user}\n            {chatroom.message[id].content}\n          </div>\n        ));\n    }\n\n    console.log(\"chatroom\", chatroom);\n    return (\n      <div>\n        <div>{messageList}</div>\n\n        <input\n          type=\"textarea\"\n          value={this.state.message}\n          onChange={this.handleChange}\n          onKeyPress={this.handleKeyPress}\n        />\n        <button onClick={this.sendMessage}>send</button>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport GameRecord from \"./gameRecord.js\";\nimport GameRewind from \"./gameRewind.js\";\nimport {TAB_OPTION} from \"../constant.js\";\nimport Chatroom from \"../chatroom.js\";\n\nexport default class Sidebar extends React.Component {\n  constructor(props) {\n    super(props);\n    let {record} = this.props.table;\n    this.state = {\n      tab: 0,\n      currentRecord: record ? record.length - 1 : null\n    };\n    this.changeRecord = this.changeRecord.bind(this);\n  }\n  changeRecord(index) {\n    this.setState({currentRecord: index});\n  }\n  render() {\n    if (!this.props.table) return null;\n    let options = TAB_OPTION.map((opt, i) => (\n      <div\n        className={this.state.tab === i ? \"current\" : \"\"}\n        key={`opt-${i}`}>\n        {opt}\n      </div>\n    ));\n    let currentRecord = null;\n    if (this.props.table.record) {\n      currentRecord =\n                this.state.currentRecord >= 0 &&\n                this.props.table.record[this.state.currentRecord];\n    }\n    return (\n      <div className=\"sidebar\">\n        <div className=\"tabs\">{options}</div>\n        <div>\n          <Chatroom\n            currentUser={this.props.currentUser}\n            chatroom={this.props.chatroom}\n            table={this.props.table}\n          />\n        </div>\n        {false && (\n          <div>\n            <GameRecord\n              players={this.props.table.players}\n              record={this.props.table.record || null}\n              changeRecord={this.changeRecord}\n              currentRecord={this.state.currentRecord}\n            />\n            <GameRewind\n              players={this.props.table.players}\n              record={currentRecord}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Game from \"./game.js\";\nimport {getRandomInt, getObjSortKey, getRandomKey} from \"../helper/helper.js\";\nimport {Redirect} from \"react-router-dom\";\nimport {dispatch, dispatchToDatabase} from \"../reducer/reducer.js\";\nimport Sidebar from \"./sidebar/sidebar.js\";\nimport {app} from \"../firebase/firebase.js\";\nimport {EMPTY_SEAT} from \"./constant.js\";\nimport \"../style/table.scss\";\nimport \"../style/sidebar.scss\";\nimport \"../style/record-item.scss\";\nimport \"../style/record.scss\";\nimport \"../style/dot.scss\";\nimport \"../style/rewind.scss\";\n\nexport default class Table extends React.Component {\n  constructor(props) {\n    super(props);\n    this.linkId = this.props.match.params.id;\n    let tableKey = this.props.tableList[this.linkId].id;\n    // only fetch data\n    app.getNodeByPath(`tables/${tableKey}`, value => {\n      return dispatch(\"UPDATE_TABLE_DATA\", {\n        table: value.val(),\n        id: tableKey\n      });\n    });\n    app.getNodeByPath(`chatroom/${tableKey}`, value => {\n      return dispatch(\"UPDATE_CHAT_ROOM\", {\n        chatroom: value.val()\n      });\n    });\n    this.addPlayerToTable = this.addPlayerToTable.bind(this);\n  }\n  componentDidMount() {\n    this.linkId = this.props.match.params.id;\n    let tableKey = this.props.tableList[this.linkId].id;\n\n    console.log(\"comp did mount, table\");\n    // fetch data again\n    app.getNodeByPath(`tables/${tableKey}`, value => {\n      return dispatch(\"UPDATE_TABLE_DATA\", {\n        table: value.val(),\n        id: tableKey\n      });\n    });\n    app.getNodeByPath(`chatroom/${tableKey}`, value => {\n      return dispatch(\"UPDATE_CHAT_ROOM\", {\n        chatroom: value.val()\n      });\n    });\n  }\n  componentWillUnmount() {\n    console.log(\"will unmount\");\n    let tableKey = this.props.tableList[this.linkId].id;\n    app.cancelListenDataChange(`tables/${tableKey}`);\n  }\n  addPlayerToTable(table) {\n    if (!table) return;\n    console.log(\"table -------- should have value\", table);\n    let {players} = table;\n    let emptySeatIndex = players.findIndex(seat => seat === EMPTY_SEAT);\n    let hasJoin = players.some(seat => seat === this.props.currentUser);\n    if (emptySeatIndex > -1 && !hasJoin) {\n      console.log(\"didn't join\");\n      dispatchToDatabase(\"ADD_PLAYER_TO_TABLE\", {\n        currentUser: this.props.currentUser,\n        table: table,\n        emptySeatIndex: emptySeatIndex\n      });\n    }\n  }\n  componentDidUpdate(prevProps) {\n    console.log(\"in componentDidUpdate , comp table\");\n    let linkId = this.props.match.params.id;\n    let tableKey = this.props.tableList[linkId].id;\n    if (this.props.tables[tableKey] !== prevProps.tables[tableKey]) {\n      console.log(\"current table is updated\");\n      this.addPlayerToTable(this.props.tables[tableKey]);\n    }\n  }\n  render() {\n    if (!Object.keys(this.props.tables).length) {\n      return <div>loading</div>;\n    }\n    let {tables, currentUser} = this.props;\n    let linkId = this.props.match.params.id;\n    let tableKey = this.props.tableList[linkId].id;\n    console.log(\"tables\", tables);\n    console.log(\"es[tableKey]\", tables[tableKey]);\n    if (!tables || !tables[tableKey]) {\n      return null;\n    }\n    console.log(\"linkId\", linkId);\n    console.log(\"tableKey\", tableKey);\n    let targetTable = tables[tableKey];\n    console.log(\"targetTable\", targetTable);\n    if (targetTable.gameState && targetTable.gameState === \"close\") {\n      return <Redirect to=\"/lobby\" />;\n    }\n    return (\n      <div className=\"table\">\n        <Game currentUser={currentUser} table={targetTable} />\n        <Sidebar\n          currentUser={currentUser}\n          chatroom={this.props.chatroom}\n          table={targetTable}\n        />\n      </div>\n    );\n  }\n}\n","import \"../style/reset.scss\";\nimport \"../style/header.scss\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Link} from \"react-router-dom\";\nimport logoImg from \"../images/logo.png\";\nimport messageSvg from \"../images/message.svg\";\nimport {dispatchToDatabase} from \"../reducer/reducer.js\";\n\nexport default class Header extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (\n      <header className={this.props.path.includes(\"table\") ? \n        \"table-header\" : \"\"} >\n        <div>\n          <Link to=\"/lobby\">\n            <img src={logoImg} />\n            <h1>Bridge Together</h1>\n          </Link>\n        </div>\n        <div>\n          <img src={messageSvg} />\n          <div>{this.props.user || \"Sign In / Sign Up\"}</div>\n        </div>\n      </header>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {Link} from \"react-router-dom\";\nimport {getRandomKey} from \"../helper/helper.js\";\nimport {dispatch} from \"../reducer/reducer.js\";\nimport {EMPTY_SEAT} from \"../components/constant.js\";\nimport {getObj, getObjSortKey} from \"../helper/helper.js\";\nimport {app} from \"../firebase/firebase.js\";\nimport {dispatchToDatabase} from \"../reducer/reducer.js\";\nimport \"../style/table-list.scss\";\n\nexport default class OpenTables extends React.Component {\n  constructor(props) {\n    super(props);\n    this.createTable = this.createTable.bind(this);\n  }\n  createTable(tableRef) {\n    console.log(\"should do\");\n    dispatchToDatabase(\"CREATE_TABLE\", {\n      tableRef: tableRef,\n      currentUser: this.props.currentUser\n    });\n  }\n  render() {\n    let tableList = this.props.tableList;\n    if (!tableList) {\n      return (\n        <div>\n          <h3>Open table</h3>\n          <div> loading... </div>\n          <button onClick={()=> {this.createTable(new Date().getTime())}}>Open a new table</button>\n        </div>\n      );\n    }\n    let tableListKey = Object.keys(tableList);\n    let filteredList = tableListKey.filter(\n      key =>\n        tableList[key].players\n          ? tableList[key].players.some(seat => seat === EMPTY_SEAT)\n          : !tableList[key].players,\n    );\n    let tableLinks = filteredList.map((key, index) => {\n      let players = this.props.tableList[key].players;\n      let emptySeats = players\n        ? players.filter(player => player === EMPTY_SEAT).length\n        : 4;\n      let owner = players ? players[0] : \"\";\n      return (\n        <div\n          className=\"table-list-item\"\n          key={`tablelist-item-${index}}`}>\n          <div>{index + 1}</div>\n          <div>{owner}</div>\n          <div className=\"empty-seats\">{emptySeats} </div>\n          <div>\n            <Link\n              className=\"btn-style-border\"\n              key={key}\n              to={`/table/${key}`}>\n                            Play\n            </Link>\n          </div>\n        </div>\n      );\n    });\n    // onClick={() => this.addPlayerToTable(key)}\n    let tableRef = new Date().getTime();\n    let openBtn = this.props.openBtn && (\n      <Link\n        className=\"btn-style-border\"\n        onClick={() => this.createTable(tableRef)}\n        to={`/table/${tableRef}`}>\n                Open table\n      </Link>\n    );\n\n    return (\n      <div className=\"table-list\">\n        {this.props.title && <h4>{this.props.title}</h4>}\n        {!this.props.isLoad && (\n          <div>\n            <div className=\"table-list-item-group\">loading... </div>\n          </div>\n        )}\n        <div className=\"btn-group\">\n          <button className=\"btn-style\">Match me</button>\n        </div>\n        <div className=\"table-list-header\">\n          <div>No.</div>\n          <div>Owner</div>\n          <div>Available seat</div>\n          <div>{openBtn}</div>\n        </div>\n        <div className=\"table-list-item-group\">{tableLinks}</div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {Link} from \"react-router-dom\";\nimport {getRandomKey} from \"../helper/helper.js\";\nimport {dispatch} from \"../reducer/reducer.js\";\nimport {EMPTY_SEAT} from \"../components/constant.js\";\nimport {getObj, getObjSortKey} from \"../helper/helper.js\";\nimport {app} from \"../firebase/firebase.js\";\nimport {dispatchToDatabase} from \"../reducer/reducer.js\";\nimport \"../style/table-list.scss\";\n\nexport default class OpenTables extends React.Component {\n  constructor(props) {\n    super(props);\n    this.createTable = this.createTable.bind(this);\n  }\n  createTable(tableRef) {\n    dispatchToDatabase(\"CREATE_TABLE\", {\n      tableRef: tableRef,\n      currentUser: this.props.currentUser\n    });\n  }\n  render() {\n    let {tableList} = this.props;\n    if (!tableList) {\n      return (\n        <div>\n          <h3>Open table</h3>\n          <div> loading... </div>\n          <button>Open a new table</button>\n        </div>\n      );\n    }\n    let tableListKey = Object.keys(tableList);\n    let playingTables = tableListKey.filter(\n      key =>\n        tableList[key].players &&\n                !tableList[key].players.some(player => player === EMPTY_SEAT),\n    );\n    let tableLinks = playingTables.map((key, index) => {\n      let players = this.props.tableList[key].players;\n      let [south, west, north, east] = players;\n      return (\n        <div\n          className=\"playing-table\"\n          key={`playing-table-item-${index}}`}>\n          <div>{index + 1}</div>\n          <div>{south}</div>\n          <div>{west}</div>\n          <div>{north}</div>\n          <div>{east}</div>\n          <div>\n            <Link className=\"btn-style-border\" to={`/table/${key}`}>\n                            View\n            </Link>\n          </div>\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"table-list\">\n        <h4>Live</h4>\n        {!this.props.isLoad && (\n          <div>\n            <div className=\"table-list-item-group\">loading... </div>\n          </div>\n        )}\n        <div className=\"table-list-header playing-table-header\">\n          <div>No.</div>\n          <div>South</div>\n          <div>West</div>\n          <div>North</div>\n          <div>East</div>\n          <div />\n        </div>\n        <div className=\"table-list-item-group\">{tableLinks}</div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport {\n  IndexRoute,\n  BrowserRouter,\n  Router,\n  Route,\n  Switch,\n  Link\n} from \"react-router-dom\";\nimport OpenTables from \"./openTables.js\";\nimport PlayingTables from \"./playingTables.js\";\nimport \"../style/lobby.scss\";\nimport openImg from \"../images/open.svg\";\nimport playImg from \"../images/play.svg\";\n\nexport default class Lobby extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (\n      <div className=\"lobby\">\n        <div className=\"lobby-title\">\n          <h2>Welcome to Wow Bridge</h2>\n        </div>\n        <div className=\"table-lists\">\n          <div className=\"table-list-wrapper\">\n            <h3>Open</h3>\n            <div className=\"table-num\">\n              <span>3</span> <b>tables</b>\n            </div>\n            <div className=\"table-list-inner\">\n              <img src={openImg} />\n              <OpenTables\n                title={false}\n                isLoad={true}\n                openBtn={true}\n                currentUser={this.props.currentUser}\n                open={true}\n                tableList={this.props.tableList}\n              />\n            </div>\n          </div>\n          <div className=\"table-list-wrapper\">\n            <h3>Playing</h3>\n            <div className=\"table-num\">\n              <span>3</span> <b>tables</b>\n            </div>\n            <div className=\"table-list-inner\">\n              <img src={playImg} />\n              <PlayingTables\n                title={false}\n                isLoad={true}\n                openBtn={true}\n                open={false}\n                currentUser={this.props.currentUser}\n                tableList={this.props.tableList}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// <TableList\n//   currentUser={this.props.currentUser}\n//   tableList={this.props.tableList}\n// />\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nexport default class Loading extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return <div>loading...</div>;\n  }\n}\n","import \"./style/main.scss\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Game from \"./components/game.js\";\nimport Login from \"./components/login.js\";\nimport CreateTable from \"./components/createTable.js\";\nimport Table from \"./components/table.js\";\nimport Header from \"./components/header.js\";\nimport Lobby from \"./components/lobby.js\";\nimport Loading from \"./components/loading.js\";\nimport {\n  IndexRoute,\n  BrowserRouter,\n  Router,\n  Route,\n  Switch,\n  Link,\n  withrouter\n} from \"react-router-dom\";\nimport {dispatch, store} from \"./reducer/reducer.js\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = store.getState();\n    this.handleLogin = this.handleLogin.bind(this);\n    this.update = this.update.bind(this);\n    this.stopLoading = this.stopLoading.bind(this);\n  }\n  update() {\n    this.setState(store.getState());\n  }\n  componentDidUnMount() {\n    this.unSubscribe();\n  }\n  componentDidMount() {\n    this.unSubscribe = store.subscribe(this.update.bind(this));\n    this.stopLoading();\n    // setTimeout(this.stopLoading, 10);\n  }\n  handleLogin(name) {\n    dispatch(\"HANDLE_LOGIN\", {name: name});\n  }\n  stopLoading() {\n    dispatch(\"STOP_LOADING\", {isLoad: true});\n  }\n  render() {\n    let pathName = window.location.pathname;\n    console.log(this.state);\n    if (!this.state.isLoad) {\n      return <Loading />;\n    }\n    return (\n      <div>\n        <BrowserRouter>\n          <div>\n            <Header path={pathName}  user={this.state.currentUser} />\n            {!this.state.currentUser && (\n              <Route\n                path=\"/\"\n                render={props => (\n                  <Login login={this.handleLogin} />\n                )}\n              />\n            )}\n            {this.state.currentUser && (\n              <div>\n                <Route\n                  path=\"/table/:id\"\n                  render={props => (\n                    <Table\n                      chatroom={this.state.chatroom}\n                      tables={this.state.tables}\n                      tableList={this.state.tableList}\n                      currentUser={this.state.currentUser}\n                      {...props}\n                    />\n                  )}\n                />\n                <Route\n                  exact\n                  path=\"/lobby\"\n                  render={() => (\n                    <Lobby\n                      tables={this.state.tables || null}\n                      currentUser={this.state.currentUser}\n                      tableList={this.state.tableList}\n                    />\n                  )}\n                />\n                <Route\n                  exact\n                  path=\"/createTable\"\n                  render={() => <CreateTable />}\n                />\n              </div>\n            )}\n          </div>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById(\"main\"));\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"c0d3da8d159baa9ecdc0413d36fd5888.svg\";","module.exports = __webpack_public_path__ + \"fdb4e8debbfd9c2e44a38f528e320ee4.svg\";","module.exports = __webpack_public_path__ + \"7df62acafa694b8c1a4a0528fb6546cc.svg\";"],"sourceRoot":""}